var Filer=(()=>{var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Bi=y(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0}),ki.promisify=yn;var gm="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__";function yn(t){if(typeof t!="function")throw new TypeError("Argument to promisify must be a function");var e=t[gm],r=yn.Promise||Promise;if(typeof r!="function")throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var n=this,i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return new r(function(a,u){s.push(function(f){if(f)return u(f);for(var c=arguments.length,d=Array(1<c?c-1:0),m=1;m<c;m++)d[m-1]=arguments[m];if(d.length===1||!e)return a(d[0]);var h={};d.forEach(function(l,p){var g=e[p];g&&(h[g]=l)}),a(h)}),t.apply(n,s)})}}yn.argumentNames="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__",yn.Promise=void 0});var Za=y((XP,Xa)=>{Xa.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var Qa=y((ZP,Gi)=>{typeof Object.create=="function"?Gi.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:Gi.exports=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}});var nu=y(F=>{var _m=/%[sdj%]/g;F.format=function(t){if(!Sn(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Ye(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(t).replace(_m,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return a}}),o=n[r];r<i;o=n[++r])En(o)||!Tt(o)?s+=" "+o:s+=" "+Ye(o);return s};F.deprecate=function(t,e){if(Ve(global.process))return function(){return F.deprecate(t,e).apply(this,arguments)};if(process.noDeprecation===!0)return t;var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n};var gn={},Wi;F.debuglog=function(t){if(Ve(Wi)&&(Wi=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!gn[t])if(new RegExp("\\b"+t+"\\b","i").test(Wi)){var e=process.pid;gn[t]=function(){var r=F.format.apply(F,arguments);console.error("%s %d: %s",t,e,r)}}else gn[t]=function(){};return gn[t]};function Ye(t,e){var r={seen:[],stylize:$m};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Zi(e)?r.showHidden=e:e&&F._extend(r,e),Ve(r.showHidden)&&(r.showHidden=!1),Ve(r.depth)&&(r.depth=2),Ve(r.colors)&&(r.colors=!1),Ve(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=vm),wn(r,t,r.depth)}F.inspect=Ye;Ye.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Ye.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function vm(t,e){var r=Ye.styles[e];return r?"\x1B["+Ye.colors[r][0]+"m"+t+"\x1B["+Ye.colors[r][1]+"m":t}function $m(t,e){return t}function wm(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function wn(t,e,r){if(t.customInspect&&e&&$n(e.inspect)&&e.inspect!==F.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return Sn(n)||(n=wn(t,n,r)),n}var i=Em(t,e);if(i)return i;var s=Object.keys(e),o=wm(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),vn(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return Hi(e);if(s.length===0){if($n(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(_n(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Xi(e))return t.stylize(Date.prototype.toString.call(e),"date");if(vn(e))return Hi(e)}var u="",f=!1,c=["{","}"];if(eu(e)&&(f=!0,c=["[","]"]),$n(e)){var d=e.name?": "+e.name:"";u=" [Function"+d+"]"}if(_n(e)&&(u=" "+RegExp.prototype.toString.call(e)),Xi(e)&&(u=" "+Date.prototype.toUTCString.call(e)),vn(e)&&(u=" "+Hi(e)),s.length===0&&(!f||e.length==0))return c[0]+u+c[1];if(r<0)return _n(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var m;return f?m=Sm(t,e,r,o,s):m=s.map(function(h){return Ji(t,e,r,o,h,f)}),t.seen.pop(),Om(m,u,c)}function Em(t,e){if(Ve(e))return t.stylize("undefined","undefined");if(Sn(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(tu(e))return t.stylize(""+e,"number");if(Zi(e))return t.stylize(""+e,"boolean");if(En(e))return t.stylize("null","null")}function Hi(t){return"["+Error.prototype.toString.call(t)+"]"}function Sm(t,e,r,n,i){for(var s=[],o=0,a=e.length;o<a;++o)ru(e,String(o))?s.push(Ji(t,e,r,n,String(o),!0)):s.push("");return i.forEach(function(u){u.match(/^\d+$/)||s.push(Ji(t,e,r,n,u,!0))}),s}function Ji(t,e,r,n,i,s){var o,a,u;if(u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},u.get?u.set?a=t.stylize("[Getter/Setter]","special"):a=t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),ru(n,i)||(o="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(En(r)?a=wn(t,u.value,null):a=wn(t,u.value,r-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(f){return"  "+f}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(f){return"   "+f}).join(`
`))):a=t.stylize("[Circular]","special")),Ve(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function Om(t,e,r){var n=0,i=t.reduce(function(s,o){return n++,o.indexOf(`
`)>=0&&n++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function eu(t){return Array.isArray(t)}F.isArray=eu;function Zi(t){return typeof t=="boolean"}F.isBoolean=Zi;function En(t){return t===null}F.isNull=En;function Pm(t){return t==null}F.isNullOrUndefined=Pm;function tu(t){return typeof t=="number"}F.isNumber=tu;function Sn(t){return typeof t=="string"}F.isString=Sn;function bm(t){return typeof t=="symbol"}F.isSymbol=bm;function Ve(t){return t===void 0}F.isUndefined=Ve;function _n(t){return Tt(t)&&Qi(t)==="[object RegExp]"}F.isRegExp=_n;function Tt(t){return typeof t=="object"&&t!==null}F.isObject=Tt;function Xi(t){return Tt(t)&&Qi(t)==="[object Date]"}F.isDate=Xi;function vn(t){return Tt(t)&&(Qi(t)==="[object Error]"||t instanceof Error)}F.isError=vn;function $n(t){return typeof t=="function"}F.isFunction=$n;function Nm(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}F.isPrimitive=Nm;F.isBuffer=Za();function Qi(t){return Object.prototype.toString.call(t)}function Yi(t){return t<10?"0"+t.toString(10):t.toString(10)}var Im=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Tm(){var t=new Date,e=[Yi(t.getHours()),Yi(t.getMinutes()),Yi(t.getSeconds())].join(":");return[t.getDate(),Im[t.getMonth()],e].join(" ")}F.log=function(){console.log("%s - %s",Tm(),F.format.apply(F,arguments))};F.inherits=Qa();F._extend=function(t,e){if(!e||!Tt(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function ru(t,e){return Object.prototype.hasOwnProperty.call(t,e)}});var Nn=y((eb,er)=>{"use strict";var jm=process.platform==="win32",Se=nu();function On(t,e){for(var r=[],n=0;n<t.length;n++){var i=t[n];!i||i==="."||(i===".."?r.length&&r[r.length-1]!==".."?r.pop():e&&r.push(".."):r.push(i))}return r}function Qt(t){for(var e=t.length-1,r=0;r<=e&&!t[r];r++);for(var n=e;n>=0&&!t[n];n--);return r===0&&n===e?t:r>n?[]:t.slice(r,n+1)}var iu=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,Dm=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,H={};function Pn(t){var e=iu.exec(t),r=(e[1]||"")+(e[2]||""),n=e[3]||"",i=Dm.exec(n),s=i[1],o=i[2],a=i[3];return[r,s,o,a]}function es(t){var e=iu.exec(t),r=e[1]||"",n=!!r&&r[1]!==":";return{device:r,isUnc:n,isAbsolute:n||!!e[2],tail:e[3]}}function su(t){return"\\\\"+t.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}H.resolve=function(){for(var t="",e="",r=!1,n=arguments.length-1;n>=-1;n--){var i;if(n>=0?i=arguments[n]:t?(i=process.env["="+t],(!i||i.substr(0,3).toLowerCase()!==t.toLowerCase()+"\\")&&(i=t+"\\")):i=process.cwd(),Se.isString(i)){if(!i)continue}else throw new TypeError("Arguments to path.resolve must be strings");var s=es(i),o=s.device,a=s.isUnc,u=s.isAbsolute,f=s.tail;if(!(o&&t&&o.toLowerCase()!==t.toLowerCase())&&(t||(t=o),r||(e=f+"\\"+e,r=u),t&&r))break}return a&&(t=su(t)),e=On(e.split(/[\\\/]+/),!r).join("\\"),t+(r?"\\":"")+e||"."};H.normalize=function(t){var e=es(t),r=e.device,n=e.isUnc,i=e.isAbsolute,s=e.tail,o=/[\\\/]$/.test(s);return s=On(s.split(/[\\\/]+/),!i).join("\\"),!s&&!i&&(s="."),s&&o&&(s+="\\"),n&&(r=su(r)),r+(i?"\\":"")+s};H.isAbsolute=function(t){return es(t).isAbsolute};H.join=function(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(!Se.isString(r))throw new TypeError("Arguments to path.join must be strings");r&&t.push(r)}var n=t.join("\\");return/^[\\\/]{2}[^\\\/]/.test(t[0])||(n=n.replace(/^[\\\/]{2,}/,"\\")),H.normalize(n)};H.relative=function(t,e){t=H.resolve(t),e=H.resolve(e);for(var r=t.toLowerCase(),n=e.toLowerCase(),i=Qt(e.split("\\")),s=Qt(r.split("\\")),o=Qt(n.split("\\")),a=Math.min(s.length,o.length),u=a,f=0;f<a;f++)if(s[f]!==o[f]){u=f;break}if(u==0)return e;for(var c=[],f=u;f<s.length;f++)c.push("..");return c=c.concat(i.slice(u)),c.join("\\")};H._makeLong=function(t){if(!Se.isString(t))return t;if(!t)return"";var e=H.resolve(t);return/^[a-zA-Z]\:\\/.test(e)?"\\\\?\\"+e:/^\\\\[^?.]/.test(e)?"\\\\?\\UNC\\"+e.substring(2):t};H.dirname=function(t){var e=Pn(t),r=e[0],n=e[1];return!r&&!n?".":(n&&(n=n.substr(0,n.length-1)),r+n)};H.basename=function(t,e){var r=Pn(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r};H.extname=function(t){return Pn(t)[3]};H.format=function(t){if(!Se.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!Se.isString(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);var r=t.dir,n=t.base||"";return r?r[r.length-1]===H.sep?r+n:r+H.sep+n:n};H.parse=function(t){if(!Se.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=Pn(t);if(!e||e.length!==4)throw new TypeError("Invalid path '"+t+"'");return{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}};H.sep="\\";H.delimiter=";";var Rm=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Z={};function bn(t){return Rm.exec(t).slice(1)}Z.resolve=function(){for(var t="",e=!1,r=arguments.length-1;r>=-1&&!e;r--){var n=r>=0?arguments[r]:process.cwd();if(Se.isString(n)){if(!n)continue}else throw new TypeError("Arguments to path.resolve must be strings");t=n+"/"+t,e=n[0]==="/"}return t=On(t.split("/"),!e).join("/"),(e?"/":"")+t||"."};Z.normalize=function(t){var e=Z.isAbsolute(t),r=t&&t[t.length-1]==="/";return t=On(t.split("/"),!e).join("/"),!t&&!e&&(t="."),t&&r&&(t+="/"),(e?"/":"")+t};Z.isAbsolute=function(t){return t.charAt(0)==="/"};Z.join=function(){for(var t="",e=0;e<arguments.length;e++){var r=arguments[e];if(!Se.isString(r))throw new TypeError("Arguments to path.join must be strings");r&&(t?t+="/"+r:t+=r)}return Z.normalize(t)};Z.relative=function(t,e){t=Z.resolve(t).substr(1),e=Z.resolve(e).substr(1);for(var r=Qt(t.split("/")),n=Qt(e.split("/")),i=Math.min(r.length,n.length),s=i,o=0;o<i;o++)if(r[o]!==n[o]){s=o;break}for(var a=[],o=s;o<r.length;o++)a.push("..");return a=a.concat(n.slice(s)),a.join("/")};Z._makeLong=function(t){return t};Z.dirname=function(t){var e=bn(t),r=e[0],n=e[1];return!r&&!n?".":(n&&(n=n.substr(0,n.length-1)),r+n)};Z.basename=function(t,e){var r=bn(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r};Z.extname=function(t){return bn(t)[3]};Z.format=function(t){if(!Se.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!Se.isString(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);var r=t.dir?t.dir+Z.sep:"",n=t.base||"";return r+n};Z.parse=function(t){if(!Se.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=bn(t);if(!e||e.length!==4)throw new TypeError("Invalid path '"+t+"'");return e[1]=e[1]||"",e[2]=e[2]||"",e[3]=e[3]||"",{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}};Z.sep="/";Z.delimiter=":";jm?er.exports=H:er.exports=Z;er.exports.posix=Z;er.exports.win32=H});var Je=y((tb,ou)=>{process.cwd=()=>"/";var ts=Nn(),dt=Object.assign({},ts);dt.basename=(t,e)=>{let r=ts.basename(t,e);return r===""?"/":r};dt.normalize=t=>(t=ts.normalize(t),t==="/"?t:dt.removeTrailing(t));dt.isNull=t=>(""+t).indexOf("\0")!==-1;dt.addTrailing=t=>t.replace(/\/*$/,"/");dt.removeTrailing=t=>(t=t.replace(/\/*$/,""),t===""?"/":t);ou.exports=dt});var fe=y((rb,au)=>{var lt="READ",De="WRITE",ze="CREATE",tr="EXCLUSIVE",rr="TRUNCATE",nr="APPEND",Am="CREATE",qm="REPLACE";au.exports={FILE_SYSTEM_NAME:"local",FILE_STORE_NAME:"files",IDB_RO:"readonly",IDB_RW:"readwrite",WSQL_VERSION:"1",WSQL_SIZE:5*1024*1024,WSQL_DESC:"FileSystem Storage",NODE_TYPE_FILE:"FILE",NODE_TYPE_DIRECTORY:"DIRECTORY",NODE_TYPE_SYMBOLIC_LINK:"SYMLINK",NODE_TYPE_META:"META",DEFAULT_DIR_PERMISSIONS:493,DEFAULT_FILE_PERMISSIONS:420,FULL_READ_WRITE_EXEC_PERMISSIONS:511,READ_WRITE_PERMISSIONS:438,SYMLOOP_MAX:10,BINARY_MIME_TYPE:"application/octet-stream",JSON_MIME_TYPE:"application/json",ROOT_DIRECTORY_NAME:"/",FS_FORMAT:"FORMAT",FS_NOCTIME:"NOCTIME",FS_NOMTIME:"NOMTIME",FS_NODUPEIDCHECK:"FS_NODUPEIDCHECK",O_READ:lt,O_WRITE:De,O_CREATE:ze,O_EXCLUSIVE:tr,O_TRUNCATE:rr,O_APPEND:nr,O_FLAGS:{r:[lt],"r+":[lt,De],w:[De,ze,rr],"w+":[De,lt,ze,rr],wx:[De,ze,tr,rr],"wx+":[De,lt,ze,tr,rr],a:[De,ze,nr],"a+":[De,lt,ze,nr],ax:[De,ze,tr,nr],"ax+":[De,lt,ze,tr,nr]},XATTR_CREATE:Am,XATTR_REPLACE:qm,FS_READY:"READY",FS_PENDING:"PENDING",FS_ERROR:"ERROR",SUPER_NODE_ID:"00000000-0000-0000-0000-000000000000",STDIN:0,STDOUT:1,STDERR:2,FIRST_DESCRIPTOR:3,ENVIRONMENT:{TMP:"/tmp",PATH:""},fsConstants:{O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_DSYNC:4194304,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_COPYFILE_EXCL:1,COPYFILE_EXCL:1}}});var fu=y((nb,uu)=>{var Mm=fe().FILE_SYSTEM_NAME,ir=fe().FILE_STORE_NAME,Cm=fe().IDB_RW,xm=fe().IDB_RO;function Oe(t,e){this.db=t,this.mode=e}Oe.prototype._getObjectStore=function(){if(this.objectStore)return this.objectStore;var t=this.db.transaction(ir,this.mode);return this.objectStore=t.objectStore(ir),this.objectStore};Oe.prototype.clear=function(t){try{var e=this._getObjectStore(),r=e.clear();r.onsuccess=function(){t()},r.onerror=function(n){n.preventDefault(),t(n.error)}}catch(n){t(n)}};Oe.prototype._get=function(t,e){try{var r=this._getObjectStore(),n=r.get(t);n.onsuccess=function(s){var o=s.target.result;e(null,o)},n.onerror=function(i){i.preventDefault(),e(i.error)}}catch(i){e(i)}};Oe.prototype.getObject=function(t,e){this._get(t,e)};Oe.prototype.getBuffer=function(t,e){this._get(t,function(r,n){if(r)return e(r);e(null,Buffer.from(n))})};Oe.prototype._put=function(t,e,r){try{var n=this._getObjectStore(),i=n.put(e,t);i.onsuccess=function(o){var a=o.target.result;r(null,a)},i.onerror=function(s){s.preventDefault(),r(s.error)}}catch(s){r(s)}};Oe.prototype.putObject=function(t,e,r){this._put(t,e,r)};Oe.prototype.putBuffer=function(t,e,r){var n=e.buffer;this._put(t,n,r)};Oe.prototype.delete=function(t,e){try{var r=this._getObjectStore(),n=r.delete(t);n.onsuccess=function(s){var o=s.target.result;e(null,o)},n.onerror=function(i){i.preventDefault(),e(i.error)}}catch(i){e(i)}};function sr(t){this.name=t||Mm,this.db=null}sr.isSupported=function(){var t=global.indexedDB||global.mozIndexedDB||global.webkitIndexedDB||global.msIndexedDB;return!!t};sr.prototype.open=function(t){var e=this;if(e.db)return t();try{var r=global.indexedDB||global.mozIndexedDB||global.webkitIndexedDB||global.msIndexedDB,n=r.open(e.name);n.onupgradeneeded=function(s){var o=s.target.result;o.objectStoreNames.contains(ir)&&o.deleteObjectStore(ir),o.createObjectStore(ir)},n.onsuccess=function(s){e.db=s.target.result,t()},n.onerror=function(s){s.preventDefault(),t(s.error)}}catch(i){t(i)}};sr.prototype.getReadOnlyContext=function(){return new Oe(this.db,xm)};sr.prototype.getReadWriteContext=function(){return new Oe(this.db,Cm)};uu.exports=sr});var Tn=y((ib,In)=>{(function(){var t={};typeof process>"u"||!process.nextTick?typeof setImmediate=="function"?(t.nextTick=function(e){setImmediate(e)},t.setImmediate=t.nextTick):(t.nextTick=function(e){setTimeout(e,0)},t.setImmediate=t.nextTick):(t.nextTick=process.nextTick,typeof setImmediate<"u"?t.setImmediate=function(e){setImmediate(e)}:t.setImmediate=t.nextTick),t.eachSeries=function(e,r,n){if(n=n||function(){},!e.length)return n();var i=0,s=function(){r(e[i],function(o){o?(n(o),n=function(){}):(i+=1,i>=e.length?n():s())})};s()},t.forEachSeries=t.eachSeries,typeof define<"u"&&define.amd?define([],function(){return t}):typeof In<"u"&&In.exports?In.exports=t:root.async=t})()});var du=y((sb,cu)=>{var Lm=fe().FILE_SYSTEM_NAME,Xe=Tn().setImmediate,Fm=function(){var t={};return function(r){return Object.prototype.hasOwnProperty.call(t,r)||(t[r]={}),t[r]}}();function Ze(t,e){this.readOnly=e,this.objectStore=t}Ze.prototype.clear=function(t){if(this.readOnly){Xe(function(){t("[MemoryContext] Error: write operation on read only context")});return}var e=this.objectStore;Object.keys(e).forEach(function(r){delete e[r]}),Xe(t)};Ze.prototype.getObject=Ze.prototype.getBuffer=function(t,e){var r=this;Xe(function(){e(null,r.objectStore[t])})};Ze.prototype.putObject=Ze.prototype.putBuffer=function(t,e,r){if(this.readOnly){Xe(function(){r("[MemoryContext] Error: write operation on read only context")});return}this.objectStore[t]=e,Xe(r)};Ze.prototype.delete=function(t,e){if(this.readOnly){Xe(function(){e("[MemoryContext] Error: write operation on read only context")});return}delete this.objectStore[t],Xe(e)};function or(t){this.name=t||Lm}or.isSupported=function(){return!0};or.prototype.open=function(t){this.db=Fm(this.name),Xe(t)};or.prototype.getReadOnlyContext=function(){return new Ze(this.db,!0)};or.prototype.getReadWriteContext=function(){return new Ze(this.db,!1)};cu.exports=or});var hu=y((ob,pu)=>{var lu=fu(),Vm=du();pu.exports={IndexedDB:lu,Default:lu,Memory:Vm}});var jt=y((ab,mu)=>{var rs={};["3:EACCES:permission denied","9:EBADF:bad file descriptor","10:EBUSY:resource busy or locked","18:EINVAL:invalid argument","27:ENOTDIR:not a directory","28:EISDIR:illegal operation on a directory","34:ENOENT:no such file or directory","47:EEXIST:file already exists","50:EPERM:operation not permitted","51:ELOOP:too many symbolic links encountered","53:ENOTEMPTY:directory not empty","55:EIO:i/o error","1000:ENOTMOUNTED:not mounted","1001:EFILESYSTEMERROR:missing super node, use 'FORMAT' flag to format filesystem.","1002:ENOATTR:attribute does not exist"].forEach(function(t){t=t.split(":");var e=+t[0],r=t[1],n=t[2];function i(s,o){Error.call(this),this.name=r,this.code=r,this.errno=e,this.message=s||n,o&&(this.path=o),this.stack=new Error(this.message).stack}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.toString=function(){var s=this.path?", '"+this.path+"'":"";return this.name+": "+this.message+s},rs[r]=rs[e]=i});mu.exports=rs});var _u=y((ub,gu)=>{"use strict";var yu=fe().ENVIRONMENT;gu.exports=function(e){e=e||{},e.TMP=e.TMP||yu.TMP,e.PATH=e.PATH||yu.PATH,this.get=function(r){return e[r]},this.set=function(r,n){e[r]=n}}});var Su=y((fb,Eu)=>{"use strict";Eu.exports=$u;function $u(t,e,r){t instanceof RegExp&&(t=vu(t,r)),e instanceof RegExp&&(e=vu(e,r));var n=wu(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function vu(t,e){var r=e.match(t);return r?r[0]:null}$u.range=wu;function wu(t,e,r){var n,i,s,o,a,u=r.indexOf(t),f=r.indexOf(e,u+1),c=u;if(u>=0&&f>0){if(t===e)return[u,f];for(n=[],s=r.length;c>=0&&!a;)c==u?(n.push(c),u=r.indexOf(t,c+1)):n.length==1?a=[n.pop(),f]:(i=n.pop(),i<s&&(s=i,o=f),f=r.indexOf(e,c+1)),c=u<f&&u>=0?u:f;n.length&&(a=[s,o])}return a}});var Du=y((cb,ju)=>{var Ou=Su();ju.exports=Km;var Pu="\0SLASH"+Math.random()+"\0",bu="\0OPEN"+Math.random()+"\0",is="\0CLOSE"+Math.random()+"\0",Nu="\0COMMA"+Math.random()+"\0",Iu="\0PERIOD"+Math.random()+"\0";function ns(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function zm(t){return t.split("\\\\").join(Pu).split("\\{").join(bu).split("\\}").join(is).split("\\,").join(Nu).split("\\.").join(Iu)}function Um(t){return t.split(Pu).join("\\").split(bu).join("{").split(is).join("}").split(Nu).join(",").split(Iu).join(".")}function Tu(t){if(!t)return[""];var e=[],r=Ou("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=Tu(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Km(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),ar(zm(t),!0).map(Um)):[]}function km(t){return"{"+t+"}"}function Bm(t){return/^-?0\d/.test(t)}function Gm(t,e){return t<=e}function Wm(t,e){return t>=e}function ar(t,e){var r=[],n=Ou("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?ar(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),c=u||f,d=n.body.indexOf(",")>=0;if(!c&&!d)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+is+n.post,ar(t)):[t];var m;if(c)m=n.body.split(/\.\./);else if(m=Tu(n.body),m.length===1&&(m=ar(m[0],!1).map(km),m.length===1))return s.map(function(ct){return n.pre+m[0]+ct});var h;if(c){var l=ns(m[0]),p=ns(m[1]),g=Math.max(m[0].length,m[1].length),_=m.length==3?Math.abs(ns(m[2])):1,$=Gm,E=p<l;E&&(_*=-1,$=Wm);var I=m.some(Bm);h=[];for(var w=l;$(w,p);w+=_){var N;if(f)N=String.fromCharCode(w),N==="\\"&&(N="");else if(N=String(w),I){var O=g-N.length;if(O>0){var b=new Array(O+1).join("0");w<0?N="-"+b+N.slice(1):N=b+N}}h.push(N)}}else{h=[];for(var V=0;V<m.length;V++)h.push.apply(h,ar(m[V],!1))}for(var V=0;V<h.length;V++)for(var o=0;o<s.length;o++){var a=i+h[V]+s[o];(!e||c||a)&&r.push(a)}}return r}});var Ru=y(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.assertValidPattern=void 0;var Hm=1024*64,Ym=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Hm)throw new TypeError("pattern is too long")};jn.assertValidPattern=Ym});var qu=y(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.parseClass=void 0;var Jm={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},ur=t=>t.replace(/[[\]\\-]/g,"\\$&"),Xm=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Au=t=>t.join(""),Zm=(t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,o=!1,a=!1,u=!1,f=!1,c=r,d="";e:for(;s<t.length;){let p=t.charAt(s);if((p==="!"||p==="^")&&s===r+1){f=!0,s++;continue}if(p==="]"&&o&&!u){c=s+1;break}if(o=!0,p==="\\"&&!u){u=!0,s++;continue}if(p==="["&&!u){for(let[g,[_,$,E]]of Object.entries(Jm))if(t.startsWith(g,s)){if(d)return["$.",!1,t.length-r,!0];s+=g.length,E?i.push(_):n.push(_),a=a||$;continue e}}if(u=!1,d){p>d?n.push(ur(d)+"-"+ur(p)):p===d&&n.push(ur(p)),d="",s++;continue}if(t.startsWith("-]",s+1)){n.push(ur(p+"-")),s+=2;continue}if(t.startsWith("-",s+1)){d=p,s+=2;continue}n.push(ur(p)),s++}if(c<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!f){let p=n[0].length===2?n[0].slice(-1):n[0];return[Xm(p),!1,c-r,!1]}let m="["+(f?"^":"")+Au(n)+"]",h="["+(f?"":"^")+Au(i)+"]";return[n.length&&i.length?"("+m+"|"+h+")":n.length?m:h,a,c-r,!0]};Dn.parseClass=Zm});var An=y(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.unescape=void 0;var Qm=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Rn.unescape=Qm});var as=y(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.AST=void 0;var ey=qu(),qn=An(),ty=new Set(["!","?","+","*","@"]),Mu=t=>ty.has(t),ry="(?!(?:^|/)\\.\\.?(?:$|/))",Mn="(?!\\.)",ny=new Set(["[","."]),iy=new Set(["..","."]),sy=new Set("().*{}+?[]^$\\!"),oy=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),os="[^/]",Cu=os+"*?",xu=os+"+?",ss=class t{type;#r;#n;#s=!1;#e=[];#t;#o;#u;#a=!1;#i;#f;#d=!1;constructor(e,r,n={}){this.type=e,e&&(this.#n=!0),this.#t=r,this.#r=this.#t?this.#t.#r:this,this.#i=this.#r===this?n:this.#r.#i,this.#u=this.#r===this?[]:this.#r.#u,e==="!"&&!this.#r.#a&&this.#u.push(this),this.#o=this.#t?this.#t.#e.length:0}get hasMagic(){if(this.#n!==void 0)return this.#n;for(let e of this.#e)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#n=!0;return this.#n}toString(){return this.#f!==void 0?this.#f:this.type?this.#f=this.type+"("+this.#e.map(e=>String(e)).join("|")+")":this.#f=this.#e.map(e=>String(e)).join("")}#p(){if(this!==this.#r)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let e;for(;e=this.#u.pop();){if(e.type!=="!")continue;let r=e,n=r.#t;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#e.length;i++)for(let s of e.#e){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#e[i])}r=n,n=r.#t}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#t===this))throw new Error("invalid part: "+r);this.#e.push(r)}}toJSON(){let e=this.type===null?this.#e.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#e.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#r||this.#r.#a&&this.#t?.type==="!")&&e.push({}),e}isStart(){if(this.#r===this)return!0;if(!this.#t?.isStart())return!1;if(this.#o===0)return!0;let e=this.#t;for(let r=0;r<this.#o;r++){let n=e.#e[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#r===this||this.#t?.type==="!")return!0;if(!this.#t?.isEnd())return!1;if(!this.type)return this.#t?.isEnd();let e=this.#t?this.#t.#e.length:0;return this.#o===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#e)r.copyIn(n);return r}static#c(e,r,n,i){let s=!1,o=!1,a=-1,u=!1;if(r.type===null){let h=n,l="";for(;h<e.length;){let p=e.charAt(h++);if(s||p==="\\"){s=!s,l+=p;continue}if(o){h===a+1?(p==="^"||p==="!")&&(u=!0):p==="]"&&!(h===a+2&&u)&&(o=!1),l+=p;continue}else if(p==="["){o=!0,a=h,u=!1,l+=p;continue}if(!i.noext&&Mu(p)&&e.charAt(h)==="("){r.push(l),l="";let g=new t(p,r);h=t.#c(e,g,h,i),r.push(g);continue}l+=p}return r.push(l),h}let f=n+1,c=new t(null,r),d=[],m="";for(;f<e.length;){let h=e.charAt(f++);if(s||h==="\\"){s=!s,m+=h;continue}if(o){f===a+1?(h==="^"||h==="!")&&(u=!0):h==="]"&&!(f===a+2&&u)&&(o=!1),m+=h;continue}else if(h==="["){o=!0,a=f,u=!1,m+=h;continue}if(Mu(h)&&e.charAt(f)==="("){c.push(m),m="";let l=new t(h,c);c.push(l),f=t.#c(e,l,f,i);continue}if(h==="|"){c.push(m),m="",d.push(c),c=new t(null,r);continue}if(h===")")return m===""&&r.#e.length===0&&(r.#d=!0),c.push(m),m="",r.push(...d,c),f;m+=h}return r.type=null,r.#n=void 0,r.#e=[e.substring(n-1)],f}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#c(e,n,0,r),n}toMMPattern(){if(this!==this.#r)return this.#r.toMMPattern();let e=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#n||this.#i.nocase&&!this.#i.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#i.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,a),{_src:r,_glob:e})}get options(){return this.#i}toRegExpSource(e){let r=e??!!this.#i.dot;if(this.#r===this&&this.#p(),!this.type){let u=this.isStart()&&this.isEnd(),f=this.#e.map(h=>{let[l,p,g,_]=typeof h=="string"?t.#h(h,this.#n,u):h.toRegExpSource(e);return this.#n=this.#n||g,this.#s=this.#s||_,l}).join(""),c="";if(this.isStart()&&typeof this.#e[0]=="string"&&!(this.#e.length===1&&iy.has(this.#e[0]))){let l=ny,p=r&&l.has(f.charAt(0))||f.startsWith("\\.")&&l.has(f.charAt(2))||f.startsWith("\\.\\.")&&l.has(f.charAt(4)),g=!r&&!e&&l.has(f.charAt(0));c=p?ry:g?Mn:""}let d="";return this.isEnd()&&this.#r.#a&&this.#t?.type==="!"&&(d="(?:$|\\/)"),[c+f+d,(0,qn.unescape)(f),this.#n=!!this.#n,this.#s]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#l(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let u=this.toString();return this.#e=[u],this.type=null,this.#n=void 0,[u,(0,qn.unescape)(this.toString()),!1,!1]}let o=!n||e||r||!Mn?"":this.#l(!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if(this.type==="!"&&this.#d)a=(this.isStart()&&!r?Mn:"")+xu;else{let u=this.type==="!"?"))"+(this.isStart()&&!r&&!e?Mn:"")+Cu+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=i+s+u}return[a,(0,qn.unescape)(s),this.#n=!!this.#n,this.#s]}#l(e){return this.#e.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,o]=r.toRegExpSource(e);return this.#s=this.#s||o,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#h(e,r,n=!1){let i=!1,s="",o=!1;for(let a=0;a<e.length;a++){let u=e.charAt(a);if(i){i=!1,s+=(sy.has(u)?"\\":"")+u;continue}if(u==="\\"){a===e.length-1?s+="\\\\":i=!0;continue}if(u==="["){let[f,c,d,m]=(0,ey.parseClass)(e,a);if(d){s+=f,o=o||c,a+=d-1,r=r||m;continue}}if(u==="*"){n&&e==="*"?s+=xu:s+=Cu,r=!0;continue}if(u==="?"){s+=os,r=!0;continue}s+=oy(u)}return[s,(0,qn.unescape)(e),!!r,o]}};Cn.AST=ss});var us=y(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.escape=void 0;var ay=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&");xn.escape=ay});var ku=y(S=>{"use strict";var uy=S&&S.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(S,"__esModule",{value:!0});S.unescape=S.escape=S.AST=S.Minimatch=S.match=S.makeRe=S.braceExpand=S.defaults=S.filter=S.GLOBSTAR=S.sep=S.minimatch=void 0;var fy=uy(Du()),Ln=Ru(),Vu=as(),cy=us(),dy=An(),ly=(t,e,r={})=>((0,Ln.assertValidPattern)(e),!r.nocomment&&e.charAt(0)==="#"?!1:new pt(e,r).match(t));S.minimatch=ly;var py=/^\*+([^+@!?\*\[\(]*)$/,hy=t=>e=>!e.startsWith(".")&&e.endsWith(t),my=t=>e=>e.endsWith(t),yy=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),gy=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),_y=/^\*+\.\*+$/,vy=t=>!t.startsWith(".")&&t.includes("."),$y=t=>t!=="."&&t!==".."&&t.includes("."),wy=/^\.\*+$/,Ey=t=>t!=="."&&t!==".."&&t.startsWith("."),Sy=/^\*+$/,Oy=t=>t.length!==0&&!t.startsWith("."),Py=t=>t.length!==0&&t!=="."&&t!=="..",by=/^\?+([^+@!?\*\[\(]*)?$/,Ny=([t,e=""])=>{let r=zu([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},Iy=([t,e=""])=>{let r=Uu([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},Ty=([t,e=""])=>{let r=Uu([t]);return e?n=>r(n)&&n.endsWith(e):r},jy=([t,e=""])=>{let r=zu([t]);return e?n=>r(n)&&n.endsWith(e):r},zu=([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},Uu=([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},Ku=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",Lu={win32:{sep:"\\"},posix:{sep:"/"}};S.sep=Ku==="win32"?Lu.win32.sep:Lu.posix.sep;S.minimatch.sep=S.sep;S.GLOBSTAR=Symbol("globstar **");S.minimatch.GLOBSTAR=S.GLOBSTAR;var Dy="[^/]",Ry=Dy+"*?",Ay="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",qy="(?:(?!(?:\\/|^)\\.).)*?",My=(t,e={})=>r=>(0,S.minimatch)(r,t,e);S.filter=My;S.minimatch.filter=S.filter;var _e=(t,e={})=>Object.assign({},t,e),Cy=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return S.minimatch;let e=S.minimatch;return Object.assign((n,i,s={})=>e(n,i,_e(t,s)),{Minimatch:class extends e.Minimatch{constructor(i,s={}){super(i,_e(t,s))}static defaults(i){return e.defaults(_e(t,i)).Minimatch}},AST:class extends e.AST{constructor(i,s,o={}){super(i,s,_e(t,o))}static fromGlob(i,s={}){return e.AST.fromGlob(i,_e(t,s))}},unescape:(n,i={})=>e.unescape(n,_e(t,i)),escape:(n,i={})=>e.escape(n,_e(t,i)),filter:(n,i={})=>e.filter(n,_e(t,i)),defaults:n=>e.defaults(_e(t,n)),makeRe:(n,i={})=>e.makeRe(n,_e(t,i)),braceExpand:(n,i={})=>e.braceExpand(n,_e(t,i)),match:(n,i,s={})=>e.match(n,i,_e(t,s)),sep:e.sep,GLOBSTAR:S.GLOBSTAR})};S.defaults=Cy;S.minimatch.defaults=S.defaults;var xy=(t,e={})=>((0,Ln.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,fy.default)(t));S.braceExpand=xy;S.minimatch.braceExpand=S.braceExpand;var Ly=(t,e={})=>new pt(t,e).makeRe();S.makeRe=Ly;S.minimatch.makeRe=S.makeRe;var Fy=(t,e,r={})=>{let n=new pt(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};S.match=Fy;S.minimatch.match=S.match;var Fu=/[?*]|[+@!]\(.*?\)|\[|\]/,Vy=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),pt=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){(0,Ln.assertValidPattern)(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||Ku,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let u=s[0]===""&&s[1]===""&&(s[2]==="?"||!Fu.test(s[2]))&&!Fu.test(s[3]),f=/^[a-z]:/i.test(s[0]);if(u)return[...s.slice(0,4),...s.slice(4).map(c=>this.parse(c))];if(f)return[s[0],...s.slice(1).map(c=>this.parse(c))]}return s.map(u=>this.parse(u))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let s=e[i];i===1&&s===""&&e[0]===""||(s==="."||s==="")&&(r=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let o=i;for(;n[o+1]==="**";)o++;o>i&&n.splice(i+1,o-i);let a=n[i+1],u=n[i+2],f=n[i+3];if(a!==".."||!u||u==="."||u===".."||!f||f==="."||f==="..")continue;r=!0,n.splice(i,1);let c=n.slice(0);c[i]="**",e.push(c),i--}if(!this.preserveMultipleSlashes){for(let o=1;o<n.length-1;o++){let a=n[o];o===1&&a===""&&n[0]===""||(a==="."||a==="")&&(r=!0,n.splice(o,1),o--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let o=n[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){r=!0;let u=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...u),n.length===0&&n.push(""),s-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(i){e[r]=[],e[n]=i;break}}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let i=0,s=0,o=[],a="";for(;i<e.length&&s<r.length;)if(e[i]===r[s])o.push(a==="b"?r[s]:e[i]),i++,s++;else if(n&&e[i]==="**"&&r[s]===e[i+1])o.push(e[i]),i++;else if(n&&r[s]==="**"&&e[i]===r[s+1])o.push(r[s]),s++;else if(e[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(a==="b")return!1;a="a",o.push(e[i]),i++,s++}else if(r[s]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",o.push(r[s]),i++,s++}else return!1;return e.length===r.length&&o}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let i=this.options;if(this.isWindows){let p=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),g=!p&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),_=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),$=!_&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),E=g?3:p?0:void 0,I=$?3:_?0:void 0;if(typeof E=="number"&&typeof I=="number"){let[w,N]=[e[E],r[I]];w.toLowerCase()===N.toLowerCase()&&(r[I]=w,I>E?r=r.slice(I):E>I&&(e=e.slice(E)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,a=0,u=e.length,f=r.length;o<u&&a<f;o++,a++){this.debug("matchOne loop");var c=r[a],d=e[o];if(this.debug(r,c,d),c===!1)return!1;if(c===S.GLOBSTAR){this.debug("GLOBSTAR",[r,c,d]);var m=o,h=a+1;if(h===f){for(this.debug("** at the end");o<u;o++)if(e[o]==="."||e[o]===".."||!i.dot&&e[o].charAt(0)===".")return!1;return!0}for(;m<u;){var l=e[m];if(this.debug(`
globstar while`,e,m,r,h,l),this.matchOne(e.slice(m),r.slice(h),n))return this.debug("globstar found match!",m,u,l),!0;if(l==="."||l===".."||!i.dot&&l.charAt(0)==="."){this.debug("dot detected!",e,m,r,h);break}this.debug("globstar swallow a segment, and continue"),m++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,m,r,h),m===u))}let p;if(typeof c=="string"?(p=d===c,this.debug("string match",c,d,p)):(p=c.test(d),this.debug("pattern match",c,d,p)),!p)return!1}if(o===u&&a===f)return!0;if(o===u)return n;if(a===f)return o===u-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return(0,S.braceExpand)(this.pattern,this.options)}parse(e){(0,Ln.assertValidPattern)(e);let r=this.options;if(e==="**")return S.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(Sy))?i=r.dot?Py:Oy:(n=e.match(py))?i=(r.nocase?r.dot?gy:yy:r.dot?my:hy)(n[1]):(n=e.match(by))?i=(r.nocase?r.dot?Iy:Ny:r.dot?Ty:jy)(n):(n=e.match(_y))?i=r.dot?$y:vy:(n=e.match(wy))&&(i=Ey);let s=Vu.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Ry:r.dot?Ay:qy,i=new Set(r.nocase?["i"]:[]),s=e.map(u=>{let f=u.map(c=>{if(c instanceof RegExp)for(let d of c.flags.split(""))i.add(d);return typeof c=="string"?Vy(c):c===S.GLOBSTAR?S.GLOBSTAR:c._src});return f.forEach((c,d)=>{let m=f[d+1],h=f[d-1];c!==S.GLOBSTAR||h===S.GLOBSTAR||(h===void 0?m!==void 0&&m!==S.GLOBSTAR?f[d+1]="(?:\\/|"+n+"\\/)?"+m:f[d]=n:m===void 0?f[d-1]=h+"(?:\\/|"+n+")?":m!==S.GLOBSTAR&&(f[d-1]=h+"(?:\\/|\\/"+n+"\\/)"+m,f[d+1]=S.GLOBSTAR))}),f.filter(c=>c!==S.GLOBSTAR).join("/")}).join("|"),[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let o=i[i.length-1];if(!o)for(let a=i.length-2;!o&&a>=0;a--)o=i[a];for(let a=0;a<s.length;a++){let u=s[a],f=i;if(n.matchBase&&u.length===1&&(f=[o]),this.matchOne(f,u,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return S.minimatch.defaults(e).Minimatch}};S.Minimatch=pt;var zy=as();Object.defineProperty(S,"AST",{enumerable:!0,get:function(){return zy.AST}});var Uy=us();Object.defineProperty(S,"escape",{enumerable:!0,get:function(){return Uy.escape}});var Ky=An();Object.defineProperty(S,"unescape",{enumerable:!0,get:function(){return Ky.unescape}});S.minimatch.AST=Vu.AST;S.minimatch.Minimatch=pt;S.minimatch.escape=cy.escape;S.minimatch.unescape=dy.unescape});var fs=y((vb,Gu)=>{var{promisify:ky}=Bi(),Q=Je(),Re=jt(),By=_u(),Fn=Tn(),Bu=ku();function Ue(t,e){e=e||{};var r=new By(e.env),n="/";Object.defineProperty(this,"fs",{get:function(){return t},enumerable:!0}),Object.defineProperty(this,"env",{get:function(){return r},enumerable:!0}),this.cd=function(i,s){i=Q.resolve(n,i),t.stat(i,function(o,a){if(o){s(new Re.ENOTDIR(null,i));return}a.type==="DIRECTORY"?(n=i,s()):s(new Re.ENOTDIR(null,i))})},this.pwd=function(){return n},this.promises={},["cd","exec","touch","cat","ls","rm","tempDir","mkdirp","find"].forEach(i=>{this.promises[i]=ky(this[i].bind(this))})}Ue.prototype.exec=function(t,e,r){var n=this,i=n.fs;typeof e=="function"&&(r=e,e=[]),e=e||[],r=r||function(){},t=Q.resolve(n.pwd(),t),i.readFile(t,"utf8",function(s,o){if(s){r(s);return}try{var a=new Function("fs","args","callback",o);a(i,e,r)}catch(u){r(u)}})};Ue.prototype.touch=function(t,e,r){var n=this,i=n.fs;typeof e=="function"&&(r=e,e={}),e=e||{},r=r||function(){},t=Q.resolve(n.pwd(),t);function s(a){i.writeFile(a,"",r)}function o(a){var u=Date.now(),f=e.date||u,c=e.date||u;i.utimes(a,f,c,r)}i.stat(t,function(a){a?e.updateOnly===!0?r():s(t):o(t)})};Ue.prototype.cat=function(t,e){var r=this,n=r.fs,i="";if(e=e||function(){},!t){e(new Re.EINVAL("Missing files argument"));return}t=typeof t=="string"?[t]:t;function s(o,a){var u=Q.resolve(r.pwd(),o);n.readFile(u,"utf8",function(f,c){if(f){a(f);return}i+=c+`
`,a()})}Fn.eachSeries(t,s,function(o){o?e(o):e(null,i.replace(/\n$/,""))})};Ue.prototype.ls=function(t,e,r){var n=this,i=n.fs;if(typeof e=="function"&&(r=e,e={}),e=e||{},r=r||function(){},!t){r(new Re.EINVAL("Missing dir argument"));return}function s(o,a){var u=Q.resolve(n.pwd(),o),f=[];i.readdir(u,function(c,d){if(c){a(c);return}function m(h,l){h=Q.join(u,h),i.stat(h,function(p,g){if(p){l(p);return}var _=g;e.recursive&&g.type==="DIRECTORY"?s(Q.join(u,_.name),function($,E){if($){l($);return}_.contents=E,f.push(_),l()}):(f.push(_),l())})}Fn.eachSeries(d,m,function(h){a(h,f)})})}s(t,r)};Ue.prototype.rm=function(t,e,r){var n=this,i=n.fs;if(typeof e=="function"&&(r=e,e={}),e=e||{},r=r||function(){},!t){r(new Re.EINVAL("Missing path argument"));return}function s(o,a){o=Q.resolve(n.pwd(),o),i.stat(o,function(u,f){if(u){a(u);return}if(f.type==="FILE"){i.unlink(o,a);return}i.readdir(o,function(c,d){if(c){a(c);return}if(d.length===0){i.rmdir(o,a);return}if(!e.recursive){a(new Re.ENOTEMPTY(null,o));return}d=d.map(function(m){return Q.join(o,m)}),Fn.eachSeries(d,s,function(m){if(m){a(m);return}i.rmdir(o,a)})})})}s(t,r)};Ue.prototype.tempDir=function(t){var e=this,r=e.fs,n=e.env.get("TMP");t=t||function(){},r.mkdir(n,function(){t(null,n)})};Ue.prototype.mkdirp=function(t,e){var r=this,n=r.fs;if(e=e||function(){},!t){e(new Re.EINVAL("Missing path argument"));return}if(t=Q.resolve(r.pwd(),t),t==="/"){e();return}function i(s,o){n.stat(s,function(a,u){if(u){if(u.isDirectory()){o();return}else if(u.isFile()){o(new Re.ENOTDIR(null,s));return}}else if(a&&a.code!=="ENOENT"){o(a);return}else{var f=Q.dirname(s);f==="/"?n.mkdir(s,function(c){if(c&&c.code!=="EEXIST"){o(c);return}o()}):i(f,function(c){if(c)return o(c);n.mkdir(s,function(d){if(d&&d.code!=="EEXIST"){o(d);return}o()})})}})}i(t,e)};Ue.prototype.find=function(t,e,r){var n=this,i=n.fs;typeof e=="function"&&(r=e,e={}),e=e||{},r=r||function(){};var s=e.exec||function(c,d){d()},o=[];if(!t){r(new Re.EINVAL("Missing path argument"));return}function a(c,d){s(c,function(m){if(m){d(m);return}o.push(c),d()})}function u(c,d){var m=Q.removeTrailing(c);if(e.regex&&!e.regex.test(m)){d();return}if(e.name&&!Bu(Q.basename(m),e.name)){d();return}if(e.path&&!Bu(Q.dirname(m),e.path)){d();return}a(c,d)}function f(c,d){c=Q.resolve(n.pwd(),c),i.readdir(c,function(m,h){if(m){m.code==="ENOTDIR"?u(c,d):d(m);return}u(Q.addTrailing(c),function(l){if(l){d(l);return}h=h.map(function(p){return Q.join(c,p)}),Fn.eachSeries(h,f,function(p){d(p,o)})})})}i.stat(t,function(c,d){if(c){r(c);return}if(!d.isDirectory()){r(new Re.ENOTDIR(null,t));return}f(t,r)})};Gu.exports=Ue});var ds=y(($b,Wu)=>{function Gy(t,e){for(var r=e.length-1;r>=0;r--)e[r]===t&&e.splice(r,1);return e}var Pe=function(){};Pe.createInterface=function(t){var e={};return e.on=function(r,n){typeof this[t]>"u"&&(this[t]={}),this[t].hasOwnProperty(r)||(this[t][r]=[]),this[t][r].push(n)},e.off=function(r,n){typeof this[t]>"u"||this[t].hasOwnProperty(r)&&Gy(n,this[t][r])},e.trigger=function(r){if(typeof this[t]<"u"&&this[t].hasOwnProperty(r))for(var n=Array.prototype.slice.call(arguments,1),i=0;i<this[t][r].length;i++)this[t][r][i].apply(this[t][r][i],n)},e.removeAllListeners=function(r){if(!(typeof this[t]>"u")){var n=this;n[t][r].forEach(function(i){n.off(r,i)})}},e};var cs=Pe.createInterface("_handlers");Pe.prototype._on=cs.on;Pe.prototype._off=cs.off;Pe.prototype._trigger=cs.trigger;var Vn=Pe.createInterface("handlers");Pe.prototype.on=function(){Vn.on.apply(this,arguments),Array.prototype.unshift.call(arguments,"on"),this._trigger.apply(this,arguments)};Pe.prototype.off=Vn.off;Pe.prototype.trigger=Vn.trigger;Pe.prototype.removeAllListeners=Vn.removeAllListeners;Wu.exports=Pe});var zn=y((wb,Yu)=>{function Hu(t){return t.replace(/[xy]/g,function(e){var r=Math.random()*16|0,n=e==="x"?r:r&3|8;return n.toString(16)})}function Wy(){return Hu("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx").toUpperCase()}function Hy(t){t=t||6;var e="x".repeat(t);return Hu(e)}function Yy(){}Yu.exports={guid:Wy,nop:Yy,randomChars:Hy}});var ls=y((Eb,Xu)=>{var Jy=ds(),Xy=zn().guid;function Ju(t,e){var r=0;return function(){var n=Date.now();n-r>t&&(r=n,e.apply(this,arguments))}}function Zy(t,e){if((typeof t>"u"||!t)&&(t={}),typeof e=="object")for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}var ee=function(t){return typeof t>"u"||typeof t.localStorage>"u"?{getItem:function(){},setItem:function(){},removeItem:function(){}}:t.localStorage}(global);function ne(){var t=this,e=Date.now();this.origin=Xy(),this.lastMessage=e,this.receivedIDs={},this.previousValues={};var r=function(){t._onStorageEvent.apply(t,arguments)};typeof document>"u"||(document.attachEvent?document.attachEvent("onstorage",r):global.addEventListener("storage",r,!1))}ne.prototype._transaction=function(t){var e=1e3,r=20,n=this,i=!1,s=!1,o=null;function a(){if(!i){var f=Date.now(),c=ee.getItem(Un)|0;if(c&&f-c<e){s||(n._on("storage",a),s=!0),o=setTimeout(a,r);return}i=!0,ee.setItem(Un,f),t(),u()}}function u(){s&&n._off("storage",a),o&&clearTimeout(o),ee.removeItem(Un)}a()};ne.prototype._cleanup_emit=Ju(100,function(){var t=this;t._transaction(function(){var e=Date.now(),r=e-Qy,n=0,i;try{i=JSON.parse(ee.getItem(ht)||"[]")}catch{i=[]}for(var s=i.length-1;s>=0;s--)i[s].timestamp<r&&(i.splice(s,1),n++);n>0&&ee.setItem(ht,JSON.stringify(i))})});ne.prototype._cleanup_once=Ju(100,function(){var t=this;t._transaction(function(){var e,r,n,i,s=Date.now(),o=0;try{i=JSON.parse(ee.getItem(fr)||"{}")}catch{i={}}for(n in i)t._once_expired(n,i)&&(delete i[n],o++);o>0&&ee.setItem(fr,JSON.stringify(i))})});ne.prototype._once_expired=function(t,e){if(!e||!e.hasOwnProperty(t)||typeof e[t]!="object")return!0;var r=e[t].ttl||eg,n=Date.now(),i=e[t].timestamp;return i<n-r};ne.prototype._localStorageChanged=function(t,e){if(t&&t.key)return t.key===e;var r=ee.getItem(e);return r===this.previousValues[e]?!1:(this.previousValues[e]=r,!0)};ne.prototype._onStorageEvent=function(t){t=t||global.event;var e=this;this._localStorageChanged(t,ht)&&this._transaction(function(){var r=Date.now(),n=ee.getItem(ht),i;try{i=JSON.parse(n||"[]")}catch{i=[]}for(var s=0;s<i.length;s++)if(i[s].origin!==e.origin&&!(i[s].timestamp<e.lastMessage)){if(i[s].id){if(e.receivedIDs.hasOwnProperty(i[s].id))continue;e.receivedIDs[i[s].id]=!0}e.trigger(i[s].name,i[s].payload)}e.lastMessage=r}),this._trigger("storage",t)};ne.prototype._emit=function(t,e,r){if(r=typeof r=="string"||typeof r=="number"?String(r):null,r&&r.length){if(this.receivedIDs.hasOwnProperty(r))return;this.receivedIDs[r]=!0}var n={id:r,name:t,origin:this.origin,timestamp:Date.now(),payload:e},i=this;this._transaction(function(){var s=ee.getItem(ht)||"[]",o=s==="[]"?"":",";s=[s.substring(0,s.length-1),o,JSON.stringify(n),"]"].join(""),ee.setItem(ht,s),i.trigger(t,e),setTimeout(function(){i._cleanup_emit()},50)})};ne.prototype.emit=function(t,e){this._emit.apply(this,arguments),this._trigger("emit",t,e)};ne.prototype.once=function(t,e,r){if(ne.supported){var n=this;this._transaction(function(){var i;try{i=JSON.parse(ee.getItem(fr)||"{}")}catch{i={}}n._once_expired(t,i)&&(i[t]={},i[t].timestamp=Date.now(),typeof r=="number"&&(i[t].ttl=r*1e3),ee.setItem(fr,JSON.stringify(i)),e(),setTimeout(function(){n._cleanup_once()},50))})}};Zy(ne.prototype,Jy.prototype);ne.supported=typeof ee<"u";var ht="intercom",fr="intercom_once",Un="intercom_lock",Qy=5e4,eg=1e3*3600;ne.destroy=function(){ee.removeItem(Un),ee.removeItem(ht),ee.removeItem(fr)};ne.getInstance=function(){var t;return function(){return t||(t=new ne),t}}();Xu.exports=ne});var rf=y((Sb,tf)=>{"using strict";var ef=ds(),Zu=Je(),Qu=ls();function Kn(){ef.call(this);let t=this,e=!1,r,n;function i(s){(n===s||e&&s.indexOf(r)===0)&&t.trigger("change","change",s)}t.start=function(s,o,a){if(n)return;if(Zu.isNull(s))throw new Error("Path must be a string without null bytes.");n=Zu.normalize(s),e=a===!0,e&&(r=n==="/"?"/":n+"/"),Qu.getInstance().on("change",i)},t.close=function(){Qu.getInstance().off("change",i),t.removeAllListeners("change")}}Kn.prototype=new ef;Kn.prototype.constructor=Kn;tf.exports=Kn});var sf=y((Ob,nf)=>{var tg=fe().NODE_TYPE_FILE;nf.exports=function(e,r){this.id=e,this.type=r||tg}});var uf=y((Pb,af)=>{var{FIRST_DESCRIPTOR:rg}=fe(),ps={},ng=()=>{let t=rg;for(;of(t);)t++;return t},of=t=>ps[t],ig=t=>{let e=ng();return ps[e]=t,e},sg=t=>delete ps[t];af.exports={allocDescriptor:ig,releaseDescriptor:sg,getOpenFileDescription:of}});var ms=y((bb,pf)=>{var{NODE_TYPE_FILE:lf,NODE_TYPE_DIRECTORY:og,NODE_TYPE_SYMBOLIC_LINK:ag,DEFAULT_FILE_PERMISSIONS:ff,DEFAULT_DIR_PERMISSIONS:ug}=fe(),{S_IFREG:fg,S_IFDIR:cg,S_IFLNK:dg}=fe().fsConstants;function cf(t,e,r){if(t[e])return r();t.guid(function(n,i){if(n)return r(n);t[e]=i,r()})}function df(t,e){switch(t){case og:return(e||ug)|cg;case ag:return(e||ff)|dg;case lf:default:return(e||ff)|fg}}var hs=class{constructor(e){var r=Date.now();this.id=e.id,this.data=e.data,this.size=e.size||0,this.atime=e.atime||r,this.ctime=e.ctime||r,this.mtime=e.mtime||r,this.flags=e.flags||[],this.xattrs=e.xattrs||{},this.nlinks=e.nlinks||0,typeof e.type=="string"?this.type=e.type:typeof e.mode=="string"?this.type=e.mode:this.type=lf,this.permissions=e.permissions||df(this.type),this.uid=e.uid||0,this.gid=e.gid||0}toJSON(){return{id:this.id,data:this.data,size:this.size,atime:this.atime,ctime:this.ctime,mtime:this.ctime,flags:this.flags,xattrs:this.xattrs,nlinks:this.nlinks,mode:this.type,permissions:this.permissions,uid:this.uid,gid:this.gid}}get mode(){return df(this.type,this.permissions)}set mode(e){this.permissions=e}};pf.exports.create=function(e,r){cf(e,"id",function(n){if(n)return r(n);cf(e,"data",function(i){if(i)return r(i);r(null,new hs(e))})})}});var yf=y((Nb,mf)=>{var lg=jt(),pg=ms();function hf(t,e,r,n){this.path=t,this.id=e,this.flags=r,this.position=n}hf.prototype.getNode=function(t,e){var r=this.id,n=this.path;function i(s,o){if(s)return e(s);if(!o)return e(new lg.EBADF("file descriptor refers to unknown node",n));pg.create(o,e)}t.getObject(r,i)};mf.exports=hf});var vf=y((Ib,_f)=>{var gf=fe();function ys(t){var e=Date.now();this.id=gf.SUPER_NODE_ID,this.type=gf.NODE_TYPE_META,this.atime=t.atime||e,this.ctime=t.ctime||e,this.mtime=t.mtime||e,this.rnode=t.rnode}ys.create=function(t,e){t.guid(function(r,n){if(r){e(r);return}t.rnode=t.rnode||n,e(null,new ys(t))})};_f.exports=ys});var vs=y((Tb,$f)=>{"use strict";var _s=fe(),hg=Je();function gs(t){return new Date(Number(t))}function Qe(t,e,r){this.dev=r,this.node=e.id,this.type=e.type,this.size=e.size,this.nlinks=e.nlinks,this.atime=gs(e.atime),this.mtime=gs(e.mtime),this.ctime=gs(e.ctime),this.atimeMs=e.atime,this.mtimeMs=e.mtime,this.ctimeMs=e.ctime,this.version=e.version,this.mode=e.mode,this.uid=e.uid,this.gid=e.gid,this.name=hg.basename(t)}Qe.prototype.isFile=function(){return this.type===_s.NODE_TYPE_FILE};Qe.prototype.isDirectory=function(){return this.type===_s.NODE_TYPE_DIRECTORY};Qe.prototype.isSymbolicLink=function(){return this.type===_s.NODE_TYPE_SYMBOLIC_LINK};Qe.prototype.isSocket=Qe.prototype.isFIFO=Qe.prototype.isCharacterDevice=Qe.prototype.isBlockDevice=function(){return!1};$f.exports=Qe});var Sf=y((jb,Ef)=>{"use strict";var wf=vs();function $s(t,e,r){this.constructor=$s,wf.call(this,t,e,r)}$s.prototype=wf.prototype;Ef.exports=$s});var xf=y((Db,Cf)=>{var Ae=Je(),K=Ae.normalize,ye=Ae.dirname,ge=Ae.basename,mg=Ae.isAbsolute,yg=zn(),gg=Tn(),Y=fe(),ws=Y.NODE_TYPE_FILE,ie=Y.NODE_TYPE_DIRECTORY,cr=Y.NODE_TYPE_SYMBOLIC_LINK,_g=Y.NODE_TYPE_META,dr=Y.FULL_READ_WRITE_EXEC_PERMISSIONS,mt=Y.ROOT_DIRECTORY_NAME,Es=Y.SUPER_NODE_ID,Pf=Y.SYMLOOP_MAX,vg=Y.O_READ,qe=Y.O_WRITE,$g=Y.O_CREATE,wg=Y.O_EXCLUSIVE,Eg=Y.O_APPEND,Of=Y.O_FLAGS,Ss=Y.XATTR_CREATE,Os=Y.XATTR_REPLACE,Sg=Y.FS_NOMTIME,Og=Y.FS_NOCTIME,v=jt(),kn=sf(),J=uf(),Bn=yf(),bf=vf(),tt=ms(),Pg=Sf(),Gn=vs();function G(t,e,r,n,i){var s=t.flags;s.includes(Og)&&delete n.ctime,s.includes(Sg)&&delete n.mtime;var o=!1;n.ctime&&(r.ctime=n.ctime,r.atime=n.ctime,o=!0),n.atime&&(r.atime=n.atime,o=!0),n.mtime&&(r.mtime=n.mtime,o=!0);function a(u){t.changes.push({event:"change",path:e}),i(u)}o?t.putObject(r.id,r,a):a()}function bg(t,e,r,n){if(r!==ie&&r!==ws)return n(new v.EINVAL("type must be a directory or file",e));e=K(e);var i=ge(e),s=ye(e),o,a,u;function f(l,p){l?n(l):p.type!==ie?n(new v.ENOTDIR("a component of the path prefix is not a directory",e)):(o=p,L(t,e,c))}function c(l,p){!l&&p?n(new v.EEXIST("path name already exists",e)):l&&!(l instanceof v.ENOENT)?n(l):t.getObject(o.data,d)}function d(l,p){l?n(l):(a=p,tt.create({guid:t.guid,type:r},function(g,_){if(g){n(g);return}u=_,u.nlinks+=1,t.putObject(u.id,u,h)}))}function m(l){if(l)n(l);else{var p=Date.now();G(t,s,u,{mtime:p,ctime:p},n)}}function h(l){l?n(l):(a[i]=new kn(u.id,r),t.putObject(o.data,a,m))}L(t,s,f)}function L(t,e,r){if(e=K(e),!e)return r(new v.ENOENT("path is an empty string"));var n=ge(e),i=ye(e),s=0;function o(h,l){if(h)return r(h);let p=new bf(l);!p||p.type!==_g||!p.rnode?r(new v.EFILESYSTEMERROR):t.getObject(p.rnode,a)}function a(h,l){h?r(h):l?tt.create(l,r):r(new v.ENOENT)}function u(h,l){h?r(h):l.type!==ie||!l.data?r(new v.ENOTDIR("a component of the path prefix is not a directory",e)):t.getObject(l.data,f)}function f(h,l){if(h)r(h);else if(!Object.prototype.hasOwnProperty.call(l,n))r(new v.ENOENT(null,e));else{var p=l[n].id;t.getObject(p,c)}}function c(h,l){if(h)return r(h);tt.create(l,d)}function d(h,l){h?r(h):l.type===cr?(s++,s>Pf?r(new v.ELOOP(null,e)):m(l.data)):r(null,l)}function m(h){h=K(h),i=ye(h),n=ge(h),mt===n?t.getObject(Es,o):L(t,i,u)}mt===n?t.getObject(Es,o):L(t,i,u)}function Nf(t,e,r,n,i,s,o){function a(f){f?o(f):G(t,e,r,{ctime:Date.now()},o)}var u=r.xattrs;s===Ss&&Object.prototype.hasOwnProperty.call(u,n)?o(new v.EEXIST("attribute already exists",e)):s===Os&&!Object.prototype.hasOwnProperty.call(u,n)?o(new v.ENOATTR(null,e)):(u[n]=i,t.putObject(r.id,r,a))}function Ng(t,e){var r,n,i;function s(u,f){!u&&f?e():u&&!(u instanceof v.ENOENT)?e(u):bf.create({guid:t.guid},function(c,d){if(c){e(c);return}r=d,t.putObject(r.id,r,o)})}function o(u){u?e(u):tt.create({guid:t.guid,id:r.rnode,type:ie},function(f,c){if(f){e(f);return}n=c,n.nlinks+=1,t.putObject(n.id,n,a)})}function a(u){u?e(u):(i={},t.putObject(n.data,i,e))}t.getObject(Es,s)}function If(t,e,r){e=K(e);var n=ge(e),i=ye(e),s,o,a,u;function f(p,g){!p&&g?r(new v.EEXIST(null,e)):p&&!(p instanceof v.ENOENT)?r(p):L(t,i,c)}function c(p,g){p?r(p):(a=g,t.getObject(a.data,d))}function d(p,g){p?r(p):(u=g,tt.create({guid:t.guid,type:ie},function(_,$){if(_){r(_);return}s=$,s.nlinks+=1,t.putObject(s.id,s,m)}))}function m(p){p?r(p):(o={},t.putObject(s.data,o,l))}function h(p){if(p)r(p);else{var g=Date.now();G(t,i,a,{mtime:g,ctime:g},r)}}function l(p){p?r(p):(u[n]=new kn(s.id,ie),t.putObject(a.data,u,h))}L(t,e,f)}function Ig(t,e,r,n){let{F_OK:i,R_OK:s,W_OK:o,X_OK:a,S_IXUSR:u,S_IXGRP:f,S_IXOTH:c}=Y.fsConstants;e=K(e),L(t,e,function(d,m){if(d)return n(d);if(r===i)return n(null);var h=pr(m.mode,n);if(h){if(r&(s|o)||r&a&&h&(u|f|c))return n(null);n(new v.EACCES("permission denied",e))}})}function Tf(t,e,r){e=K(e);var n=ge(e),i=ye(e),s,o,a,u;function f(_,$){_?r(_):(a=$,t.getObject(a.data,c))}function c(_,$){_?r(_):mt===n?r(new v.EBUSY(null,e)):Object.prototype.hasOwnProperty.call($,n)?(u=$,s=u[n].id,t.getObject(s,d)):r(new v.ENOENT(null,e))}function d(_,$){_?r(_):$.type!==ie?r(new v.ENOTDIR(null,e)):(s=$,t.getObject(s.data,m))}function m(_,$){_?r(_):(o=$,Object.keys(o).length>0?r(new v.ENOTEMPTY(null,e)):l())}function h(_){if(_)r(_);else{var $=Date.now();G(t,i,a,{mtime:$,ctime:$},p)}}function l(){delete u[n],t.putObject(a.data,u,h)}function p(_){_?r(_):t.delete(s.id,g)}function g(_){_?r(_):t.delete(s.data,r)}L(t,i,f)}function Wn(t,e,r,n,i){typeof n=="function"&&(i=n,n=null),e=K(e);var s=ge(e),o=ye(e),a,u,f,c,d,m=0;mt===s?r.includes(qe)?i(new v.EISDIR("the named file is a directory and O_WRITE is set",e)):L(t,e,_):L(t,o,h);function h(O,b){O?i(O):b.type!==ie?i(new v.ENOENT(null,e)):(a=b,t.getObject(a.data,l))}function l(O,b){O?i(O):(u=b,Object.prototype.hasOwnProperty.call(u,s)?r.includes(wg)?i(new v.EEXIST("O_CREATE and O_EXCLUSIVE are set, and the named file exists",e)):(f=u[s],f.type===ie&&r.includes(qe)?i(new v.EISDIR("the named file is a directory and O_WRITE is set",e)):t.getObject(f.id,p)):r.includes($g)?$():i(new v.ENOENT("O_CREATE is not set and the named file does not exist",e)))}function p(O,b){if(O)i(O);else{var V=b;V.type===cr?(m++,m>Pf?i(new v.ELOOP(null,e)):g(V.data)):_(void 0,V)}}function g(O){O=K(O),o=ye(O),s=ge(O),mt===s&&(r.includes(qe)?i(new v.EISDIR("the named file is a directory and O_WRITE is set",e)):L(t,e,_)),L(t,o,h)}function _(O,b){O?i(O):(c=b,i(null,c))}function $(){tt.create({guid:t.guid,type:ws},function(O,b){if(O){i(O);return}c=b,c.nlinks+=1,n&&(c.mode=n),t.putObject(c.id,c,E)})}function E(O){O?i(O):(d=Buffer.alloc(0),t.putBuffer(c.data,d,w))}function I(O){if(O)i(O);else{var b=Date.now();G(t,o,a,{mtime:b,ctime:b},N)}}function w(O){O?i(O):(u[s]=new kn(c.id,ws),t.putObject(a.data,u,I))}function N(O){O?i(O):i(null,c)}}function Tg(t,e,r,n,i,s){var o;function a(d){d?s(d):s(null,i)}function u(d){if(d)s(d);else{var m=Date.now();G(t,e.path,o,{mtime:m,ctime:m},a)}}function f(d){d?s(d):t.putObject(o.id,o,u)}function c(d,m){if(d)s(d);else{o=m;var h=Buffer.alloc(i);r.copy(h,0,n,n+i),e.position=i,o.size=i,o.version+=1,t.putBuffer(o.data,h,f)}}t.getObject(e.id,c)}function jf(t,e,r,n,i,s,o){var a,u;function f(l){l?o(l):o(null,i)}function c(l){if(l)o(l);else{var p=Date.now();G(t,e.path,a,{mtime:p,ctime:p},f)}}function d(l){l?o(l):t.putObject(a.id,a,c)}function m(l,p){if(l)o(l);else{if(u=p,!u)return o(new v.EIO("Expected Buffer"));var g=s??e.position,_=Math.max(u.length,g+i),$=Buffer.alloc(_);u&&u.copy($),r.copy($,g,n,n+i),s===void 0&&(e.position+=i),a.size=_,a.version+=1,t.putBuffer(a.data,$,d)}}function h(l,p){l?o(l):(a=p,t.getBuffer(a.data,m))}t.getObject(e.id,h)}function Df(t,e,r,n,i,s,o){var a,u;function f(d,m){if(d)o(d);else{if(u=m,!u)return o(new v.EIO("Expected Buffer"));var h=s??e.position;i=h+i>r.length?i-h:i,u.copy(r,n,h,h+i),s===void 0&&(e.position+=i),o(null,i)}}function c(d,m){d?o(d):m.type===ie?o(new v.EISDIR("the named file is a directory",e.path)):(a=m,t.getBuffer(a.data,f))}t.getObject(e.id,c)}function jg(t,e,r){e=K(e),L(t,e,r)}function Ps(t,e,r){e.getNode(t,r)}function Rf(t,e,r){e=K(e);var n=ge(e),i=ye(e),s,o;mt===n?L(t,e,r):L(t,i,a);function a(c,d){c?r(c):(s=d,t.getObject(s.data,f))}function u(c,d){if(c)return r(c);tt.create(d,r)}function f(c,d){c?r(c):(o=d,Object.prototype.hasOwnProperty.call(o,n)?t.getObject(o[n].id,u):r(new v.ENOENT("a component of the path does not name an existing file",e)))}}function Af(t,e,r,n){e=K(e);var i=ge(e),s=ye(e);r=K(r);var o=ge(r),a=ye(r),u=Date.now(),f,c,d,m,h,l;function p(N){N?n(N):G(t,r,l,{ctime:u},n)}function g(N,O){N?n(N):(l=O,l.nlinks+=1,t.putObject(l.id,l,p))}function _(N){N?n(N):t.getObject(h,g)}function $(N,O){N?n(N):(m=O,Object.prototype.hasOwnProperty.call(m,o)?n(new v.EEXIST("newpath resolves to an existing file",o)):(m[o]=c[i],h=m[o].id,t.putObject(d.data,m,_)))}function E(N,O){N?n(N):(d=O,t.getObject(d.data,$))}function I(N,O){N?n(N):(c=O,Object.prototype.hasOwnProperty.call(c,i)?c[i].type===ie?n(new v.EPERM("oldpath refers to a directory")):L(t,a,E):n(new v.ENOENT("a component of either path prefix does not exist",i)))}function w(N,O){N?n(N):(f=O,t.getObject(f.data,I))}L(t,s,w)}function qf(t,e,r){e=K(e);var n=ge(e),i=ye(e),s,o,a;function u(l){l?r(l):(delete o[n],t.putObject(s.data,o,function(p){if(p)r(p);else{var g=Date.now();G(t,i,s,{mtime:g,ctime:g},r)}}))}function f(l){l?r(l):t.delete(a.data,u)}function c(l,p){l?r(l):(a=p,a.nlinks-=1,a.nlinks<1?t.delete(a.id,f):t.putObject(a.id,a,function(g){g?r(g):G(t,e,a,{ctime:Date.now()},u)}))}function d(l,p){l?r(l):p.type===ie?r(new v.EPERM("unlink not permitted on directories",n)):c(null,p)}function m(l,p){l?r(l):(o=p,Object.prototype.hasOwnProperty.call(o,n)?t.getObject(o[n].id,d):r(new v.ENOENT("a component of the path does not name an existing file",n)))}function h(l,p){l?r(l):(s=p,t.getObject(s.data,m))}L(t,i,h)}function Dg(t,e,r,n){e=K(e),typeof r=="function"&&(n=r,r={}),r=Ag(r);var i,s;function o(u,f){if(u)n(u);else{s=f;var c=Object.keys(s);if(r.encoding){var d=c.map(function(l){return Buffer.from(l)});r.encoding==="buffer"?c=d:c=d.map(function(l){return l.toString(r.encoding)})}if(r.withFileTypes){let l=function(p,g){let _=Buffer.from(p,r.encoding).toString(),$=Ae.join(e,_);Rg(t,$,function(E,I){E&&g(E),I.name=p,m.push(I),g()})};var h=l,m=[];gg.eachSeries(c,l,function(p){n(p,m)})}else n(null,c)}}function a(u,f){u?n(u):f.type!==ie?n(new v.ENOTDIR(null,e)):(i=f,t.getObject(i.data,o))}L(t,e,a)}function Rg(t,e,r){function n(i,s){if(i)r(i);else{var o=new Pg(e,s,t.name);r(null,o)}}Rf(t,e,n)}function Ag(t,e){return t?typeof t=="function"?t={encoding:e}:typeof t=="string"&&(t={encoding:t}):t={encoding:e},t}function qg(t,e,r,n){r=K(r);var i=ge(r),s=ye(r),o,a,u;mt===i?n(new v.EEXIST(null,i)):L(t,s,f);function f(l,p){l?n(l):(o=p,t.getObject(o.data,c))}function c(l,p){l?n(l):(a=p,Object.prototype.hasOwnProperty.call(a,i)?n(new v.EEXIST(null,i)):d())}function d(){tt.create({guid:t.guid,type:cr},function(l,p){if(l){n(l);return}u=p,u.nlinks+=1,mg(e)||(u.symlink_relpath=e,e=Ae.resolve(s,e)),u.size=e.length,u.data=e,t.putObject(u.id,u,h)})}function m(l){if(l)n(l);else{var p=Date.now();G(t,s,o,{mtime:p,ctime:p},n)}}function h(l){l?n(l):(a[i]=new kn(u.id,cr),t.putObject(o.data,a,m))}}function Mg(t,e,r){e=K(e);var n=ge(e),i=ye(e),s,o;L(t,i,a);function a(c,d){c?r(c):(s=d,t.getObject(s.data,u))}function u(c,d){c?r(c):(o=d,Object.prototype.hasOwnProperty.call(o,n)?t.getObject(o[n].id,f):r(new v.ENOENT("a component of the path does not name an existing file",n)))}function f(c,d){if(c)r(c);else if(d.type!==cr)r(new v.EINVAL("path not a symbolic link",e));else{var m=d.symlink_relpath?d.symlink_relpath:d.data;r(null,m)}}}function Cg(t,e,r,n){e=K(e);var i;function s(f,c){f?n(f):c.type===ie?n(new v.EISDIR(null,e)):(i=c,t.getBuffer(i.data,o))}function o(f,c){if(f)n(f);else{if(!c)return n(new v.EIO("Expected Buffer"));var d=Buffer.alloc(r);c&&c.copy(d),t.putBuffer(i.data,d,u)}}function a(f){if(f)n(f);else{var c=Date.now();G(t,e,i,{mtime:c,ctime:c},n)}}function u(f){f?n(f):(i.size=r,i.version+=1,t.putObject(i.id,i,a))}r<0?n(new v.EINVAL("length cannot be negative")):L(t,e,s)}function xg(t,e,r,n){var i;function s(f,c){f?n(f):c.type===ie?n(new v.EISDIR):(i=c,t.getBuffer(i.data,o))}function o(f,c){if(f)n(f);else{var d;if(!c)return n(new v.EIO("Expected Buffer"));c?d=c.slice(0,r):d=Buffer.alloc(r),t.putBuffer(i.data,d,u)}}function a(f){if(f)n(f);else{var c=Date.now();G(t,e.path,i,{mtime:c,ctime:c},n)}}function u(f){f?n(f):(i.size=r,i.version+=1,t.putObject(i.id,i,a))}r<0?n(new v.EINVAL("length cannot be negative")):e.getNode(t,s)}function Lg(t,e,r,n,i){e=K(e);function s(o,a){o?i(o):G(t,e,a,{atime:r,ctime:n,mtime:n},i)}typeof r!="number"||typeof n!="number"?i(new v.EINVAL("atime and mtime must be number",e)):r<0||n<0?i(new v.EINVAL("atime and mtime must be positive integers",e)):L(t,e,s)}function Fg(t,e,r,n,i){function s(o,a){o?i(o):G(t,e.path,a,{atime:r,ctime:n,mtime:n},i)}typeof r!="number"||typeof n!="number"?i(new v.EINVAL("atime and mtime must be a number")):r<0||n<0?i(new v.EINVAL("atime and mtime must be positive integers")):e.getNode(t,s)}function Vg(t,e,r,n,i,s){e=K(e);function o(a,u){if(a)return s(a);Nf(t,e,u,r,n,i,s)}typeof r!="string"?s(new v.EINVAL("attribute name must be a string",e)):r?i!==null&&i!==Ss&&i!==Os?s(new v.EINVAL("invalid flag, must be null, XATTR_CREATE or XATTR_REPLACE",e)):L(t,e,o):s(new v.EINVAL("attribute name cannot be an empty string",e))}function zg(t,e,r,n,i,s){function o(a,u){if(a)return s(a);Nf(t,e.path,u,r,n,i,s)}typeof r!="string"?s(new v.EINVAL("attribute name must be a string")):r?i!==null&&i!==Ss&&i!==Os?s(new v.EINVAL("invalid flag, must be null, XATTR_CREATE or XATTR_REPLACE")):e.getNode(t,o):s(new v.EINVAL("attribute name cannot be an empty string"))}function Ug(t,e,r,n){e=K(e);function i(s,o){if(s)return n(s);var a=o.xattrs;Object.prototype.hasOwnProperty.call(a,r)?n(null,a[r]):n(new v.ENOATTR(null,e))}typeof r!="string"?n(new v.EINVAL("attribute name must be a string",e)):r?L(t,e,i):n(new v.EINVAL("attribute name cannot be an empty string",e))}function Kg(t,e,r,n){function i(s,o){if(s)return n(s);var a=o.xattrs;Object.prototype.hasOwnProperty.call(a,r)?n(null,a[r]):n(new v.ENOATTR)}typeof r!="string"?n(new v.EINVAL):r?e.getNode(t,i):n(new v.EINVAL("attribute name cannot be an empty string"))}function kg(t,e,r,n){e=K(e);function i(s,o){if(s)return n(s);function a(f){f?n(f):G(t,e,o,{ctime:Date.now()},n)}var u=o.xattrs;Object.prototype.hasOwnProperty.call(u,r)?(delete u[r],t.putObject(o.id,o,a)):n(new v.ENOATTR(null,e))}typeof r!="string"?n(new v.EINVAL("attribute name must be a string",e)):r?L(t,e,i):n(new v.EINVAL("attribute name cannot be an empty string",e))}function Bg(t,e,r,n){function i(s,o){if(s)return n(s);function a(f){f?n(f):G(t,e.path,o,{ctime:Date.now()},n)}var u=o.xattrs;Object.prototype.hasOwnProperty.call(u,r)?(delete u[r],t.putObject(o.id,o,a)):n(new v.ENOATTR)}typeof r!="string"?n(new v.EINVAL("attribute name must be a string")):r?e.getNode(t,i):n(new v.EINVAL("attribute name cannot be an empty string"))}function Hn(t){return Object.prototype.hasOwnProperty.call(Of,t)?Of[t]:null}function bs(t,e,r){return t?typeof t=="function"?t={encoding:e,flag:r}:typeof t=="string"&&(t={encoding:t,flag:r}):t={encoding:e,flag:r},t}function Gg(t,e,r,n,i){arguments.length<5?(i=arguments[arguments.length-1],n=420):n=pr(n,dr,i);function s(o,a){if(o)i(o);else{var u;r.includes(Eg)?u=a.size:u=0;var f=new Bn(e,a.id,r,u),c=J.allocDescriptor(f);i(null,c)}}if(r=Hn(r),!r)return i(new v.EINVAL("flags is not valid"),e);Wn(t,e,r,n,s)}function Wg(t,e,r){J.getOpenFileDescription(e)?(J.releaseDescriptor(e),r(null)):r(new v.EBADF)}function Hg(t,e,r,n){bg(t,e,r,n)}function Yg(t,e,r,n){if(arguments.length<4)n=r,r=dr;else if(r=pr(r,dr,n),!r)return;If(t,e,n)}function Jg(t,e,r,n){typeof r=="function"&&(n=r,r=Y.fsConstants.F_OK),r=r|Y.fsConstants.F_OK,Ig(t,e,r,n)}function Xg(t,e,r,n){if(n=arguments[arguments.length-1],!e)return n(new Error("filename prefix is required"));let i=yg.randomChars(6);var s=e+"-"+i;If(t,s,function(o){n(o,s)})}function Zg(t,e,r){Tf(t,e,r)}function Mf(t,e,r){function n(i,s){if(i)r(i);else{var o=new Gn(e,s,t.name);r(null,o)}}jg(t,e,n)}function Qg(t,e,r){function n(s,o){if(s)r(s);else{var a=new Gn(i.path,o,t.name);r(null,a)}}var i=J.getOpenFileDescription(e);i?Ps(t,i,n):r(new v.EBADF)}function e_(t,e,r,n){Af(t,e,r,n)}function t_(t,e,r){qf(t,e,r)}function r_(t,e,r,n,i,s,o){function a(f,c){o(f,c||0,r)}n=n===void 0?0:n,i=i===void 0?r.length-n:i,o=arguments[arguments.length-1];var u=J.getOpenFileDescription(e);u?u.flags.includes(vg)?Df(t,u,r,n,i,s,a):o(new v.EBADF("descriptor does not permit reading")):o(new v.EBADF)}function n_(t,e,r){if(Ns(e,r)===e){var n=J.getOpenFileDescription(e);n?r():r(new v.EBADF)}}function i_(t,e,r,n){n=arguments[arguments.length-1],r=bs(r,null,"r");var i=Hn(r.flag||"r");if(!i)return n(new v.EINVAL("flags is not valid",e));Wn(t,e,i,function(s,o){if(s)return n(s);var a=new Bn(e,o.id,i,0),u=J.allocDescriptor(a);function f(){J.releaseDescriptor(u)}Ps(t,a,function(c,d){if(c)return f(),n(c);var m=new Gn(a.path,d,t.name);if(m.isDirectory())return f(),n(new v.EISDIR("illegal operation on directory",e));var h=m.size,l=Buffer.alloc(h);Df(t,a,l,0,h,0,function(p){if(f(),p)return n(p);var g;r.encoding==="utf8"?g=l.toString("utf8"):g=l,n(null,g)})})})}function s_(t,e,r,n,i,s,o){o=arguments[arguments.length-1],n=n===void 0?0:n,i=i===void 0?r.length-n:i;var a=J.getOpenFileDescription(e);a?a.flags.includes(qe)?r.length-n<i?o(new v.EIO("input buffer is too small")):jf(t,a,r,n,i,s,o):o(new v.EBADF("descriptor does not permit writing")):o(new v.EBADF)}function o_(t,e,r,n,i){i=arguments[arguments.length-1],n=bs(n,"utf8","w");var s=Hn(n.flag||"w");if(!s)return i(new v.EINVAL("flags is not valid",e));Buffer.isBuffer(r)||(typeof r=="number"&&(r=""+r),r=r||"",typeof r!="string"?r=Buffer.from(r.toString()):r=Buffer.from(r||"",n.encoding||"utf8")),Wn(t,e,s,function(o,a){if(o)return i(o);var u=new Bn(e,a.id,s,0),f=J.allocDescriptor(u);Tg(t,u,r,0,r.length,function(c){if(J.releaseDescriptor(f),c)return i(c);i(null)})})}function a_(t,e,r,n,i){i=arguments[arguments.length-1],n=bs(n,"utf8","a");var s=Hn(n.flag||"a");if(!s)return i(new v.EINVAL("flags is not valid",e));r=r||"",typeof r=="number"&&(r=""+r),typeof r=="string"&&n.encoding==="utf8"&&(r=Buffer.from(r)),Wn(t,e,s,function(o,a){if(o)return i(o);var u=new Bn(e,a.id,s,a.size),f=J.allocDescriptor(u);jf(t,u,r,0,r.length,u.position,function(c){if(J.releaseDescriptor(f),c)return i(c);i(null)})})}function u_(t,e,r){function n(i){r(!i)}Mf(t,e,n)}function Ns(t,e){if(typeof t!="number"){e(new v.EINVAL("Expected integer",t));return}return t}var f_=/^[0-7]+$/;function lr(t){return t===t>>>0}function pr(t,e,r){if(typeof e=="function"&&(r=e,e=void 0),lr(t))return t&dr;if(typeof t=="number")return Number.isInteger(t)?(r(new v.EINVAL("mode not a valid an integer value",t)),!1):(r(new v.EINVAL("mode not a valid an integer value",t)),!1);if(typeof t=="string"){if(!f_.test(t))return r(new v.EINVAL("mode not a valid octal string",t)),!1;var n=parseInt(t,8);return n&dr}return e!==void 0?e:(r(new v.EINVAL("mode not valid",t)),!1)}function c_(t,e,r,n){e=K(e);function i(s,o){s?n(s):(o.mode=r,G(t,e,o,{mtime:Date.now()},n))}typeof r!="number"?n(new v.EINVAL("mode must be number",e)):L(t,e,i)}function d_(t,e,r,n){function i(s,o){s?n(s):(o.mode=r,G(t,e.path,o,{mtime:Date.now()},n))}typeof r!="number"?n(new v.EINVAL("mode must be a number")):e.getNode(t,i)}function l_(t,e,r,n,i){e=K(e);function s(o,a){o?i(o):(a.uid=r,a.gid=n,G(t,e,a,{mtime:Date.now()},i))}L(t,e,s)}function p_(t,e,r,n,i){function s(o,a){o?i(o):(a.uid=r,a.gid=n,G(t,e.path,a,{mtime:Date.now()},i))}e.getNode(t,s)}function h_(t,e,r,n){Ug(t,e,r,n)}function m_(t,e,r,n){var i=J.getOpenFileDescription(e);i?Kg(t,i,r,n):n(new v.EBADF)}function y_(t,e,r,n,i,s){typeof i=="function"&&(s=i,i=null),Vg(t,e,r,n,i,s)}function g_(t,e,r,n,i,s){typeof i=="function"&&(s=i,i=null);var o=J.getOpenFileDescription(e);o?o.flags.includes(qe)?zg(t,o,r,n,i,s):s(new v.EBADF("descriptor does not permit writing")):s(new v.EBADF)}function __(t,e,r,n){kg(t,e,r,n)}function v_(t,e,r,n){var i=J.getOpenFileDescription(e);i?i.flags.includes(qe)?Bg(t,i,r,n):n(new v.EBADF("descriptor does not permit writing")):n(new v.EBADF)}function $_(t,e,r,n,i){function s(a,u){a?i(a):u.size+r<0?i(new v.EINVAL("resulting file offset would be negative")):(o.position=u.size+r,i(null,o.position))}var o=J.getOpenFileDescription(e);o||i(new v.EBADF),n==="SET"?r<0?i(new v.EINVAL("resulting file offset would be negative")):(o.position=r,i(null,o.position)):n==="CUR"?o.position+r<0?i(new v.EINVAL("resulting file offset would be negative")):(o.position+=r,i(null,o.position)):n==="END"?Ps(t,o,s):i(new v.EINVAL("whence argument is not a proper value"))}function w_(t,e,r,n){Dg(t,e,r,n)}function et(t){if(typeof t=="number")return t;if(typeof t=="object"&&typeof t.getTime=="function")return t.getTime()}function E_(t,e,r,n,i){var s=Date.now();r=et(r||s),n=et(n||s),Lg(t,e,r,n,i)}function S_(t,e,r,n,i){var s=Date.now();r=et(r||s),n=et(n||s);var o=J.getOpenFileDescription(e);o?o.flags.includes(qe)?Fg(t,o,r,n,i):i(new v.EBADF("descriptor does not permit writing")):i(new v.EBADF)}function O_(t,e,r,n){r=pr(r,n),r&&c_(t,e,r,n)}function P_(t,e,r,n){if(r=pr(r,n),!!r){var i=J.getOpenFileDescription(e);i?i.flags.includes(qe)?d_(t,i,r,n):n(new v.EBADF("descriptor does not permit writing")):n(new v.EBADF)}}function b_(t,e,r,n,i){if(!lr(r))return i(new v.EINVAL("uid must be a valid integer",r));if(!lr(n))return i(new v.EINVAL("gid must be a valid integer",n));l_(t,e,r,n,i)}function N_(t,e,r,n,i){if(!lr(r))return i(new v.EINVAL("uid must be a valid integer",r));if(!lr(n))return i(new v.EINVAL("gid must be a valid integer",n));var s=J.getOpenFileDescription(e);s?s.flags.includes(qe)?p_(t,s,r,n,i):i(new v.EBADF("descriptor does not permit writing")):i(new v.EBADF)}function I_(t,e,r,n){e=K(e),r=K(r);var i=Ae.dirname(e),s=Ae.dirname(r),o=Ae.basename(e),a=Ae.basename(r),u,f,c,d,m=Date.now(),h;function l(b,V){b?n(b):(h=V,G(t,r,h,{ctime:m},n))}function p(b){b?n(b):t.getObject(d[a].id,l)}function g(b){b?n(b):(u.id===c.id&&(f=d),delete f[o],t.putObject(u.data,f,p))}function _(b){b?n(b):(d[a]=f[o],t.putObject(c.data,d,g))}function $(b,V){b?n(b):(d=V,Object.prototype.hasOwnProperty.call(d,a)?Tf(t,r,_):_())}function E(b,V){b?n(b):(c=V,t.getObject(c.data,$))}function I(b,V){b?n(b):(f=V,L(t,s,E))}function w(b,V){b?n(b):(u=V,t.getObject(V.data,I))}function N(b){b?n(b):qf(t,e,n)}function O(b,V){b?n(b):V.type===ie?L(t,i,w):Af(t,e,r,N)}L(t,e,O)}function T_(t,e,r,n,i){i=arguments[arguments.length-1],qg(t,e,r,i)}function j_(t,e,r){Mg(t,e,r)}function D_(t,e,r){function n(i,s){if(i)r(i);else{var o=new Gn(e,s,t.name);r(null,o)}}Rf(t,e,n)}function R_(t,e,r,n){n=arguments[arguments.length-1],r=r||0,Ns(r,n)===r&&Cg(t,e,r,n)}function A_(t,e,r,n){n=arguments[arguments.length-1],r=r||0;var i=J.getOpenFileDescription(e);if(!i)n(new v.EBADF);else if(!i.flags.includes(qe))n(new v.EBADF("descriptor does not permit writing"));else{if(Ns(r,n)!==r)return;xg(t,i,r,n)}}Cf.exports={appendFile:a_,access:Jg,chown:b_,chmod:O_,close:Wg,ensureRootDirectory:Ng,exists:u_,fchown:N_,fchmod:P_,fgetxattr:m_,fremovexattr:v_,fsetxattr:g_,fstat:Qg,fsync:n_,ftruncate:A_,futimes:S_,getxattr:h_,link:e_,lseek:$_,lstat:D_,mkdir:Yg,mkdtemp:Xg,mknod:Hg,open:Gg,readdir:w_,read:r_,readFile:i_,readlink:j_,removexattr:__,rename:I_,rmdir:Zg,setxattr:y_,stat:Mf,symlink:T_,truncate:R_,unlink:t_,utimes:E_,writeFile:o_,write:s_}});var Uf=y((Rb,zf)=>{"use strict";var{promisify:q_}=Bi(),js=Je(),Vf=hu(),M_=fs(),C_=ls(),x_=rf(),yt=jt(),{nop:L_,guid:F_}=zn(),{fsConstants:hr,FILE_SYSTEM_NAME:V_,FS_FORMAT:z_,FS_READY:Lf,FS_PENDING:U_,FS_ERROR:Is,FS_NODUPEIDCHECK:K_,STDIN:k_,STDOUT:B_,STDERR:G_}=fe(),Ts=xf();function W_(t){return typeof t=="function"?t:function(e){if(e)throw e}}function H_(t){t&&console.error("Filer error: ",t)}function Y_(t){if(!(t&&t.protocol&&t.pathname))return t;if(t.protocol!=="file:")throw new yt.EINVAL("only file: URLs are supported for paths",t);let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let n=e.codePointAt(r+2)|32;if(e[r+1]==="2"&&n===102)throw new yt.EINVAL("file: URLs must not include encoded / characters",t)}return decodeURIComponent(e)}function J_(t){return Buffer.isBuffer(t)?t.toString():t}function X_(t,e){if(t){if(js.isNull(t))return new yt.EINVAL("Path must be a string without null bytes.",t);if(!e&&!js.isAbsolute(t))return new yt.EINVAL("Path must be absolute.",t)}else return new yt.EINVAL("Path must be a string",t)}function Ff(t,e,r){let n=t[e];n=Y_(n),n=J_(n);let i=X_(n,r);if(i)throw i;t[e]=n}function Dt(t,e){t=t||{},e=e||H_;let r=t.flags||[],n=t.guid?t.guid:F_,i=t.provider||new Vf.Default(t.name||V_),s=t.name||i.name,o=r.includes(z_),a=this;a.readyState=U_,a.name=s,a.error=null,a.stdin=k_,a.stdout=B_,a.stderr=G_,a.constants=hr,a.F_OK=hr.F_OK,a.R_OK=hr.R_OK,a.W_OK=hr.W_OK,a.X_OK=hr.X_OK,this.Shell=M_.bind(void 0,this);let u=[];this.queueOrRun=function(m){let h;return Lf===a.readyState?m.call(a):Is===a.readyState?h=new yt.EFILESYSTEMERROR("unknown error"):u.push(m),h};function f(){u.forEach(function(m){m.call(this)}.bind(a)),u=null}this.watch=function(m,h,l){if(js.isNull(m))throw new Error("Path must be a string without null bytes.");typeof h=="function"&&(l=h,h={}),h=h||{},l=l||L_;let p=new x_;return p.start(m,!1,h.recursive),p.on("change",l),p};function c(m){return function(h){if(r.includes(K_)){h(null,n());return}function l(p){let g=n();m.getObject(g,function(_,$){if(_){p(_);return}$?l(p):p(null,g)})}l(h)}}function d(m){if(!m.length)return;let h=C_.getInstance();m.forEach(function(l){h.emit(l.event,l.path)})}i.open(function(m){function h(p){function g(_){let $=i[_]();return $.name=s,$.flags=r,$.changes=[],$.guid=c($),$.close=function(){let E=$.changes;d(E),E.length=0},$}a.provider={openReadWriteContext:function(){return g("getReadWriteContext")},openReadOnlyContext:function(){return g("getReadOnlyContext")}},p?a.readyState=Is:a.readyState=Lf,f(),e(p,a)}if(m)return h(m);let l=i.getReadWriteContext();l.guid=c(l),o?l.clear(function(p){if(p)return h(p);Ts.ensureRootDirectory(l,h)}):Ts.ensureRootDirectory(l,h)}),Dt.prototype.promises={},[{name:"appendFile",promises:!0,absPathArgs:[0]},{name:"access",promises:!0,absPathArgs:[0]},{name:"chown",promises:!0,absPathArgs:[0]},{name:"chmod",promises:!0,absPathArgs:[0]},{name:"close"},{name:"exists",absPathArgs:[0]},{name:"fchown"},{name:"fchmod"},{name:"fgetxattr"},{name:"fremovexattr"},{name:"fsetxattr"},{name:"fstat"},{name:"fsync"},{name:"ftruncate"},{name:"futimes"},{name:"getxattr",promises:!0,absPathArgs:[0]},{name:"link",promises:!0,absPathArgs:[0,1]},{name:"lseek"},{name:"lstat",promises:!0},{name:"mkdir",promises:!0,absPathArgs:[0]},{name:"mkdtemp",promises:!0},{name:"mknod",promises:!0,absPathArgs:[0]},{name:"open",promises:!0,absPathArgs:[0]},{name:"readdir",promises:!0,absPathArgs:[0]},{name:"read"},{name:"readFile",promises:!0,absPathArgs:[0]},{name:"readlink",promises:!0,absPathArgs:[0]},{name:"removexattr",promises:!0,absPathArgs:[0]},{name:"rename",promises:!0,absPathArgs:[0,1]},{name:"rmdir",promises:!0,absPathArgs:[0]},{name:"setxattr",promises:!0,absPathArgs:[0]},{name:"stat",promises:!0,absPathArgs:[0]},{name:"symlink",promises:!0,relPathArgs:[0],absPathArgs:[1]},{name:"truncate",promises:!0,absPathArgs:[0]},{name:"unlink",promises:!0,absPathArgs:[0]},{name:"utimes",promises:!0,absPathArgs:[0]},{name:"writeFile",promises:!0,absPathArgs:[0]},{name:"write"}].forEach(function(m){let h=m.name,l=m.promises===!0;Dt.prototype[h]=function(){let p=this,g=Array.prototype.slice.call(arguments,0),_=g.length-1,$=typeof g[_]!="function",E=W_(g[_]);m.absPathArgs&&m.absPathArgs.forEach(w=>Ff(g,w,!1)),m.relPathArgs&&m.relPathArgs.forEach(w=>Ff(g,w,!0));let I=p.queueOrRun(function(){let w=p.provider.openReadWriteContext();if(Is===p.readyState){let b=new yt.EFILESYSTEMERROR("filesystem unavailable, operation canceled");return E.call(p,b)}function N(){w.close(),E.apply(p,arguments)}$?g.push(N):g[_]=N;let O=[w].concat(g);Ts[h].apply(null,O)});I&&E(I)},l&&(Dt.prototype.promises[h]=q_(Dt.prototype[h].bind(a)))})}Dt.providers=Vf;zf.exports=Dt});var Ds=y(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.default=void 0;var Z_=t=>{let e=!1,r;return()=>(e||(r=t(),e=!0,t=void 0),r)},Q_=Z_;Yn.default=Q_});var kf=y((qb,Kf)=>{"use strict";var Rs=class t{static getOperator(e,r){return e==="left"?r?">":">=":r?"<":"<="}static formatRight(e,r,n){return r===!1?t.formatLeft(e,!r,!n):`should be ${t.getOperator("right",n)} ${e}`}static formatLeft(e,r,n){return r===!1?t.formatRight(e,!r,!n):`should be ${t.getOperator("left",n)} ${e}`}static formatRange(e,r,n,i,s){let o="should be";return o+=` ${t.getOperator(s?"left":"right",s?n:!n)} ${e} `,o+=s?"and":"or",o+=` ${t.getOperator(s?"right":"left",s?i:!i)} ${r}`,o}static getRangeValue(e,r){let n=r?1/0:-1/0,i=-1,s=r?([o])=>o<=n:([o])=>o>=n;for(let o=0;o<e.length;o++)s(e[o])&&([n]=e[o],i=o);return i>-1?e[i]:[1/0,!0]}constructor(){this._left=[],this._right=[]}left(e,r=!1){this._left.push([e,r])}right(e,r=!1){this._right.push([e,r])}format(e=!0){let[r,n]=t.getRangeValue(this._left,e),[i,s]=t.getRangeValue(this._right,!e);if(!Number.isFinite(r)&&!Number.isFinite(i))return"";let o=n?r+1:r,a=s?i-1:i;return o===a?`should be ${e?"":"!"}= ${o}`:Number.isFinite(r)&&!Number.isFinite(i)?t.formatLeft(r,e,n):!Number.isFinite(r)&&Number.isFinite(i)?t.formatRight(i,e,s):t.formatRange(r,i,n,s,e)}};Kf.exports=Rs});var Bf=y((Mb,As)=>{"use strict";var ev=kf();As.exports.stringHints=function(e,r){let n=[],i="string",s={...e};if(!r){let o=s.minLength,a=s.formatMinimum;s.minLength=s.maxLength,s.maxLength=o,s.formatMinimum=s.formatMaximum,s.formatMaximum=a}if(typeof s.minLength=="number")if(s.minLength===1)i="non-empty string";else{let o=Math.max(s.minLength-1,0);n.push(`should be longer than ${o} character${o>1?"s":""}`)}if(typeof s.maxLength=="number")if(s.maxLength===0)i="empty string";else{let o=s.maxLength+1;n.push(`should be shorter than ${o} character${o>1?"s":""}`)}return s.pattern&&n.push(`should${r?"":" not"} match pattern ${JSON.stringify(s.pattern)}`),s.format&&n.push(`should${r?"":" not"} match format ${JSON.stringify(s.format)}`),s.formatMinimum&&n.push(`should be ${s.formatExclusiveMinimum?">":">="} ${JSON.stringify(s.formatMinimum)}`),s.formatMaximum&&n.push(`should be ${s.formatExclusiveMaximum?"<":"<="} ${JSON.stringify(s.formatMaximum)}`),[i].concat(n)};As.exports.numberHints=function(e,r){let n=[e.type==="integer"?"integer":"number"],i=new ev;typeof e.minimum=="number"&&i.left(e.minimum),typeof e.exclusiveMinimum=="number"&&i.left(e.exclusiveMinimum,!0),typeof e.maximum=="number"&&i.right(e.maximum),typeof e.exclusiveMaximum=="number"&&i.right(e.exclusiveMaximum,!0);let s=i.format(r);return s&&n.push(s),typeof e.multipleOf=="number"&&n.push(`should${r?"":" not"} be multiple of ${e.multipleOf}`),n}});var sc=y(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.default=void 0;var tv=rv(Ds());function rv(t){return t&&t.__esModule?t:{default:t}}var nv={type:1,not:1,oneOf:1,anyOf:1,if:1,enum:1,const:1,instanceof:1,required:2,pattern:2,patternRequired:2,format:2,formatMinimum:2,formatMaximum:2,minimum:2,exclusiveMinimum:2,maximum:2,exclusiveMaximum:2,multipleOf:2,uniqueItems:2,contains:2,minLength:2,maxLength:2,minItems:2,maxItems:2,minProperties:2,maxProperties:2,dependencies:2,propertyNames:2,additionalItems:2,additionalProperties:2,absolutePath:2};function iv(t){return/^-?\d+$/.test(t)}function Gf(t,e){let r=t.reduce((n,i)=>Math.max(n,e(i)),0);return t.filter(n=>e(n)===r)}function sv(t){let e=t;return e=Gf(e,r=>r.instancePath?r.instancePath.length:0),e=Gf(e,r=>nv[r.keyword]||2),e}function Zf(t,e){let r=t.length-1,n=i=>t[r].schemaPath.indexOf(i)!==0;for(;r>-1&&!e.every(n);)if(t[r].keyword==="anyOf"||t[r].keyword==="oneOf"){let i=Qf(t[r]);r=Zf(t.slice(0,r),i.concat(t[r].schemaPath))-1}else r-=1;return r+1}function Qf(t){let{schema:e}=t;return Array.isArray(e)?e.map(({$ref:r})=>r).filter(r=>r):[]}function ov(t){let e=[],r=t.length-1;for(;r>0;){let n=t[r];if(n.keyword==="anyOf"||n.keyword==="oneOf"){let i=Qf(n),s=Zf(t.slice(0,r),i.concat(n.schemaPath));s!==r?(e.push(Object.assign({},n,{children:t.slice(s,r)})),r=s):e.push(n)}else e.push(n);r-=1}return r===0&&e.push(t[r]),e.reverse()}function Wf(t,e){return t.replace(/\n(?!$)/g,`
${e}`)}function ec(t){return!!t.not}function tc(t){return ec(t)?tc(t.not):t}function Hf(t){let e=tc(t);return Jn(e)||Xn(e)||Zn(e)||ic(e)||rc(e)}function Yf(t){return typeof t=="object"&&t!==null}function Jn(t){return t.type==="number"||typeof t.minimum<"u"||typeof t.exclusiveMinimum<"u"||typeof t.maximum<"u"||typeof t.exclusiveMaximum<"u"||typeof t.multipleOf<"u"}function Xn(t){return t.type==="integer"||typeof t.minimum<"u"||typeof t.exclusiveMinimum<"u"||typeof t.maximum<"u"||typeof t.exclusiveMaximum<"u"||typeof t.multipleOf<"u"}function Zn(t){return t.type==="string"||typeof t.minLength<"u"||typeof t.maxLength<"u"||typeof t.pattern<"u"||typeof t.format<"u"||typeof t.formatMinimum<"u"||typeof t.formatMaximum<"u"}function rc(t){return t.type==="boolean"}function nc(t){return t.type==="array"||typeof t.minItems=="number"||typeof t.maxItems=="number"||typeof t.uniqueItems<"u"||typeof t.items<"u"||typeof t.additionalItems<"u"||typeof t.contains<"u"}function mr(t){return t.type==="object"||typeof t.minProperties<"u"||typeof t.maxProperties<"u"||typeof t.required<"u"||typeof t.properties<"u"||typeof t.patternProperties<"u"||typeof t.additionalProperties<"u"||typeof t.dependencies<"u"||typeof t.propertyNames<"u"||typeof t.patternRequired<"u"}function ic(t){return t.type==="null"}function av(t){return/^[aeiou]/i.test(t)?"an":"a"}function W(t){if(!t)return"";if(!t.type){if(Jn(t)||Xn(t))return" | should be any non-number";if(Zn(t))return" | should be any non-string";if(nc(t))return" | should be any non-array";if(mr(t))return" | should be any non-object"}return""}function Jf(t){return t.length>0?`(${t.join(", ")})`:""}var Xf=(0,tv.default)(()=>Bf());function qs(t,e){return Jn(t)||Xn(t)?Xf().numberHints(t,e):Zn(t)?Xf().stringHints(t,e):[]}var Ms=class extends Error{constructor(e,r,n={}){super(),this.name="ValidationError",this.errors=e,this.schema=r;let i,s;if(r.title&&(!n.name||!n.baseDataPath)){let a=r.title.match(/^(.+) (.+)$/);a&&(n.name||([,i]=a),n.baseDataPath||([,,s]=a))}this.headerName=n.name||i||"Object",this.baseDataPath=n.baseDataPath||s||"configuration",this.postFormatter=n.postFormatter||null;let o=`Invalid ${this.baseDataPath} object. ${this.headerName} has been initialized using ${av(this.baseDataPath)} ${this.baseDataPath} object that does not match the API schema.
`;this.message=`${o}${this.formatValidationErrors(e)}`,Error.captureStackTrace(this,this.constructor)}getSchemaPart(e){let r=e.split("/"),n=this.schema;for(let i=1;i<r.length;i++){let s=n[r[i]];if(!s)break;n=s}return n}formatSchema(e,r=!0,n=[]){let i=r,s=(o,a)=>a?n.includes(o)?"(recursive)":this.formatSchema(o,i,n.concat(e)):this.formatSchema(o,i,n);if(ec(e)&&!mr(e)){if(Hf(e.not))return i=!r,s(e.not);let o=!e.not.not,a=r?"":"non ";return i=!r,o?a+s(e.not):s(e.not)}if(e.instanceof){let{instanceof:o}=e;return(Array.isArray(o)?o:[o]).map(u=>u==="Function"?"function":u).join(" | ")}if(e.enum)return`${e.enum.map(a=>a===null&&e.undefinedAsNull?`${JSON.stringify(a)} | undefined`:JSON.stringify(a)).join(" | ")}`;if(typeof e.const<"u")return JSON.stringify(e.const);if(e.oneOf)return e.oneOf.map(o=>s(o,!0)).join(" | ");if(e.anyOf)return e.anyOf.map(o=>s(o,!0)).join(" | ");if(e.allOf)return e.allOf.map(o=>s(o,!0)).join(" & ");if(e.if){let{if:o,then:a,else:u}=e;return`${o?`if ${s(o)}`:""}${a?` then ${s(a)}`:""}${u?` else ${s(u)}`:""}`}if(e.$ref)return s(this.getSchemaPart(e.$ref),!0);if(Jn(e)||Xn(e)){let[o,...a]=qs(e,r),u=`${o}${a.length>0?` ${Jf(a)}`:""}`;return r?u:a.length>0?`non-${o} | ${u}`:`non-${o}`}if(Zn(e)){let[o,...a]=qs(e,r),u=`${o}${a.length>0?` ${Jf(a)}`:""}`;return r?u:u==="string"?"non-string":`non-string | ${u}`}if(rc(e))return`${r?"":"non-"}boolean`;if(nc(e)){i=!0;let o=[];typeof e.minItems=="number"&&o.push(`should not have fewer than ${e.minItems} item${e.minItems>1?"s":""}`),typeof e.maxItems=="number"&&o.push(`should not have more than ${e.maxItems} item${e.maxItems>1?"s":""}`),e.uniqueItems&&o.push("should not have duplicate items");let a=typeof e.additionalItems>"u"||!!e.additionalItems,u="";return e.items?Array.isArray(e.items)&&e.items.length>0?(u=`${e.items.map(f=>s(f)).join(", ")}`,a&&e.additionalItems&&Yf(e.additionalItems)&&Object.keys(e.additionalItems).length>0&&o.push(`additional items should be ${s(e.additionalItems)}`)):e.items&&Object.keys(e.items).length>0?u=`${s(e.items)}`:u="any":u="any",e.contains&&Object.keys(e.contains).length>0&&o.push(`should contains at least one ${this.formatSchema(e.contains)} item`),`[${u}${a?", ...":""}]${o.length>0?` (${o.join(", ")})`:""}`}if(mr(e)){i=!0;let o=[];if(typeof e.minProperties=="number"&&o.push(`should not have fewer than ${e.minProperties} ${e.minProperties>1?"properties":"property"}`),typeof e.maxProperties=="number"&&o.push(`should not have more than ${e.maxProperties} ${e.minProperties&&e.minProperties>1?"properties":"property"}`),e.patternProperties&&Object.keys(e.patternProperties).length>0){let l=Object.keys(e.patternProperties);o.push(`additional property names should match pattern${l.length>1?"s":""} ${l.map(p=>JSON.stringify(p)).join(" | ")}`)}let a=e.properties?Object.keys(e.properties):[],u=e.required?e.required:[],c=[...new Set([].concat(u).concat(a))].map(l=>{let p=u.includes(l);return`${l}${p?"":"?"}`}).concat(typeof e.additionalProperties>"u"||e.additionalProperties?e.additionalProperties&&Yf(e.additionalProperties)?[`<key>: ${s(e.additionalProperties)}`]:["\u2026"]:[]).join(", "),{dependencies:d,propertyNames:m,patternRequired:h}=e;return d&&Object.keys(d).forEach(l=>{let p=d[l];Array.isArray(p)?o.push(`should have ${p.length>1?"properties":"property"} ${p.map(g=>`'${g}'`).join(", ")} when property '${l}' is present`):o.push(`should be valid according to the schema ${s(p)} when property '${l}' is present`)}),m&&Object.keys(m).length>0&&o.push(`each property name should match format ${JSON.stringify(e.propertyNames.format)}`),h&&h.length>0&&o.push(`should have property matching pattern ${h.map(l=>JSON.stringify(l))}`),`object {${c?` ${c} `:""}}${o.length>0?` (${o.join(", ")})`:""}`}return ic(e)?`${r?"":"non-"}null`:Array.isArray(e.type)?`${e.type.join(" | ")}`:JSON.stringify(e,null,2)}getSchemaPartText(e,r,n=!1,i=!0){if(!e)return"";if(Array.isArray(r))for(let o=0;o<r.length;o++){let a=e[r[o]];if(a)e=a;else break}for(;e.$ref;)e=this.getSchemaPart(e.$ref);let s=`${this.formatSchema(e,i)}${n?".":""}`;return e.description&&(s+=`
-> ${e.description}`),e.link&&(s+=`
-> Read more at ${e.link}`),s}getSchemaPartDescription(e){if(!e)return"";for(;e.$ref;)e=this.getSchemaPart(e.$ref);let r="";return e.description&&(r+=`
-> ${e.description}`),e.link&&(r+=`
-> Read more at ${e.link}`),r}formatValidationError(e){let{keyword:r,instancePath:n}=e,i=n.split("/"),s=[],o=i.reduce((u,f)=>(f.length>0&&(iv(f)?u.push(`[${f}]`):/^\[/.test(f)?u.push(f):u.push(`.${f}`)),u),s).join(""),a=`${this.baseDataPath}${o}`;switch(r){case"type":{let{parentSchema:u,params:f}=e;switch(f.type){case"number":return`${a} should be a ${this.getSchemaPartText(u,!1,!0)}`;case"integer":return`${a} should be an ${this.getSchemaPartText(u,!1,!0)}`;case"string":return`${a} should be a ${this.getSchemaPartText(u,!1,!0)}`;case"boolean":return`${a} should be a ${this.getSchemaPartText(u,!1,!0)}`;case"array":return`${a} should be an array:
${this.getSchemaPartText(u)}`;case"object":return`${a} should be an object:
${this.getSchemaPartText(u)}`;case"null":return`${a} should be a ${this.getSchemaPartText(u,!1,!0)}`;default:return`${a} should be:
${this.getSchemaPartText(u)}`}}case"instanceof":{let{parentSchema:u}=e;return`${a} should be an instance of ${this.getSchemaPartText(u,!1,!0)}`}case"pattern":{let{params:u,parentSchema:f}=e,{pattern:c}=u;return`${a} should match pattern ${JSON.stringify(c)}${W(f)}.${this.getSchemaPartDescription(f)}`}case"format":{let{params:u,parentSchema:f}=e,{format:c}=u;return`${a} should match format ${JSON.stringify(c)}${W(f)}.${this.getSchemaPartDescription(f)}`}case"formatMinimum":case"formatExclusiveMinimum":case"formatMaximum":case"formatExclusiveMaximum":{let{params:u,parentSchema:f}=e,{comparison:c,limit:d}=u;return`${a} should be ${c} ${JSON.stringify(d)}${W(f)}.${this.getSchemaPartDescription(f)}`}case"minimum":case"maximum":case"exclusiveMinimum":case"exclusiveMaximum":{let{parentSchema:u,params:f}=e,{comparison:c,limit:d}=f,[,...m]=qs(u,!0);return m.length===0&&m.push(`should be ${c} ${d}`),`${a} ${m.join(" ")}${W(u)}.${this.getSchemaPartDescription(u)}`}case"multipleOf":{let{params:u,parentSchema:f}=e,{multipleOf:c}=u;return`${a} should be multiple of ${c}${W(f)}.${this.getSchemaPartDescription(f)}`}case"patternRequired":{let{params:u,parentSchema:f}=e,{missingPattern:c}=u;return`${a} should have property matching pattern ${JSON.stringify(c)}${W(f)}.${this.getSchemaPartDescription(f)}`}case"minLength":{let{params:u,parentSchema:f}=e,{limit:c}=u;if(c===1)return`${a} should be a non-empty string${W(f)}.${this.getSchemaPartDescription(f)}`;let d=c-1;return`${a} should be longer than ${d} character${d>1?"s":""}${W(f)}.${this.getSchemaPartDescription(f)}`}case"minItems":{let{params:u,parentSchema:f}=e,{limit:c}=u;return c===1?`${a} should be a non-empty array${W(f)}.${this.getSchemaPartDescription(f)}`:`${a} should not have fewer than ${c} items${W(f)}.${this.getSchemaPartDescription(f)}`}case"minProperties":{let{params:u,parentSchema:f}=e,{limit:c}=u;return c===1?`${a} should be a non-empty object${W(f)}.${this.getSchemaPartDescription(f)}`:`${a} should not have fewer than ${c} properties${W(f)}.${this.getSchemaPartDescription(f)}`}case"maxLength":{let{params:u,parentSchema:f}=e,{limit:c}=u,d=c+1;return`${a} should be shorter than ${d} character${d>1?"s":""}${W(f)}.${this.getSchemaPartDescription(f)}`}case"maxItems":{let{params:u,parentSchema:f}=e,{limit:c}=u;return`${a} should not have more than ${c} items${W(f)}.${this.getSchemaPartDescription(f)}`}case"maxProperties":{let{params:u,parentSchema:f}=e,{limit:c}=u;return`${a} should not have more than ${c} properties${W(f)}.${this.getSchemaPartDescription(f)}`}case"uniqueItems":{let{params:u,parentSchema:f}=e,{i:c}=u;return`${a} should not contain the item '${e.data[c]}' twice${W(f)}.${this.getSchemaPartDescription(f)}`}case"additionalItems":{let{params:u,parentSchema:f}=e,{limit:c}=u;return`${a} should not have more than ${c} items${W(f)}. These items are valid:
${this.getSchemaPartText(f)}`}case"contains":{let{parentSchema:u}=e;return`${a} should contains at least one ${this.getSchemaPartText(u,["contains"])} item${W(u)}.`}case"required":{let{parentSchema:u,params:f}=e,c=f.missingProperty.replace(/^\./,""),d=u&&!!(u.properties&&u.properties[c]);return`${a} misses the property '${c}'${W(u)}.${d?` Should be:
${this.getSchemaPartText(u,["properties",c])}`:this.getSchemaPartDescription(u)}`}case"additionalProperties":{let{params:u,parentSchema:f}=e,{additionalProperty:c}=u;return`${a} has an unknown property '${c}'${W(f)}. These properties are valid:
${this.getSchemaPartText(f)}`}case"dependencies":{let{params:u,parentSchema:f}=e,{property:c,deps:d}=u,m=d.split(",").map(h=>`'${h.trim()}'`).join(", ");return`${a} should have properties ${m} when property '${c}' is present${W(f)}.${this.getSchemaPartDescription(f)}`}case"propertyNames":{let{params:u,parentSchema:f,schema:c}=e,{propertyName:d}=u;return`${a} property name '${d}' is invalid${W(f)}. Property names should be match format ${JSON.stringify(c.format)}.${this.getSchemaPartDescription(f)}`}case"enum":{let{parentSchema:u}=e;return u&&u.enum&&u.enum.length===1?`${a} should be ${this.getSchemaPartText(u,!1,!0)}`:`${a} should be one of these:
${this.getSchemaPartText(u)}`}case"const":{let{parentSchema:u}=e;return`${a} should be equal to constant ${this.getSchemaPartText(u,!1,!0)}`}case"not":{let u=mr(e.parentSchema)?`
${this.getSchemaPartText(e.parentSchema)}`:"",f=this.getSchemaPartText(e.schema,!1,!1,!1);if(Hf(e.schema))return`${a} should be any ${f}${u}.`;let{schema:c,parentSchema:d}=e;return`${a} should not be ${this.getSchemaPartText(c,!1,!0)}${d&&mr(d)?`
${this.getSchemaPartText(d)}`:""}`}case"oneOf":case"anyOf":{let{parentSchema:u,children:f}=e;if(f&&f.length>0){if(e.schema.length===1){let d=f[f.length-1],m=f.slice(0,f.length-1);return this.formatValidationError(Object.assign({},d,{children:m,parentSchema:Object.assign({},u,d.parentSchema)}))}let c=sv(f);return c.length===1?this.formatValidationError(c[0]):(c=ov(c),`${a} should be one of these:
${this.getSchemaPartText(u)}
Details:
${c.map(d=>` * ${Wf(this.formatValidationError(d),"   ")}`).join(`
`)}`)}return`${a} should be one of these:
${this.getSchemaPartText(u)}`}case"if":{let{params:u,parentSchema:f}=e,{failingKeyword:c}=u;return`${a} should match "${c}" schema:
${this.getSchemaPartText(f,[c])}`}case"absolutePath":{let{message:u,parentSchema:f}=e;return`${a}: ${u}${this.getSchemaPartDescription(f)}`}default:{let{message:u,parentSchema:f}=e,c=JSON.stringify(e,null,2);return`${a} ${u} (${c}).
${this.getSchemaPartText(f,!1)}`}}}formatValidationErrors(e){return e.map(r=>{let n=this.formatValidationError(r);return this.postFormatter&&(n=this.postFormatter(n,r)),` - ${Wf(n,"   ")}`}).join(`
`)}},uv=Ms;Qn.default=uv});var _r=y(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.regexpCode=C.getEsmExportName=C.getProperty=C.safeStringify=C.stringify=C.strConcat=C.addCodeArg=C.str=C._=C.nil=C._Code=C.Name=C.IDENTIFIER=C._CodeOrName=void 0;var yr=class{};C._CodeOrName=yr;C.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var gt=class extends yr{constructor(e){if(super(),!C.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};C.Name=gt;var ve=class extends yr{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof gt&&(r[n.str]=(r[n.str]||0)+1),r),{})}};C._Code=ve;C.nil=new ve("");function oc(t,...e){let r=[t[0]],n=0;for(;n<e.length;)xs(r,e[n]),r.push(t[++n]);return new ve(r)}C._=oc;var Cs=new ve("+");function ac(t,...e){let r=[gr(t[0])],n=0;for(;n<e.length;)r.push(Cs),xs(r,e[n]),r.push(Cs,gr(t[++n]));return fv(r),new ve(r)}C.str=ac;function xs(t,e){e instanceof ve?t.push(...e._items):e instanceof gt?t.push(e):t.push(lv(e))}C.addCodeArg=xs;function fv(t){let e=1;for(;e<t.length-1;){if(t[e]===Cs){let r=cv(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function cv(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof gt||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof gt))return`"${t}${e.slice(1)}`}function dv(t,e){return e.emptyStr()?t:t.emptyStr()?e:ac`${t}${e}`}C.strConcat=dv;function lv(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:gr(Array.isArray(t)?t.join(","):t)}function pv(t){return new ve(gr(t))}C.stringify=pv;function gr(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}C.safeStringify=gr;function hv(t){return typeof t=="string"&&C.IDENTIFIER.test(t)?new ve(`.${t}`):oc`[${t}]`}C.getProperty=hv;function mv(t){if(typeof t=="string"&&C.IDENTIFIER.test(t))return new ve(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}C.getEsmExportName=mv;function yv(t){return new ve(t.toString())}C.regexpCode=yv});var Vs=y(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.ValueScope=pe.ValueScopeName=pe.Scope=pe.varKinds=pe.UsedValueState=void 0;var le=_r(),Ls=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},ei;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(ei||(pe.UsedValueState=ei={}));pe.varKinds={const:new le.Name("const"),let:new le.Name("let"),var:new le.Name("var")};var ti=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof le.Name?e:this.name(e)}name(e){return new le.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};pe.Scope=ti;var ri=class extends le.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=(0,le._)`.${new le.Name(r)}[${n}]`}};pe.ValueScopeName=ri;var gv=(0,le._)`\n`,Fs=class extends ti{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?gv:le.nil}}get(){return this._scope}name(e){return new ri(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let i=this.toName(e),{prefix:s}=i,o=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[s];if(a){let c=a.get(o);if(c)return c}else a=this._values[s]=new Map;a.set(o,i);let u=this._scope[s]||(this._scope[s]=[]),f=u.length;return u[f]=r.ref,i.setValue(r,{property:s,itemIndex:f}),i}getValue(e,r){let n=this._values[e];if(n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,le._)`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,i=>{if(i.value===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return i.value.code},r,n)}_reduceValues(e,r,n={},i){let s=le.nil;for(let o in e){let a=e[o];if(!a)continue;let u=n[o]=n[o]||new Map;a.forEach(f=>{if(u.has(f))return;u.set(f,ei.Started);let c=r(f);if(c){let d=this.opts.es5?pe.varKinds.var:pe.varKinds.const;s=(0,le._)`${s}${d} ${f} = ${c};${this.opts._n}`}else if(c=i?.(f))s=(0,le._)`${s}${c}${this.opts._n}`;else throw new Ls(f);u.set(f,ei.Completed)})}return s}};pe.ValueScope=Fs});var T=y(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.or=R.and=R.not=R.CodeGen=R.operators=R.varKinds=R.ValueScopeName=R.ValueScope=R.Scope=R.Name=R.regexpCode=R.stringify=R.getProperty=R.nil=R.strConcat=R.str=R._=void 0;var q=_r(),be=Vs(),rt=_r();Object.defineProperty(R,"_",{enumerable:!0,get:function(){return rt._}});Object.defineProperty(R,"str",{enumerable:!0,get:function(){return rt.str}});Object.defineProperty(R,"strConcat",{enumerable:!0,get:function(){return rt.strConcat}});Object.defineProperty(R,"nil",{enumerable:!0,get:function(){return rt.nil}});Object.defineProperty(R,"getProperty",{enumerable:!0,get:function(){return rt.getProperty}});Object.defineProperty(R,"stringify",{enumerable:!0,get:function(){return rt.stringify}});Object.defineProperty(R,"regexpCode",{enumerable:!0,get:function(){return rt.regexpCode}});Object.defineProperty(R,"Name",{enumerable:!0,get:function(){return rt.Name}});var oi=Vs();Object.defineProperty(R,"Scope",{enumerable:!0,get:function(){return oi.Scope}});Object.defineProperty(R,"ValueScope",{enumerable:!0,get:function(){return oi.ValueScope}});Object.defineProperty(R,"ValueScopeName",{enumerable:!0,get:function(){return oi.ValueScopeName}});Object.defineProperty(R,"varKinds",{enumerable:!0,get:function(){return oi.varKinds}});R.operators={GT:new q._Code(">"),GTE:new q._Code(">="),LT:new q._Code("<"),LTE:new q._Code("<="),EQ:new q._Code("==="),NEQ:new q._Code("!=="),NOT:new q._Code("!"),OR:new q._Code("||"),AND:new q._Code("&&"),ADD:new q._Code("+")};var Ke=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},zs=class extends Ke{constructor(e,r,n){super(),this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?be.varKinds.var:this.varKind,i=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${i};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=At(this.rhs,e,r)),this}get names(){return this.rhs instanceof q._CodeOrName?this.rhs.names:{}}},ni=class extends Ke{constructor(e,r,n){super(),this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof q.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=At(this.rhs,e,r),this}get names(){let e=this.lhs instanceof q.Name?{}:{...this.lhs.names};return si(e,this.rhs)}},Us=class extends ni{constructor(e,r,n,i){super(e,n,i),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Ks=class extends Ke{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},ks=class extends Ke{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},Bs=class extends Ke{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},Gs=class extends Ke{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=At(this.code,e,r),this}get names(){return this.code instanceof q._CodeOrName?this.code.names:{}}},vr=class extends Ke{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,i=n.length;for(;i--;){let s=n[i];s.optimizeNames(e,r)||(_v(e,s.names),n.splice(i,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>$t(e,r.names),{})}},ke=class extends vr{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Ws=class extends vr{},Rt=class extends ke{};Rt.kind="else";var _t=class t extends ke{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new Rt(n):n}if(r)return e===!1?r instanceof t?r:r.nodes:this.nodes.length?this:new t(uc(e),r instanceof t?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=At(this.condition,e,r),this}get names(){let e=super.names;return si(e,this.condition),this.else&&$t(e,this.else.names),e}};_t.kind="if";var vt=class extends ke{};vt.kind="for";var Hs=class extends vt{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=At(this.iteration,e,r),this}get names(){return $t(super.names,this.iteration.names)}},Ys=class extends vt{constructor(e,r,n,i){super(),this.varKind=e,this.name=r,this.from=n,this.to=i}render(e){let r=e.es5?be.varKinds.var:this.varKind,{name:n,from:i,to:s}=this;return`for(${r} ${n}=${i}; ${n}<${s}; ${n}++)`+super.render(e)}get names(){let e=si(super.names,this.from);return si(e,this.to)}},ii=class extends vt{constructor(e,r,n,i){super(),this.loop=e,this.varKind=r,this.name=n,this.iterable=i}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=At(this.iterable,e,r),this}get names(){return $t(super.names,this.iterable.names)}},$r=class extends ke{constructor(e,r,n){super(),this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};$r.kind="func";var wr=class extends vr{render(e){return"return "+super.render(e)}};wr.kind="return";var Js=class extends ke{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,i;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(i=this.finally)===null||i===void 0||i.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&$t(e,this.catch.names),this.finally&&$t(e,this.finally.names),e}},Er=class extends ke{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};Er.kind="catch";var Sr=class extends ke{render(e){return"finally"+super.render(e)}};Sr.kind="finally";var Xs=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=e,this._scope=new be.Scope({parent:e}),this._nodes=[new Ws]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,i){let s=this._scope.toName(r);return n!==void 0&&i&&(this._constants[s.str]=n),this._leafNode(new zs(e,s,n)),s}const(e,r,n){return this._def(be.varKinds.const,e,r,n)}let(e,r,n){return this._def(be.varKinds.let,e,r,n)}var(e,r,n){return this._def(be.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new ni(e,r,n))}add(e,r){return this._leafNode(new Us(e,R.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==q.nil&&this._leafNode(new Gs(e)),this}object(...e){let r=["{"];for(let[n,i]of e)r.length>1&&r.push(","),r.push(n),(n!==i||this.opts.es5)&&(r.push(":"),(0,q.addCodeArg)(r,i));return r.push("}"),new q._Code(r)}if(e,r,n){if(this._blockNode(new _t(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new _t(e))}else(){return this._elseNode(new Rt)}endIf(){return this._endBlockNode(_t,Rt)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new Hs(e),r)}forRange(e,r,n,i,s=this.opts.es5?be.varKinds.var:be.varKinds.let){let o=this._scope.toName(e);return this._for(new Ys(s,o,r,n),()=>i(o))}forOf(e,r,n,i=be.varKinds.const){let s=this._scope.toName(e);if(this.opts.es5){let o=r instanceof q.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,q._)`${o}.length`,a=>{this.var(s,(0,q._)`${o}[${a}]`),n(s)})}return this._for(new ii("of",i,s,r),()=>n(s))}forIn(e,r,n,i=this.opts.es5?be.varKinds.var:be.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,q._)`Object.keys(${r})`,n);let s=this._scope.toName(e);return this._for(new ii("in",i,s,r),()=>n(s))}endFor(){return this._endBlockNode(vt)}label(e){return this._leafNode(new Ks(e))}break(e){return this._leafNode(new ks(e))}return(e){let r=new wr;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(wr)}try(e,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let i=new Js;if(this._blockNode(i),this.code(e),r){let s=this.name("e");this._currNode=i.catch=new Er(s),r(s)}return n&&(this._currNode=i.finally=new Sr,this.code(n)),this._endBlockNode(Er,Sr)}throw(e){return this._leafNode(new Bs(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=q.nil,n,i){return this._blockNode(new $r(e,r,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode($r)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof _t))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};R.CodeGen=Xs;function $t(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function si(t,e){return e instanceof q._CodeOrName?$t(t,e.names):t}function At(t,e,r){if(t instanceof q.Name)return n(t);if(!i(t))return t;return new q._Code(t._items.reduce((s,o)=>(o instanceof q.Name&&(o=n(o)),o instanceof q._Code?s.push(...o._items):s.push(o),s),[]));function n(s){let o=r[s.str];return o===void 0||e[s.str]!==1?s:(delete e[s.str],o)}function i(s){return s instanceof q._Code&&s._items.some(o=>o instanceof q.Name&&e[o.str]===1&&r[o.str]!==void 0)}}function _v(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function uc(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,q._)`!${Zs(t)}`}R.not=uc;var vv=fc(R.operators.AND);function $v(...t){return t.reduce(vv)}R.and=$v;var wv=fc(R.operators.OR);function Ev(...t){return t.reduce(wv)}R.or=Ev;function fc(t){return(e,r)=>e===q.nil?r:r===q.nil?e:(0,q._)`${Zs(e)} ${t} ${Zs(r)}`}function Zs(t){return t instanceof q.Name?t:(0,q._)`(${t})`}});var x=y(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.checkStrictMode=A.getErrorPath=A.Type=A.useFunc=A.setEvaluated=A.evaluatedPropsToName=A.mergeEvaluated=A.eachItem=A.unescapeJsonPointer=A.escapeJsonPointer=A.escapeFragment=A.unescapeFragment=A.schemaRefOrVal=A.schemaHasRulesButRef=A.schemaHasRules=A.checkUnknownRules=A.alwaysValidSchema=A.toHash=void 0;var U=T(),Sv=_r();function Ov(t){let e={};for(let r of t)e[r]=!0;return e}A.toHash=Ov;function Pv(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(lc(t,e),!pc(e,t.self.RULES.all))}A.alwaysValidSchema=Pv;function lc(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let i=n.RULES.keywords;for(let s in e)i[s]||yc(t,`unknown keyword: "${s}"`)}A.checkUnknownRules=lc;function pc(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}A.schemaHasRules=pc;function bv(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}A.schemaHasRulesButRef=bv;function Nv({topSchemaRef:t,schemaPath:e},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,U._)`${r}`}return(0,U._)`${t}${e}${(0,U.getProperty)(n)}`}A.schemaRefOrVal=Nv;function Iv(t){return hc(decodeURIComponent(t))}A.unescapeFragment=Iv;function Tv(t){return encodeURIComponent(eo(t))}A.escapeFragment=Tv;function eo(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}A.escapeJsonPointer=eo;function hc(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}A.unescapeJsonPointer=hc;function jv(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}A.eachItem=jv;function cc({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(i,s,o,a)=>{let u=o===void 0?s:o instanceof U.Name?(s instanceof U.Name?t(i,s,o):e(i,s,o),o):s instanceof U.Name?(e(i,o,s),s):r(s,o);return a===U.Name&&!(u instanceof U.Name)?n(i,u):u}}A.mergeEvaluated={props:cc({mergeNames:(t,e,r)=>t.if((0,U._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,U._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,U._)`${r} || {}`).code((0,U._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,U._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,U._)`${r} || {}`),to(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:mc}),items:cc({mergeNames:(t,e,r)=>t.if((0,U._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,U._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,U._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,U._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function mc(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,U._)`{}`);return e!==void 0&&to(t,r,e),r}A.evaluatedPropsToName=mc;function to(t,e,r){Object.keys(r).forEach(n=>t.assign((0,U._)`${e}${(0,U.getProperty)(n)}`,!0))}A.setEvaluated=to;var dc={};function Dv(t,e){return t.scopeValue("func",{ref:e,code:dc[e.code]||(dc[e.code]=new Sv._Code(e.code))})}A.useFunc=Dv;var Qs;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Qs||(A.Type=Qs={}));function Rv(t,e,r){if(t instanceof U.Name){let n=e===Qs.Num;return r?n?(0,U._)`"[" + ${t} + "]"`:(0,U._)`"['" + ${t} + "']"`:n?(0,U._)`"/" + ${t}`:(0,U._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,U.getProperty)(t).toString():"/"+eo(t)}A.getErrorPath=Rv;function yc(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}A.checkStrictMode=yc});var Be=y(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});var se=T(),Av={data:new se.Name("data"),valCxt:new se.Name("valCxt"),instancePath:new se.Name("instancePath"),parentData:new se.Name("parentData"),parentDataProperty:new se.Name("parentDataProperty"),rootData:new se.Name("rootData"),dynamicAnchors:new se.Name("dynamicAnchors"),vErrors:new se.Name("vErrors"),errors:new se.Name("errors"),this:new se.Name("this"),self:new se.Name("self"),scope:new se.Name("scope"),json:new se.Name("json"),jsonPos:new se.Name("jsonPos"),jsonLen:new se.Name("jsonLen"),jsonPart:new se.Name("jsonPart")};ro.default=Av});var Or=y(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.extendErrors=oe.resetErrorsCount=oe.reportExtraError=oe.reportError=oe.keyword$DataError=oe.keywordError=void 0;var M=T(),ai=x(),ce=Be();oe.keywordError={message:({keyword:t})=>(0,M.str)`must pass "${t}" keyword validation`};oe.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,M.str)`"${t}" keyword must be ${e} ($data)`:(0,M.str)`"${t}" keyword is invalid ($data)`};function qv(t,e=oe.keywordError,r,n){let{it:i}=t,{gen:s,compositeRule:o,allErrors:a}=i,u=vc(t,e,r);n??(o||a)?gc(s,u):_c(i,(0,M._)`[${u}]`)}oe.reportError=qv;function Mv(t,e=oe.keywordError,r){let{it:n}=t,{gen:i,compositeRule:s,allErrors:o}=n,a=vc(t,e,r);gc(i,a),s||o||_c(n,ce.default.vErrors)}oe.reportExtraError=Mv;function Cv(t,e){t.assign(ce.default.errors,e),t.if((0,M._)`${ce.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,M._)`${ce.default.vErrors}.length`,e),()=>t.assign(ce.default.vErrors,null)))}oe.resetErrorsCount=Cv;function xv({gen:t,keyword:e,schemaValue:r,data:n,errsCount:i,it:s}){if(i===void 0)throw new Error("ajv implementation error");let o=t.name("err");t.forRange("i",i,ce.default.errors,a=>{t.const(o,(0,M._)`${ce.default.vErrors}[${a}]`),t.if((0,M._)`${o}.instancePath === undefined`,()=>t.assign((0,M._)`${o}.instancePath`,(0,M.strConcat)(ce.default.instancePath,s.errorPath))),t.assign((0,M._)`${o}.schemaPath`,(0,M.str)`${s.errSchemaPath}/${e}`),s.opts.verbose&&(t.assign((0,M._)`${o}.schema`,r),t.assign((0,M._)`${o}.data`,n))})}oe.extendErrors=xv;function gc(t,e){let r=t.const("err",e);t.if((0,M._)`${ce.default.vErrors} === null`,()=>t.assign(ce.default.vErrors,(0,M._)`[${r}]`),(0,M._)`${ce.default.vErrors}.push(${r})`),t.code((0,M._)`${ce.default.errors}++`)}function _c(t,e){let{gen:r,validateName:n,schemaEnv:i}=t;i.$async?r.throw((0,M._)`new ${t.ValidationError}(${e})`):(r.assign((0,M._)`${n}.errors`,e),r.return(!1))}var wt={keyword:new M.Name("keyword"),schemaPath:new M.Name("schemaPath"),params:new M.Name("params"),propertyName:new M.Name("propertyName"),message:new M.Name("message"),schema:new M.Name("schema"),parentSchema:new M.Name("parentSchema")};function vc(t,e,r){let{createErrors:n}=t.it;return n===!1?(0,M._)`{}`:Lv(t,e,r)}function Lv(t,e,r={}){let{gen:n,it:i}=t,s=[Fv(i,r),Vv(t,r)];return zv(t,e,s),n.object(...s)}function Fv({errorPath:t},{instancePath:e}){let r=e?(0,M.str)`${t}${(0,ai.getErrorPath)(e,ai.Type.Str)}`:t;return[ce.default.instancePath,(0,M.strConcat)(ce.default.instancePath,r)]}function Vv({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let i=n?e:(0,M.str)`${e}/${t}`;return r&&(i=(0,M.str)`${i}${(0,ai.getErrorPath)(r,ai.Type.Str)}`),[wt.schemaPath,i]}function zv(t,{params:e,message:r},n){let{keyword:i,data:s,schemaValue:o,it:a}=t,{opts:u,propertyName:f,topSchemaRef:c,schemaPath:d}=a;n.push([wt.keyword,i],[wt.params,typeof e=="function"?e(t):e||(0,M._)`{}`]),u.messages&&n.push([wt.message,typeof r=="function"?r(t):r]),u.verbose&&n.push([wt.schema,o],[wt.parentSchema,(0,M._)`${c}${d}`],[ce.default.data,s]),f&&n.push([wt.propertyName,f])}});var wc=y(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.boolOrEmptySchema=qt.topBoolOrEmptySchema=void 0;var Uv=Or(),Kv=T(),kv=Be(),Bv={message:"boolean schema is false"};function Gv(t){let{gen:e,schema:r,validateName:n}=t;r===!1?$c(t,!1):typeof r=="object"&&r.$async===!0?e.return(kv.default.data):(e.assign((0,Kv._)`${n}.errors`,null),e.return(!0))}qt.topBoolOrEmptySchema=Gv;function Wv(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),$c(t)):r.var(e,!0)}qt.boolOrEmptySchema=Wv;function $c(t,e){let{gen:r,data:n}=t,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Uv.reportError)(i,Bv,void 0,e)}});var no=y(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.getRules=Mt.isJSONType=void 0;var Hv=["string","number","integer","boolean","null","object","array"],Yv=new Set(Hv);function Jv(t){return typeof t=="string"&&Yv.has(t)}Mt.isJSONType=Jv;function Xv(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Mt.getRules=Xv});var io=y(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.shouldUseRule=nt.shouldUseGroup=nt.schemaHasRulesForType=void 0;function Zv({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&Ec(t,n)}nt.schemaHasRulesForType=Zv;function Ec(t,e){return e.rules.some(r=>Sc(t,r))}nt.shouldUseGroup=Ec;function Sc(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}nt.shouldUseRule=Sc});var Pr=y(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.reportTypeError=ae.checkDataTypes=ae.checkDataType=ae.coerceAndCheckDataType=ae.getJSONTypes=ae.getSchemaTypes=ae.DataType=void 0;var Qv=no(),e0=io(),t0=Or(),D=T(),Oc=x(),Ct;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(Ct||(ae.DataType=Ct={}));function r0(t){let e=Pc(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}ae.getSchemaTypes=r0;function Pc(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(Qv.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}ae.getJSONTypes=Pc;function n0(t,e){let{gen:r,data:n,opts:i}=t,s=i0(e,i.coerceTypes),o=e.length>0&&!(s.length===0&&e.length===1&&(0,e0.schemaHasRulesForType)(t,e[0]));if(o){let a=oo(e,n,i.strictNumbers,Ct.Wrong);r.if(a,()=>{s.length?s0(t,e,s):ao(t)})}return o}ae.coerceAndCheckDataType=n0;var bc=new Set(["string","number","integer","boolean","null"]);function i0(t,e){return e?t.filter(r=>bc.has(r)||e==="array"&&r==="array"):[]}function s0(t,e,r){let{gen:n,data:i,opts:s}=t,o=n.let("dataType",(0,D._)`typeof ${i}`),a=n.let("coerced",(0,D._)`undefined`);s.coerceTypes==="array"&&n.if((0,D._)`${o} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,D._)`${i}[0]`).assign(o,(0,D._)`typeof ${i}`).if(oo(e,i,s.strictNumbers),()=>n.assign(a,i))),n.if((0,D._)`${a} !== undefined`);for(let f of r)(bc.has(f)||f==="array"&&s.coerceTypes==="array")&&u(f);n.else(),ao(t),n.endIf(),n.if((0,D._)`${a} !== undefined`,()=>{n.assign(i,a),o0(t,a)});function u(f){switch(f){case"string":n.elseIf((0,D._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,D._)`"" + ${i}`).elseIf((0,D._)`${i} === null`).assign(a,(0,D._)`""`);return;case"number":n.elseIf((0,D._)`${o} == "boolean" || ${i} === null
              || (${o} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,D._)`+${i}`);return;case"integer":n.elseIf((0,D._)`${o} === "boolean" || ${i} === null
              || (${o} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,D._)`+${i}`);return;case"boolean":n.elseIf((0,D._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,D._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":n.elseIf((0,D._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(a,null);return;case"array":n.elseIf((0,D._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${i} === null`).assign(a,(0,D._)`[${i}]`)}}}function o0({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,D._)`${e} !== undefined`,()=>t.assign((0,D._)`${e}[${r}]`,n))}function so(t,e,r,n=Ct.Correct){let i=n===Ct.Correct?D.operators.EQ:D.operators.NEQ,s;switch(t){case"null":return(0,D._)`${e} ${i} null`;case"array":s=(0,D._)`Array.isArray(${e})`;break;case"object":s=(0,D._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":s=o((0,D._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":s=o();break;default:return(0,D._)`typeof ${e} ${i} ${t}`}return n===Ct.Correct?s:(0,D.not)(s);function o(a=D.nil){return(0,D.and)((0,D._)`typeof ${e} == "number"`,a,r?(0,D._)`isFinite(${e})`:D.nil)}}ae.checkDataType=so;function oo(t,e,r,n){if(t.length===1)return so(t[0],e,r,n);let i,s=(0,Oc.toHash)(t);if(s.array&&s.object){let o=(0,D._)`typeof ${e} != "object"`;i=s.null?o:(0,D._)`!${e} || ${o}`,delete s.null,delete s.array,delete s.object}else i=D.nil;s.number&&delete s.integer;for(let o in s)i=(0,D.and)(i,so(o,e,r,n));return i}ae.checkDataTypes=oo;var a0={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,D._)`{type: ${t}}`:(0,D._)`{type: ${e}}`};function ao(t){let e=u0(t);(0,t0.reportError)(e,a0)}ae.reportTypeError=ao;function u0(t){let{gen:e,data:r,schema:n}=t,i=(0,Oc.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:t}}});var Ic=y(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.assignDefaults=void 0;var xt=T(),f0=x();function c0(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let i in r)Nc(t,i,r[i].default);else e==="array"&&Array.isArray(n)&&n.forEach((i,s)=>Nc(t,s,i.default))}ui.assignDefaults=c0;function Nc(t,e,r){let{gen:n,compositeRule:i,data:s,opts:o}=t;if(r===void 0)return;let a=(0,xt._)`${s}${(0,xt.getProperty)(e)}`;if(i){(0,f0.checkStrictMode)(t,`default is ignored for: ${a}`);return}let u=(0,xt._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,xt._)`${u} || ${a} === null || ${a} === ""`),n.if(u,(0,xt._)`${a} = ${(0,xt.stringify)(r)}`)}});var $e=y(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.validateUnion=z.validateArray=z.usePattern=z.callValidateCode=z.schemaProperties=z.allSchemaProperties=z.noPropertyInData=z.propertyInData=z.isOwnProperty=z.hasPropFunc=z.reportMissingProp=z.checkMissingProp=z.checkReportMissingProp=void 0;var k=T(),uo=x(),it=Be(),d0=x();function l0(t,e){let{gen:r,data:n,it:i}=t;r.if(co(r,n,e,i.opts.ownProperties),()=>{t.setParams({missingProperty:(0,k._)`${e}`},!0),t.error()})}z.checkReportMissingProp=l0;function p0({gen:t,data:e,it:{opts:r}},n,i){return(0,k.or)(...n.map(s=>(0,k.and)(co(t,e,s,r.ownProperties),(0,k._)`${i} = ${s}`)))}z.checkMissingProp=p0;function h0(t,e){t.setParams({missingProperty:e},!0),t.error()}z.reportMissingProp=h0;function Tc(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,k._)`Object.prototype.hasOwnProperty`})}z.hasPropFunc=Tc;function fo(t,e,r){return(0,k._)`${Tc(t)}.call(${e}, ${r})`}z.isOwnProperty=fo;function m0(t,e,r,n){let i=(0,k._)`${e}${(0,k.getProperty)(r)} !== undefined`;return n?(0,k._)`${i} && ${fo(t,e,r)}`:i}z.propertyInData=m0;function co(t,e,r,n){let i=(0,k._)`${e}${(0,k.getProperty)(r)} === undefined`;return n?(0,k.or)(i,(0,k.not)(fo(t,e,r))):i}z.noPropertyInData=co;function jc(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}z.allSchemaProperties=jc;function y0(t,e){return jc(e).filter(r=>!(0,uo.alwaysValidSchema)(t,e[r]))}z.schemaProperties=y0;function g0({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,u,f){let c=f?(0,k._)`${t}, ${e}, ${n}${i}`:e,d=[[it.default.instancePath,(0,k.strConcat)(it.default.instancePath,s)],[it.default.parentData,o.parentData],[it.default.parentDataProperty,o.parentDataProperty],[it.default.rootData,it.default.rootData]];o.opts.dynamicRef&&d.push([it.default.dynamicAnchors,it.default.dynamicAnchors]);let m=(0,k._)`${c}, ${r.object(...d)}`;return u!==k.nil?(0,k._)`${a}.call(${u}, ${m})`:(0,k._)`${a}(${m})`}z.callValidateCode=g0;var _0=(0,k._)`new RegExp`;function v0({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"",{regExp:i}=e.code,s=i(r,n);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,k._)`${i.code==="new RegExp"?_0:(0,d0.useFunc)(t,i)}(${r}, ${n})`})}z.usePattern=v0;function $0(t){let{gen:e,data:r,keyword:n,it:i}=t,s=e.name("valid");if(i.allErrors){let a=e.let("valid",!0);return o(()=>e.assign(a,!1)),a}return e.var(s,!0),o(()=>e.break()),s;function o(a){let u=e.const("len",(0,k._)`${r}.length`);e.forRange("i",0,u,f=>{t.subschema({keyword:n,dataProp:f,dataPropType:uo.Type.Num},s),e.if((0,k.not)(s),a)})}}z.validateArray=$0;function w0(t){let{gen:e,schema:r,keyword:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,uo.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;let o=e.let("valid",!1),a=e.name("_valid");e.block(()=>r.forEach((u,f)=>{let c=t.subschema({keyword:n,schemaProp:f,compositeRule:!0},a);e.assign(o,(0,k._)`${o} || ${a}`),t.mergeValidEvaluated(c,a)||e.if((0,k.not)(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}z.validateUnion=w0});var Ac=y(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.validateKeywordUsage=Me.validSchemaType=Me.funcKeywordCode=Me.macroKeywordCode=void 0;var de=T(),Et=Be(),E0=$e(),S0=Or();function O0(t,e){let{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=t,a=e.macro.call(o.self,i,s,o),u=Rc(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);let f=r.name("valid");t.subschema({schema:a,schemaPath:de.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},f),t.pass(f,()=>t.error(!0))}Me.macroKeywordCode=O0;function P0(t,e){var r;let{gen:n,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=t;N0(u,e);let f=!a&&e.compile?e.compile.call(u.self,s,o,u):e.validate,c=Rc(n,i,f),d=n.let("valid");t.block$data(d,m),t.ok((r=e.valid)!==null&&r!==void 0?r:d);function m(){if(e.errors===!1)p(),e.modifying&&Dc(t),g(()=>t.error());else{let _=e.async?h():l();e.modifying&&Dc(t),g(()=>b0(t,_))}}function h(){let _=n.let("ruleErrs",null);return n.try(()=>p((0,de._)`await `),$=>n.assign(d,!1).if((0,de._)`${$} instanceof ${u.ValidationError}`,()=>n.assign(_,(0,de._)`${$}.errors`),()=>n.throw($))),_}function l(){let _=(0,de._)`${c}.errors`;return n.assign(_,null),p(de.nil),_}function p(_=e.async?(0,de._)`await `:de.nil){let $=u.opts.passContext?Et.default.this:Et.default.self,E=!("compile"in e&&!a||e.schema===!1);n.assign(d,(0,de._)`${_}${(0,E0.callValidateCode)(t,c,$,E)}`,e.modifying)}function g(_){var $;n.if((0,de.not)(($=e.valid)!==null&&$!==void 0?$:d),_)}}Me.funcKeywordCode=P0;function Dc(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,de._)`${n.parentData}[${n.parentDataProperty}]`))}function b0(t,e){let{gen:r}=t;r.if((0,de._)`Array.isArray(${e})`,()=>{r.assign(Et.default.vErrors,(0,de._)`${Et.default.vErrors} === null ? ${e} : ${Et.default.vErrors}.concat(${e})`).assign(Et.default.errors,(0,de._)`${Et.default.vErrors}.length`),(0,S0.extendErrors)(t)},()=>t.error())}function N0({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Rc(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,de.stringify)(r)})}function I0(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}Me.validSchemaType=I0;function T0({schema:t,opts:e,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");let o=i.dependencies;if(o?.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(t[s])){let u=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(u);else throw new Error(u)}}Me.validateKeywordUsage=T0});var Mc=y(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.extendSubschemaMode=st.extendSubschemaData=st.getSubschema=void 0;var Ce=T(),qc=x();function j0(t,{keyword:e,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let a=t.schema[e];return r===void 0?{schema:a,schemaPath:(0,Ce._)`${t.schemaPath}${(0,Ce.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[r],schemaPath:(0,Ce._)`${t.schemaPath}${(0,Ce.getProperty)(e)}${(0,Ce.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,qc.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}st.getSubschema=j0;function D0(t,e,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=e;if(r!==void 0){let{errorPath:f,dataPathArr:c,opts:d}=e,m=a.let("data",(0,Ce._)`${e.data}${(0,Ce.getProperty)(r)}`,!0);u(m),t.errorPath=(0,Ce.str)`${f}${(0,qc.getErrorPath)(r,n,d.jsPropertySyntax)}`,t.parentDataProperty=(0,Ce._)`${r}`,t.dataPathArr=[...c,t.parentDataProperty]}if(i!==void 0){let f=i instanceof Ce.Name?i:a.let("data",i,!0);u(f),o!==void 0&&(t.propertyName=o)}s&&(t.dataTypes=s);function u(f){t.data=f,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,f]}}st.extendSubschemaData=D0;function R0(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(t.compositeRule=n),i!==void 0&&(t.createErrors=i),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=r}st.extendSubschemaMode=R0});var fi=y((Xb,Cc)=>{"use strict";Cc.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}});var Lc=y((Zb,xc)=>{"use strict";var ot=xc.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};ci(e,n,i,t,"",t)};ot.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ot.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ot.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ot.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ci(t,e,r,n,i,s,o,a,u,f){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,i,s,o,a,u,f);for(var c in n){var d=n[c];if(Array.isArray(d)){if(c in ot.arrayKeywords)for(var m=0;m<d.length;m++)ci(t,e,r,d[m],i+"/"+c+"/"+m,s,i,c,n,m)}else if(c in ot.propsKeywords){if(d&&typeof d=="object")for(var h in d)ci(t,e,r,d[h],i+"/"+c+"/"+A0(h),s,i,c,n,h)}else(c in ot.keywords||t.allKeys&&!(c in ot.skipKeywords))&&ci(t,e,r,d,i+"/"+c,s,i,c,n)}r(n,i,s,o,a,u,f)}}function A0(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var br=y(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.getSchemaRefs=he.resolveUrl=he.normalizeId=he._getFullPath=he.getFullPath=he.inlineRef=void 0;var q0=x(),M0=fi(),C0=Lc(),x0=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function L0(t,e=!0){return typeof t=="boolean"?!0:e===!0?!lo(t):e?Fc(t)<=e:!1}he.inlineRef=L0;var F0=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function lo(t){for(let e in t){if(F0.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(lo)||typeof r=="object"&&lo(r))return!0}return!1}function Fc(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!x0.has(r)&&(typeof t[r]=="object"&&(0,q0.eachItem)(t[r],n=>e+=Fc(n)),e===1/0))return 1/0}return e}function Vc(t,e="",r){r!==!1&&(e=Lt(e));let n=t.parse(e);return zc(t,n)}he.getFullPath=Vc;function zc(t,e){return t.serialize(e).split("#")[0]+"#"}he._getFullPath=zc;var V0=/#\/?$/;function Lt(t){return t?t.replace(V0,""):""}he.normalizeId=Lt;function z0(t,e,r){return r=Lt(r),t.resolve(e,r)}he.resolveUrl=z0;var U0=/^[a-z_][-a-z0-9._]*$/i;function K0(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,i=Lt(t[r]||e),s={"":i},o=Vc(n,i,!1),a={},u=new Set;return C0(t,{allKeys:!0},(d,m,h,l)=>{if(l===void 0)return;let p=o+m,g=s[l];typeof d[r]=="string"&&(g=_.call(this,d[r])),$.call(this,d.$anchor),$.call(this,d.$dynamicAnchor),s[m]=g;function _(E){let I=this.opts.uriResolver.resolve;if(E=Lt(g?I(g,E):E),u.has(E))throw c(E);u.add(E);let w=this.refs[E];return typeof w=="string"&&(w=this.refs[w]),typeof w=="object"?f(d,w.schema,E):E!==Lt(p)&&(E[0]==="#"?(f(d,a[E],E),a[E]=d):this.refs[E]=p),E}function $(E){if(typeof E=="string"){if(!U0.test(E))throw new Error(`invalid anchor "${E}"`);_.call(this,`#${E}`)}}}),a;function f(d,m,h){if(m!==void 0&&!M0(d,m))throw c(h)}function c(d){return new Error(`reference "${d}" resolves to more than one schema`)}}he.getSchemaRefs=K0});var Tr=y(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.getData=at.KeywordCxt=at.validateFunctionCode=void 0;var Gc=wc(),Uc=Pr(),ho=io(),di=Pr(),k0=Ic(),Ir=Ac(),po=Mc(),P=T(),j=Be(),B0=br(),Ge=x(),Nr=Or();function G0(t){if(Yc(t)&&(Jc(t),Hc(t))){Y0(t);return}Wc(t,()=>(0,Gc.topBoolOrEmptySchema)(t))}at.validateFunctionCode=G0;function Wc({gen:t,validateName:e,schema:r,schemaEnv:n,opts:i},s){i.code.es5?t.func(e,(0,P._)`${j.default.data}, ${j.default.valCxt}`,n.$async,()=>{t.code((0,P._)`"use strict"; ${Kc(r,i)}`),H0(t,i),t.code(s)}):t.func(e,(0,P._)`${j.default.data}, ${W0(i)}`,n.$async,()=>t.code(Kc(r,i)).code(s))}function W0(t){return(0,P._)`{${j.default.instancePath}="", ${j.default.parentData}, ${j.default.parentDataProperty}, ${j.default.rootData}=${j.default.data}${t.dynamicRef?(0,P._)`, ${j.default.dynamicAnchors}={}`:P.nil}}={}`}function H0(t,e){t.if(j.default.valCxt,()=>{t.var(j.default.instancePath,(0,P._)`${j.default.valCxt}.${j.default.instancePath}`),t.var(j.default.parentData,(0,P._)`${j.default.valCxt}.${j.default.parentData}`),t.var(j.default.parentDataProperty,(0,P._)`${j.default.valCxt}.${j.default.parentDataProperty}`),t.var(j.default.rootData,(0,P._)`${j.default.valCxt}.${j.default.rootData}`),e.dynamicRef&&t.var(j.default.dynamicAnchors,(0,P._)`${j.default.valCxt}.${j.default.dynamicAnchors}`)},()=>{t.var(j.default.instancePath,(0,P._)`""`),t.var(j.default.parentData,(0,P._)`undefined`),t.var(j.default.parentDataProperty,(0,P._)`undefined`),t.var(j.default.rootData,j.default.data),e.dynamicRef&&t.var(j.default.dynamicAnchors,(0,P._)`{}`)})}function Y0(t){let{schema:e,opts:r,gen:n}=t;Wc(t,()=>{r.$comment&&e.$comment&&Zc(t),e$(t),n.let(j.default.vErrors,null),n.let(j.default.errors,0),r.unevaluated&&J0(t),Xc(t),n$(t)})}function J0(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,P._)`${r}.evaluated`),e.if((0,P._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,P._)`${t.evaluated}.props`,(0,P._)`undefined`)),e.if((0,P._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,P._)`${t.evaluated}.items`,(0,P._)`undefined`))}function Kc(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,P._)`/*# sourceURL=${r} */`:P.nil}function X0(t,e){if(Yc(t)&&(Jc(t),Hc(t))){Z0(t,e);return}(0,Gc.boolOrEmptySchema)(t,e)}function Hc({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function Yc(t){return typeof t.schema!="boolean"}function Z0(t,e){let{schema:r,gen:n,opts:i}=t;i.$comment&&r.$comment&&Zc(t),t$(t),r$(t);let s=n.const("_errs",j.default.errors);Xc(t,s),n.var(e,(0,P._)`${s} === ${j.default.errors}`)}function Jc(t){(0,Ge.checkUnknownRules)(t),Q0(t)}function Xc(t,e){if(t.opts.jtd)return kc(t,[],!1,e);let r=(0,Uc.getSchemaTypes)(t.schema),n=(0,Uc.coerceAndCheckDataType)(t,r);kc(t,r,!n,e)}function Q0(t){let{schema:e,errSchemaPath:r,opts:n,self:i}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Ge.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function e$(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ge.checkStrictMode)(t,"default is ignored in the schema root")}function t$(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,B0.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function r$(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Zc({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:i}){let s=r.$comment;if(i.$comment===!0)t.code((0,P._)`${j.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){let o=(0,P.str)`${n}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,P._)`${j.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function n$(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=t;r.$async?e.if((0,P._)`${j.default.errors} === 0`,()=>e.return(j.default.data),()=>e.throw((0,P._)`new ${i}(${j.default.vErrors})`)):(e.assign((0,P._)`${n}.errors`,j.default.vErrors),s.unevaluated&&i$(t),e.return((0,P._)`${j.default.errors} === 0`))}function i$({gen:t,evaluated:e,props:r,items:n}){r instanceof P.Name&&t.assign((0,P._)`${e}.props`,r),n instanceof P.Name&&t.assign((0,P._)`${e}.items`,n)}function kc(t,e,r,n){let{gen:i,schema:s,data:o,allErrors:a,opts:u,self:f}=t,{RULES:c}=f;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,Ge.schemaHasRulesButRef)(s,c))){i.block(()=>ed(t,"$ref",c.all.$ref.definition));return}u.jtd||s$(t,e),i.block(()=>{for(let m of c.rules)d(m);d(c.post)});function d(m){(0,ho.shouldUseGroup)(s,m)&&(m.type?(i.if((0,di.checkDataType)(m.type,o,u.strictNumbers)),Bc(t,m),e.length===1&&e[0]===m.type&&r&&(i.else(),(0,di.reportTypeError)(t)),i.endIf()):Bc(t,m),a||i.if((0,P._)`${j.default.errors} === ${n||0}`))}}function Bc(t,e){let{gen:r,schema:n,opts:{useDefaults:i}}=t;i&&(0,k0.assignDefaults)(t,e.type),r.block(()=>{for(let s of e.rules)(0,ho.shouldUseRule)(n,s)&&ed(t,s.keyword,s.definition,e.type)})}function s$(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(o$(t,e),t.opts.allowUnionTypes||a$(t,e),u$(t,t.dataTypes))}function o$(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Qc(t.dataTypes,r)||mo(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),c$(t,e)}}function a$(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&mo(t,"use allowUnionTypes to allow union type keyword")}function u$(t,e){let r=t.self.RULES.all;for(let n in r){let i=r[n];if(typeof i=="object"&&(0,ho.shouldUseRule)(t.schema,i)){let{type:s}=i.definition;s.length&&!s.some(o=>f$(e,o))&&mo(t,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function f$(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Qc(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function c$(t,e){let r=[];for(let n of t.dataTypes)Qc(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function mo(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Ge.checkStrictMode)(t,e,t.opts.strictTypes)}var li=class{constructor(e,r,n){if((0,Ir.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ge.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",td(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Ir.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",j.default.errors))}result(e,r,n){this.failResult((0,P.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,P.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,P._)`${r} !== undefined && (${(0,P.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Nr.reportExtraError:Nr.reportError)(this,this.def.error,r)}$dataError(){(0,Nr.reportError)(this,this.def.$dataError||Nr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Nr.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=P.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=P.nil,r=P.nil){if(!this.$data)return;let{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,P.or)((0,P._)`${i} === undefined`,r)),e!==P.nil&&n.assign(e,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==P.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,P.or)(o(),a());function o(){if(n.length){if(!(r instanceof P.Name))throw new Error("ajv implementation error");let u=Array.isArray(n)?n:[n];return(0,P._)`${(0,di.checkDataTypes)(u,r,s.opts.strictNumbers,di.DataType.Wrong)}`}return P.nil}function a(){if(i.validateSchema){let u=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,P._)`!${u}(${r})`}return P.nil}}subschema(e,r){let n=(0,po.getSubschema)(this.it,e);(0,po.extendSubschemaData)(n,this.it,e),(0,po.extendSubschemaMode)(n,e);let i={...this.it,...n,items:void 0,props:void 0};return X0(i,r),i}mergeEvaluated(e,r){let{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=Ge.mergeEvaluated.props(i,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Ge.mergeEvaluated.items(i,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(e,P.Name)),!0}};at.KeywordCxt=li;function ed(t,e,r,n){let i=new li(t,r,e);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Ir.funcKeywordCode)(i,r):"macro"in r?(0,Ir.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Ir.funcKeywordCode)(i,r)}var d$=/^\/(?:[^~]|~0|~1)*$/,l$=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function td(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let i,s;if(t==="")return j.default.rootData;if(t[0]==="/"){if(!d$.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);i=t,s=j.default.rootData}else{let f=l$.exec(t);if(!f)throw new Error(`Invalid JSON-pointer: ${t}`);let c=+f[1];if(i=f[2],i==="#"){if(c>=e)throw new Error(u("property/index",c));return n[e-c]}if(c>e)throw new Error(u("data",c));if(s=r[e-c],!i)return s}let o=s,a=i.split("/");for(let f of a)f&&(s=(0,P._)`${s}${(0,P.getProperty)((0,Ge.unescapeJsonPointer)(f))}`,o=(0,P._)`${o} && ${s}`);return o;function u(f,c){return`Cannot access ${f} ${c} levels up, current level is ${e}`}}at.getData=td});var pi=y(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});var yo=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};go.default=yo});var jr=y($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});var _o=br(),vo=class extends Error{constructor(e,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,_o.resolveUrl)(e,r,n),this.missingSchema=(0,_o.normalizeId)((0,_o.getFullPath)(e,this.missingRef))}};$o.default=vo});var mi=y(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.resolveSchema=we.getCompilingSchema=we.resolveRef=we.compileSchema=we.SchemaEnv=void 0;var Ne=T(),p$=pi(),St=Be(),Ie=br(),rd=x(),h$=Tr(),Ft=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,Ie.normalizeId)(n?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n?.$async,this.refs={}}};we.SchemaEnv=Ft;function Eo(t){let e=nd.call(this,t);if(e)return e;let r=(0,Ie.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new Ne.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s}),a;t.$async&&(a=o.scopeValue("Error",{ref:p$.default,code:(0,Ne._)`require("ajv/dist/runtime/validation_error").default`}));let u=o.scopeName("validate");t.validateName=u;let f={gen:o,allErrors:this.opts.allErrors,data:St.default.data,parentData:St.default.parentData,parentDataProperty:St.default.parentDataProperty,dataNames:[St.default.data],dataPathArr:[Ne.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Ne.stringify)(t.schema)}:{ref:t.schema}),validateName:u,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Ne.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ne._)`""`,opts:this.opts,self:this},c;try{this._compilations.add(t),(0,h$.validateFunctionCode)(f),o.optimize(this.opts.code.optimize);let d=o.toString();c=`${o.scopeRefs(St.default.scope)}return ${d}`,this.opts.code.process&&(c=this.opts.code.process(c,t));let h=new Function(`${St.default.self}`,`${St.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=t.schema,h.schemaEnv=t,t.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){let{props:l,items:p}=f;h.evaluated={props:l instanceof Ne.Name?void 0:l,items:p instanceof Ne.Name?void 0:p,dynamicProps:l instanceof Ne.Name,dynamicItems:p instanceof Ne.Name},h.source&&(h.source.evaluated=(0,Ne.stringify)(h.evaluated))}return t.validate=h,t}catch(d){throw delete t.validate,delete t.validateName,c&&this.logger.error("Error compiling schema, function code:",c),d}finally{this._compilations.delete(t)}}we.compileSchema=Eo;function m$(t,e,r){var n;r=(0,Ie.resolveUrl)(this.opts.uriResolver,e,r);let i=t.refs[r];if(i)return i;let s=_$.call(this,t,r);if(s===void 0){let o=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new Ft({schema:o,schemaId:a,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=y$.call(this,s)}we.resolveRef=m$;function y$(t){return(0,Ie.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Eo.call(this,t)}function nd(t){for(let e of this._compilations)if(g$(e,t))return e}we.getCompilingSchema=nd;function g$(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function _$(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||hi.call(this,t,e)}function hi(t,e){let r=this.opts.uriResolver.parse(e),n=(0,Ie._getFullPath)(this.opts.uriResolver,r),i=(0,Ie.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===i)return wo.call(this,r,t);let s=(0,Ie.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){let a=hi.call(this,t,o);return typeof a?.schema!="object"?void 0:wo.call(this,r,a)}if(typeof o?.schema=="object"){if(o.validate||Eo.call(this,o),s===(0,Ie.normalizeId)(e)){let{schema:a}=o,{schemaId:u}=this.opts,f=a[u];return f&&(i=(0,Ie.resolveUrl)(this.opts.uriResolver,i,f)),new Ft({schema:a,schemaId:u,root:t,baseId:i})}return wo.call(this,r,o)}}we.resolveSchema=hi;var v$=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function wo(t,{baseId:e,schema:r,root:n}){var i;if(((i=t.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let u=r[(0,rd.unescapeFragment)(a)];if(u===void 0)return;r=u;let f=typeof r=="object"&&r[this.opts.schemaId];!v$.has(a)&&f&&(e=(0,Ie.resolveUrl)(this.opts.uriResolver,e,f))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,rd.schemaHasRulesButRef)(r,this.RULES)){let a=(0,Ie.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=hi.call(this,n,a)}let{schemaId:o}=this.opts;if(s=s||new Ft({schema:r,schemaId:o,root:n,baseId:e}),s.schema!==s.root.schema)return s}});var id=y((i1,$$)=>{$$.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var od=y((s1,sd)=>{"use strict";var w$={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};sd.exports={HEX:w$}});var hd=y((o1,pd)=>{"use strict";var{HEX:E$}=od();function cd(t){if(ld(t,".")<3)return{host:t,isIPV4:!1};let e=t.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=e;return r?{host:O$(r,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function So(t,e=!1){let r="",n=!0;for(let i of t){if(E$[i]===void 0)return;i!=="0"&&n===!0&&(n=!1),n||(r+=i)}return e&&r.length===0&&(r="0"),r}function S$(t){let e=0,r={error:!1,address:"",zone:""},n=[],i=[],s=!1,o=!1,a=!1;function u(){if(i.length){if(s===!1){let f=So(i);if(f!==void 0)n.push(f);else return r.error=!0,!1}i.length=0}return!0}for(let f=0;f<t.length;f++){let c=t[f];if(!(c==="["||c==="]"))if(c===":"){if(o===!0&&(a=!0),!u())break;if(e++,n.push(":"),e>7){r.error=!0;break}f-1>=0&&t[f-1]===":"&&(o=!0);continue}else if(c==="%"){if(!u())break;s=!0}else{i.push(c);continue}}return i.length&&(s?r.zone=i.join(""):a?n.push(i.join("")):n.push(So(i))),r.address=n.join(""),r}function dd(t,e={}){if(ld(t,":")<2)return{host:t,isIPV6:!1};let r=S$(t);if(r.error)return{host:t,isIPV6:!1};{let n=r.address,i=r.address;return r.zone&&(n+="%"+r.zone,i+="%25"+r.zone),{host:n,escapedHost:i,isIPV6:!0}}}function O$(t,e){let r="",n=!0,i=t.length;for(let s=0;s<i;s++){let o=t[s];o==="0"&&n?(s+1<=i&&t[s+1]===e||s+1===i)&&(r+=o,n=!1):(o===e?n=!0:n=!1,r+=o)}return r}function ld(t,e){let r=0;for(let n=0;n<t.length;n++)t[n]===e&&r++;return r}var ad=/^\.\.?\//u,ud=/^\/\.(?:\/|$)/u,fd=/^\/\.\.(?:\/|$)/u,P$=/^\/?(?:.|\n)*?(?=\/|$)/u;function b$(t){let e=[];for(;t.length;)if(t.match(ad))t=t.replace(ad,"");else if(t.match(ud))t=t.replace(ud,"/");else if(t.match(fd))t=t.replace(fd,"/"),e.pop();else if(t==="."||t==="..")t="";else{let r=t.match(P$);if(r){let n=r[0];t=t.slice(n.length),e.push(n)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function N$(t,e){let r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function I$(t,e){let r=[];if(t.userinfo!==void 0&&(r.push(t.userinfo),r.push("@")),t.host!==void 0){let n=unescape(t.host),i=cd(n);if(i.isIPV4)n=i.host;else{let s=dd(i.host,{isIPV4:!1});s.isIPV6===!0?n=`[${s.escapedHost}]`:n=t.host}r.push(n)}return(typeof t.port=="number"||typeof t.port=="string")&&(r.push(":"),r.push(String(t.port))),r.length?r.join(""):void 0}pd.exports={recomposeAuthority:I$,normalizeComponentEncoding:N$,removeDotSegments:b$,normalizeIPv4:cd,normalizeIPv6:dd,stringArrayToHexStripped:So}});var $d=y((a1,vd)=>{"use strict";var T$=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,j$=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function md(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function yd(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function gd(t){let e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function D$(t){return t.secure=md(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function R$(t){if((t.port===(md(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function A$(t,e){if(!t.path)return t.error="URN can not be parsed",t;let r=t.path.match(j$);if(r){let n=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];let i=`${n}:${e.nid||t.nid}`,s=Oo[i];t.path=void 0,s&&(t=s.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function q$(t,e){let r=e.scheme||t.scheme||"urn",n=t.nid.toLowerCase(),i=`${r}:${e.nid||n}`,s=Oo[i];s&&(t=s.serialize(t,e));let o=t,a=t.nss;return o.path=`${n||e.nid}:${a}`,e.skipEscape=!0,o}function M$(t,e){let r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!T$.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function C$(t){let e=t;return e.nss=(t.uuid||"").toLowerCase(),e}var _d={scheme:"http",domainHost:!0,parse:yd,serialize:gd},x$={scheme:"https",domainHost:_d.domainHost,parse:yd,serialize:gd},yi={scheme:"ws",domainHost:!0,parse:D$,serialize:R$},L$={scheme:"wss",domainHost:yi.domainHost,parse:yi.parse,serialize:yi.serialize},F$={scheme:"urn",parse:A$,serialize:q$,skipNormalize:!0},V$={scheme:"urn:uuid",parse:M$,serialize:C$,skipNormalize:!0},Oo={http:_d,https:x$,ws:yi,wss:L$,urn:F$,"urn:uuid":V$};vd.exports=Oo});var Ed=y((u1,_i)=>{"use strict";var{normalizeIPv6:z$,normalizeIPv4:U$,removeDotSegments:Dr,recomposeAuthority:K$,normalizeComponentEncoding:gi}=hd(),Po=$d();function k$(t,e){return typeof t=="string"?t=xe(We(t,e),e):typeof t=="object"&&(t=We(xe(t,e),e)),t}function B$(t,e,r){let n=Object.assign({scheme:"null"},r),i=wd(We(t,n),We(e,n),n,!0);return xe(i,{...n,skipEscape:!0})}function wd(t,e,r,n){let i={};return n||(t=We(xe(t,r),r),e=We(xe(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(i.scheme=e.scheme,i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=Dr(e.path||""),i.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=Dr(e.path||""),i.query=e.query):(e.path?(e.path.charAt(0)==="/"?i.path=Dr(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?i.path="/"+e.path:t.path?i.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:i.path=e.path,i.path=Dr(i.path)),i.query=e.query):(i.path=t.path,e.query!==void 0?i.query=e.query:i.query=t.query),i.userinfo=t.userinfo,i.host=t.host,i.port=t.port),i.scheme=t.scheme),i.fragment=e.fragment,i}function G$(t,e,r){return typeof t=="string"?(t=unescape(t),t=xe(gi(We(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=xe(gi(t,!0),{...r,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=xe(gi(We(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=xe(gi(e,!0),{...r,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function xe(t,e){let r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},n=Object.assign({},e),i=[],s=Po[(n.scheme||r.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&(i.push(r.scheme),i.push(":"));let o=K$(r,n);if(o!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(o),r.path&&r.path.charAt(0)!=="/"&&i.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!s||!s.absolutePath)&&(a=Dr(a)),o===void 0&&(a=a.replace(/^\/\//u,"/%2F")),i.push(a)}return r.query!==void 0&&(i.push("?"),i.push(r.query)),r.fragment!==void 0&&(i.push("#"),i.push(r.fragment)),i.join("")}var W$=Array.from({length:127},(t,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function H$(t){let e=0;for(let r=0,n=t.length;r<n;++r)if(e=t.charCodeAt(r),e>126||W$[e])return!0;return!1}var Y$=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function We(t,e){let r=Object.assign({},e),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=t.indexOf("%")!==-1,s=!1;r.reference==="suffix"&&(t=(r.scheme?r.scheme+":":"")+"//"+t);let o=t.match(Y$);if(o){if(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5]),n.host){let u=U$(n.host);if(u.isIPV4===!1){let f=z$(u.host,{isIPV4:!1});n.host=f.host.toLowerCase(),s=f.isIPV6}else n.host=u.host,s=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let a=Po[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!a||!a.unicodeSupport)&&n.host&&(r.domainHost||a&&a.domainHost)&&s===!1&&H$(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(u){n.error=n.error||"Host's domain name can not be converted to ASCII: "+u}(!a||a&&!a.skipNormalize)&&(i&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),i&&n.userinfo!==void 0&&(n.userinfo=unescape(n.userinfo)),i&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),a&&a.parse&&a.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var bo={SCHEMES:Po,normalize:k$,resolve:B$,resolveComponents:wd,equal:G$,serialize:xe,parse:We};_i.exports=bo;_i.exports.default=bo;_i.exports.fastUri=bo});var Od=y(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});var Sd=Ed();Sd.code='require("ajv/dist/runtime/uri").default';No.default=Sd});var Rd=y(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.CodeGen=te.Name=te.nil=te.stringify=te.str=te._=te.KeywordCxt=void 0;var J$=Tr();Object.defineProperty(te,"KeywordCxt",{enumerable:!0,get:function(){return J$.KeywordCxt}});var Vt=T();Object.defineProperty(te,"_",{enumerable:!0,get:function(){return Vt._}});Object.defineProperty(te,"str",{enumerable:!0,get:function(){return Vt.str}});Object.defineProperty(te,"stringify",{enumerable:!0,get:function(){return Vt.stringify}});Object.defineProperty(te,"nil",{enumerable:!0,get:function(){return Vt.nil}});Object.defineProperty(te,"Name",{enumerable:!0,get:function(){return Vt.Name}});Object.defineProperty(te,"CodeGen",{enumerable:!0,get:function(){return Vt.CodeGen}});var X$=pi(),Td=jr(),Z$=no(),Rr=mi(),Q$=T(),Ar=br(),vi=Pr(),To=x(),Pd=id(),ew=Od(),jd=(t,e)=>new RegExp(t,e);jd.code="new RegExp";var tw=["removeAdditional","useDefaults","coerceTypes"],rw=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),nw={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},iw={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},bd=200;function sw(t){var e,r,n,i,s,o,a,u,f,c,d,m,h,l,p,g,_,$,E,I,w,N,O,b,V;let ct=t.strict,Ki=(e=t.code)===null||e===void 0?void 0:e.optimize,Ya=Ki===!0||Ki===void 0?1:Ki||0,Ja=(n=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:jd,ym=(i=t.uriResolver)!==null&&i!==void 0?i:ew.default;return{strictSchema:(o=(s=t.strictSchema)!==null&&s!==void 0?s:ct)!==null&&o!==void 0?o:!0,strictNumbers:(u=(a=t.strictNumbers)!==null&&a!==void 0?a:ct)!==null&&u!==void 0?u:!0,strictTypes:(c=(f=t.strictTypes)!==null&&f!==void 0?f:ct)!==null&&c!==void 0?c:"log",strictTuples:(m=(d=t.strictTuples)!==null&&d!==void 0?d:ct)!==null&&m!==void 0?m:"log",strictRequired:(l=(h=t.strictRequired)!==null&&h!==void 0?h:ct)!==null&&l!==void 0?l:!1,code:t.code?{...t.code,optimize:Ya,regExp:Ja}:{optimize:Ya,regExp:Ja},loopRequired:(p=t.loopRequired)!==null&&p!==void 0?p:bd,loopEnum:(g=t.loopEnum)!==null&&g!==void 0?g:bd,meta:(_=t.meta)!==null&&_!==void 0?_:!0,messages:($=t.messages)!==null&&$!==void 0?$:!0,inlineRefs:(E=t.inlineRefs)!==null&&E!==void 0?E:!0,schemaId:(I=t.schemaId)!==null&&I!==void 0?I:"$id",addUsedSchema:(w=t.addUsedSchema)!==null&&w!==void 0?w:!0,validateSchema:(N=t.validateSchema)!==null&&N!==void 0?N:!0,validateFormats:(O=t.validateFormats)!==null&&O!==void 0?O:!0,unicodeRegExp:(b=t.unicodeRegExp)!==null&&b!==void 0?b:!0,int32range:(V=t.int32range)!==null&&V!==void 0?V:!0,uriResolver:ym}}var qr=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...sw(e)};let{es5:r,lines:n}=this.opts.code;this.scope=new Q$.ValueScope({scope:{},prefixes:rw,es5:r,lines:n}),this.logger=dw(e.logger);let i=e.validateFormats;e.validateFormats=!1,this.RULES=(0,Z$.getRules)(),Nd.call(this,nw,e,"NOT SUPPORTED"),Nd.call(this,iw,e,"DEPRECATED","warn"),this._metaOpts=fw.call(this),e.formats&&aw.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&uw.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),ow.call(this),e.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:n}=this.opts,i=Pd;n==="id"&&(i={...Pd},i.id=i.$id,delete i.$id),r&&e&&this.addMetaSchema(i,i[n],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let i=n(r);return"$async"in n||(this.errors=n.errors),i}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return i.call(this,e,r);async function i(c,d){await s.call(this,c.$schema);let m=this._addSchema(c,d);return m.validate||o.call(this,m)}async function s(c){c&&!this.getSchema(c)&&await i.call(this,{$ref:c},!0)}async function o(c){try{return this._compileSchemaEnv(c)}catch(d){if(!(d instanceof Td.default))throw d;return a.call(this,d),await u.call(this,d.missingSchema),o.call(this,c)}}function a({missingSchema:c,missingRef:d}){if(this.refs[c])throw new Error(`AnySchema ${c} is loaded but ${d} cannot be resolved`)}async function u(c){let d=await f.call(this,c);this.refs[c]||await s.call(this,d.$schema),this.refs[c]||this.addSchema(d,c,r)}async function f(c){let d=this._loading[c];if(d)return d;try{return await(this._loading[c]=n(c))}finally{delete this._loading[c]}}}addSchema(e,r,n,i=this.opts.validateSchema){if(Array.isArray(e)){for(let o of e)this.addSchema(o,void 0,n,i);return this}let s;if(typeof e=="object"){let{schemaId:o}=this.opts;if(s=e[o],s!==void 0&&typeof s!="string")throw new Error(`schema ${o} must be string`)}return r=(0,Ar.normalizeId)(r||s),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,i,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let i=this.validate(n,e);if(!i&&r){let s="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(s);else throw new Error(s)}return i}getSchema(e){let r;for(;typeof(r=Id.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:n}=this.opts,i=new Rr.SchemaEnv({schema:{},schemaId:n});if(r=Rr.resolveSchema.call(this,i,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=Id.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e[this.opts.schemaId];return n&&(n=(0,Ar.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(pw.call(this,n,r),!r)return(0,To.eachItem)(n,s=>Io.call(this,s)),this;mw.call(this,r);let i={...r,type:(0,vi.getJSONTypes)(r.type),schemaType:(0,vi.getJSONTypes)(r.schemaType)};return(0,To.eachItem)(n,i.type.length===0?s=>Io.call(this,s,i):s=>i.type.forEach(o=>Io.call(this,s,i,o))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let i=n.rules.findIndex(s=>s.keyword===e);i>=0&&n.rules.splice(i,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(i=>`${n}${i.instancePath} ${i.message}`).reduce((i,s)=>i+r+s)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let i of r){let s=i.split("/").slice(1),o=e;for(let a of s)o=o[a];for(let a in n){let u=n[a];if(typeof u!="object")continue;let{$data:f}=u.definition,c=o[a];f&&c&&(o[a]=Dd(c))}}return e}_removeAllSchemas(e,r){for(let n in e){let i=e[n];(!r||r.test(n))&&(typeof i=="string"?delete e[n]:i&&!i.meta&&(this._cache.delete(i.schema),delete e[n]))}}_addSchema(e,r,n,i=this.opts.validateSchema,s=this.opts.addUsedSchema){let o,{schemaId:a}=this.opts;if(typeof e=="object")o=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let u=this._cache.get(e);if(u!==void 0)return u;n=(0,Ar.normalizeId)(o||n);let f=Ar.getSchemaRefs.call(this,e,n);return u=new Rr.SchemaEnv({schema:e,schemaId:a,meta:r,baseId:n,localRefs:f}),this._cache.set(u.schema,u),s&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=u),i&&this.validateSchema(e,!0),u}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Rr.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{Rr.compileSchema.call(this,e)}finally{this.opts=r}}};qr.ValidationError=X$.default;qr.MissingRefError=Td.default;te.default=qr;function Nd(t,e,r,n="error"){for(let i in t){let s=i;s in e&&this.logger[n](`${r}: option ${i}. ${t[s]}`)}}function Id(t){return t=(0,Ar.normalizeId)(t),this.schemas[t]||this.refs[t]}function ow(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function aw(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function uw(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function fw(){let t={...this.opts};for(let e of tw)delete t[e];return t}var cw={log(){},warn(){},error(){}};function dw(t){if(t===!1)return cw;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var lw=/^[a-z_$][a-z0-9_$:-]*$/i;function pw(t,e){let{RULES:r}=this;if((0,To.eachItem)(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!lw.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function Io(t,e,r){var n;let i=e?.post;if(r&&i)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:s}=this,o=i?s.post:s.rules.find(({type:u})=>u===r);if(o||(o={type:r,rules:[]},s.rules.push(o)),s.keywords[t]=!0,!e)return;let a={keyword:t,definition:{...e,type:(0,vi.getJSONTypes)(e.type),schemaType:(0,vi.getJSONTypes)(e.schemaType)}};e.before?hw.call(this,o,a,e.before):o.rules.push(a),s.all[t]=a,(n=e.implements)===null||n===void 0||n.forEach(u=>this.addKeyword(u))}function hw(t,e,r){let n=t.rules.findIndex(i=>i.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function mw(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=Dd(e)),t.validateSchema=this.compile(e,!0))}var yw={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Dd(t){return{anyOf:[t,yw]}}});var Ad=y(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});var gw={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};jo.default=gw});var xd=y(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.callRef=Ot.getValidate=void 0;var _w=jr(),qd=$e(),me=T(),zt=Be(),Md=mi(),$i=x(),vw={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=n,{root:f}=s;if((r==="#"||r==="#/")&&i===f.baseId)return d();let c=Md.resolveRef.call(u,f,i,r);if(c===void 0)throw new _w.default(n.opts.uriResolver,i,r);if(c instanceof Md.SchemaEnv)return m(c);return h(c);function d(){if(s===f)return wi(t,o,s,s.$async);let l=e.scopeValue("root",{ref:f});return wi(t,(0,me._)`${l}.validate`,f,f.$async)}function m(l){let p=Cd(t,l);wi(t,p,l,l.$async)}function h(l){let p=e.scopeValue("schema",a.code.source===!0?{ref:l,code:(0,me.stringify)(l)}:{ref:l}),g=e.name("valid"),_=t.subschema({schema:l,dataTypes:[],schemaPath:me.nil,topSchemaRef:p,errSchemaPath:r},g);t.mergeEvaluated(_),t.ok(g)}}};function Cd(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,me._)`${r.scopeValue("wrapper",{ref:e})}.validate`}Ot.getValidate=Cd;function wi(t,e,r,n){let{gen:i,it:s}=t,{allErrors:o,schemaEnv:a,opts:u}=s,f=u.passContext?zt.default.this:me.nil;n?c():d();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");let l=i.let("valid");i.try(()=>{i.code((0,me._)`await ${(0,qd.callValidateCode)(t,e,f)}`),h(e),o||i.assign(l,!0)},p=>{i.if((0,me._)`!(${p} instanceof ${s.ValidationError})`,()=>i.throw(p)),m(p),o||i.assign(l,!1)}),t.ok(l)}function d(){t.result((0,qd.callValidateCode)(t,e,f),()=>h(e),()=>m(e))}function m(l){let p=(0,me._)`${l}.errors`;i.assign(zt.default.vErrors,(0,me._)`${zt.default.vErrors} === null ? ${p} : ${zt.default.vErrors}.concat(${p})`),i.assign(zt.default.errors,(0,me._)`${zt.default.vErrors}.length`)}function h(l){var p;if(!s.opts.unevaluated)return;let g=(p=r?.validate)===null||p===void 0?void 0:p.evaluated;if(s.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(s.props=$i.mergeEvaluated.props(i,g.props,s.props));else{let _=i.var("props",(0,me._)`${l}.evaluated.props`);s.props=$i.mergeEvaluated.props(i,_,s.props,me.Name)}if(s.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(s.items=$i.mergeEvaluated.items(i,g.items,s.items));else{let _=i.var("items",(0,me._)`${l}.evaluated.items`);s.items=$i.mergeEvaluated.items(i,_,s.items,me.Name)}}}Ot.callRef=wi;Ot.default=vw});var Ld=y(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var $w=Ad(),ww=xd(),Ew=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",$w.default,ww.default];Do.default=Ew});var Fd=y(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});var Ei=T(),ut=Ei.operators,Si={maximum:{okStr:"<=",ok:ut.LTE,fail:ut.GT},minimum:{okStr:">=",ok:ut.GTE,fail:ut.LT},exclusiveMaximum:{okStr:"<",ok:ut.LT,fail:ut.GTE},exclusiveMinimum:{okStr:">",ok:ut.GT,fail:ut.LTE}},Sw={message:({keyword:t,schemaCode:e})=>(0,Ei.str)`must be ${Si[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Ei._)`{comparison: ${Si[t].okStr}, limit: ${e}}`},Ow={keyword:Object.keys(Si),type:"number",schemaType:"number",$data:!0,error:Sw,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,Ei._)`${r} ${Si[e].fail} ${n} || isNaN(${r})`)}};Ro.default=Ow});var Vd=y(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var Mr=T(),Pw={message:({schemaCode:t})=>(0,Mr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Mr._)`{multipleOf: ${t}}`},bw={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Pw,code(t){let{gen:e,data:r,schemaCode:n,it:i}=t,s=i.opts.multipleOfPrecision,o=e.let("res"),a=s?(0,Mr._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Mr._)`${o} !== parseInt(${o})`;t.fail$data((0,Mr._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};Ao.default=bw});var Ud=y(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});function zd(t){let e=t.length,r=0,n=0,i;for(;n<e;)r++,i=t.charCodeAt(n++),i>=55296&&i<=56319&&n<e&&(i=t.charCodeAt(n),(i&64512)===56320&&n++);return r}qo.default=zd;zd.code='require("ajv/dist/runtime/ucs2length").default'});var Kd=y(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});var Pt=T(),Nw=x(),Iw=Ud(),Tw={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,Pt.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Pt._)`{limit: ${t}}`},jw={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Tw,code(t){let{keyword:e,data:r,schemaCode:n,it:i}=t,s=e==="maxLength"?Pt.operators.GT:Pt.operators.LT,o=i.opts.unicode===!1?(0,Pt._)`${r}.length`:(0,Pt._)`${(0,Nw.useFunc)(t.gen,Iw.default)}(${r})`;t.fail$data((0,Pt._)`${o} ${s} ${n}`)}};Mo.default=jw});var kd=y(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});var Dw=$e(),Oi=T(),Rw={message:({schemaCode:t})=>(0,Oi.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Oi._)`{pattern: ${t}}`},Aw={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Rw,code(t){let{data:e,$data:r,schema:n,schemaCode:i,it:s}=t,o=s.opts.unicodeRegExp?"u":"",a=r?(0,Oi._)`(new RegExp(${i}, ${o}))`:(0,Dw.usePattern)(t,n);t.fail$data((0,Oi._)`!${a}.test(${e})`)}};Co.default=Aw});var Bd=y(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});var Cr=T(),qw={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,Cr.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Cr._)`{limit: ${t}}`},Mw={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:qw,code(t){let{keyword:e,data:r,schemaCode:n}=t,i=e==="maxProperties"?Cr.operators.GT:Cr.operators.LT;t.fail$data((0,Cr._)`Object.keys(${r}).length ${i} ${n}`)}};xo.default=Mw});var Gd=y(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});var xr=$e(),Lr=T(),Cw=x(),xw={message:({params:{missingProperty:t}})=>(0,Lr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Lr._)`{missingProperty: ${t}}`},Lw={keyword:"required",type:"object",schemaType:"array",$data:!0,error:xw,code(t){let{gen:e,schema:r,schemaCode:n,data:i,$data:s,it:o}=t,{opts:a}=o;if(!s&&r.length===0)return;let u=r.length>=a.loopRequired;if(o.allErrors?f():c(),a.strictRequired){let h=t.parentSchema.properties,{definedProperties:l}=t.it;for(let p of r)if(h?.[p]===void 0&&!l.has(p)){let g=o.schemaEnv.baseId+o.errSchemaPath,_=`required property "${p}" is not defined at "${g}" (strictRequired)`;(0,Cw.checkStrictMode)(o,_,o.opts.strictRequired)}}function f(){if(u||s)t.block$data(Lr.nil,d);else for(let h of r)(0,xr.checkReportMissingProp)(t,h)}function c(){let h=e.let("missing");if(u||s){let l=e.let("valid",!0);t.block$data(l,()=>m(h,l)),t.ok(l)}else e.if((0,xr.checkMissingProp)(t,r,h)),(0,xr.reportMissingProp)(t,h),e.else()}function d(){e.forOf("prop",n,h=>{t.setParams({missingProperty:h}),e.if((0,xr.noPropertyInData)(e,i,h,a.ownProperties),()=>t.error())})}function m(h,l){t.setParams({missingProperty:h}),e.forOf(h,n,()=>{e.assign(l,(0,xr.propertyInData)(e,i,h,a.ownProperties)),e.if((0,Lr.not)(l),()=>{t.error(),e.break()})},Lr.nil)}}};Lo.default=Lw});var Wd=y(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});var Fr=T(),Fw={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,Fr.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Fr._)`{limit: ${t}}`},Vw={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Fw,code(t){let{keyword:e,data:r,schemaCode:n}=t,i=e==="maxItems"?Fr.operators.GT:Fr.operators.LT;t.fail$data((0,Fr._)`${r}.length ${i} ${n}`)}};Fo.default=Vw});var Pi=y(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});var Hd=fi();Hd.code='require("ajv/dist/runtime/equal").default';Vo.default=Hd});var Yd=y(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});var zo=Pr(),re=T(),zw=x(),Uw=Pi(),Kw={message:({params:{i:t,j:e}})=>(0,re.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,re._)`{i: ${t}, j: ${e}}`},kw={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Kw,code(t){let{gen:e,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=t;if(!n&&!i)return;let u=e.let("valid"),f=s.items?(0,zo.getSchemaTypes)(s.items):[];t.block$data(u,c,(0,re._)`${o} === false`),t.ok(u);function c(){let l=e.let("i",(0,re._)`${r}.length`),p=e.let("j");t.setParams({i:l,j:p}),e.assign(u,!0),e.if((0,re._)`${l} > 1`,()=>(d()?m:h)(l,p))}function d(){return f.length>0&&!f.some(l=>l==="object"||l==="array")}function m(l,p){let g=e.name("item"),_=(0,zo.checkDataTypes)(f,g,a.opts.strictNumbers,zo.DataType.Wrong),$=e.const("indices",(0,re._)`{}`);e.for((0,re._)`;${l}--;`,()=>{e.let(g,(0,re._)`${r}[${l}]`),e.if(_,(0,re._)`continue`),f.length>1&&e.if((0,re._)`typeof ${g} == "string"`,(0,re._)`${g} += "_"`),e.if((0,re._)`typeof ${$}[${g}] == "number"`,()=>{e.assign(p,(0,re._)`${$}[${g}]`),t.error(),e.assign(u,!1).break()}).code((0,re._)`${$}[${g}] = ${l}`)})}function h(l,p){let g=(0,zw.useFunc)(e,Uw.default),_=e.name("outer");e.label(_).for((0,re._)`;${l}--;`,()=>e.for((0,re._)`${p} = ${l}; ${p}--;`,()=>e.if((0,re._)`${g}(${r}[${l}], ${r}[${p}])`,()=>{t.error(),e.assign(u,!1).break(_)})))}}};Uo.default=kw});var Jd=y(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});var Ko=T(),Bw=x(),Gw=Pi(),Ww={message:"must be equal to constant",params:({schemaCode:t})=>(0,Ko._)`{allowedValue: ${t}}`},Hw={keyword:"const",$data:!0,error:Ww,code(t){let{gen:e,data:r,$data:n,schemaCode:i,schema:s}=t;n||s&&typeof s=="object"?t.fail$data((0,Ko._)`!${(0,Bw.useFunc)(e,Gw.default)}(${r}, ${i})`):t.fail((0,Ko._)`${s} !== ${r}`)}};ko.default=Hw});var Xd=y(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});var Vr=T(),Yw=x(),Jw=Pi(),Xw={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Vr._)`{allowedValues: ${t}}`},Zw={keyword:"enum",schemaType:"array",$data:!0,error:Xw,code(t){let{gen:e,data:r,$data:n,schema:i,schemaCode:s,it:o}=t;if(!n&&i.length===0)throw new Error("enum must have non-empty array");let a=i.length>=o.opts.loopEnum,u,f=()=>u??(u=(0,Yw.useFunc)(e,Jw.default)),c;if(a||n)c=e.let("valid"),t.block$data(c,d);else{if(!Array.isArray(i))throw new Error("ajv implementation error");let h=e.const("vSchema",s);c=(0,Vr.or)(...i.map((l,p)=>m(h,p)))}t.pass(c);function d(){e.assign(c,!1),e.forOf("v",s,h=>e.if((0,Vr._)`${f()}(${r}, ${h})`,()=>e.assign(c,!0).break()))}function m(h,l){let p=i[l];return typeof p=="object"&&p!==null?(0,Vr._)`${f()}(${r}, ${h}[${l}])`:(0,Vr._)`${r} === ${p}`}}};Bo.default=Zw});var Zd=y(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});var Qw=Fd(),eE=Vd(),tE=Kd(),rE=kd(),nE=Bd(),iE=Gd(),sE=Wd(),oE=Yd(),aE=Jd(),uE=Xd(),fE=[Qw.default,eE.default,tE.default,rE.default,nE.default,iE.default,sE.default,oE.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},aE.default,uE.default];Go.default=fE});var Ho=y(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.validateAdditionalItems=void 0;var bt=T(),Wo=x(),cE={message:({params:{len:t}})=>(0,bt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,bt._)`{limit: ${t}}`},dE={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:cE,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,Wo.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Qd(t,n)}};function Qd(t,e){let{gen:r,schema:n,data:i,keyword:s,it:o}=t;o.items=!0;let a=r.const("len",(0,bt._)`${i}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,bt._)`${a} <= ${e.length}`);else if(typeof n=="object"&&!(0,Wo.alwaysValidSchema)(o,n)){let f=r.var("valid",(0,bt._)`${a} <= ${e.length}`);r.if((0,bt.not)(f),()=>u(f)),t.ok(f)}function u(f){r.forRange("i",e.length,a,c=>{t.subschema({keyword:s,dataProp:c,dataPropType:Wo.Type.Num},f),o.allErrors||r.if((0,bt.not)(f),()=>r.break())})}}zr.validateAdditionalItems=Qd;zr.default=dE});var Yo=y(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.validateTuple=void 0;var el=T(),bi=x(),lE=$e(),pE={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return tl(t,"additionalItems",e);r.items=!0,!(0,bi.alwaysValidSchema)(r,e)&&t.ok((0,lE.validateArray)(t))}};function tl(t,e,r=t.schema){let{gen:n,parentSchema:i,data:s,keyword:o,it:a}=t;c(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=bi.mergeEvaluated.items(n,r.length,a.items));let u=n.name("valid"),f=n.const("len",(0,el._)`${s}.length`);r.forEach((d,m)=>{(0,bi.alwaysValidSchema)(a,d)||(n.if((0,el._)`${f} > ${m}`,()=>t.subschema({keyword:o,schemaProp:m,dataProp:m},u)),t.ok(u))});function c(d){let{opts:m,errSchemaPath:h}=a,l=r.length,p=l===d.minItems&&(l===d.maxItems||d[e]===!1);if(m.strictTuples&&!p){let g=`"${o}" is ${l}-tuple, but minItems or maxItems/${e} are not specified or different at path "${h}"`;(0,bi.checkStrictMode)(a,g,m.strictTuples)}}}Ur.validateTuple=tl;Ur.default=pE});var rl=y(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});var hE=Yo(),mE={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,hE.validateTuple)(t,"items")};Jo.default=mE});var il=y(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});var nl=T(),yE=x(),gE=$e(),_E=Ho(),vE={message:({params:{len:t}})=>(0,nl.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,nl._)`{limit: ${t}}`},$E={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:vE,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:i}=r;n.items=!0,!(0,yE.alwaysValidSchema)(n,e)&&(i?(0,_E.validateAdditionalItems)(t,i):t.ok((0,gE.validateArray)(t)))}};Xo.default=$E});var sl=y(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});var Ee=T(),Ni=x(),wE={message:({params:{min:t,max:e}})=>e===void 0?(0,Ee.str)`must contain at least ${t} valid item(s)`:(0,Ee.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Ee._)`{minContains: ${t}}`:(0,Ee._)`{minContains: ${t}, maxContains: ${e}}`},EE={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:wE,code(t){let{gen:e,schema:r,parentSchema:n,data:i,it:s}=t,o,a,{minContains:u,maxContains:f}=n;s.opts.next?(o=u===void 0?1:u,a=f):o=1;let c=e.const("len",(0,Ee._)`${i}.length`);if(t.setParams({min:o,max:a}),a===void 0&&o===0){(0,Ni.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Ni.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Ni.alwaysValidSchema)(s,r)){let p=(0,Ee._)`${c} >= ${o}`;a!==void 0&&(p=(0,Ee._)`${p} && ${c} <= ${a}`),t.pass(p);return}s.items=!0;let d=e.name("valid");a===void 0&&o===1?h(d,()=>e.if(d,()=>e.break())):o===0?(e.let(d,!0),a!==void 0&&e.if((0,Ee._)`${i}.length > 0`,m)):(e.let(d,!1),m()),t.result(d,()=>t.reset());function m(){let p=e.name("_valid"),g=e.let("count",0);h(p,()=>e.if(p,()=>l(g)))}function h(p,g){e.forRange("i",0,c,_=>{t.subschema({keyword:"contains",dataProp:_,dataPropType:Ni.Type.Num,compositeRule:!0},p),g()})}function l(p){e.code((0,Ee._)`${p}++`),a===void 0?e.if((0,Ee._)`${p} >= ${o}`,()=>e.assign(d,!0).break()):(e.if((0,Ee._)`${p} > ${a}`,()=>e.assign(d,!1).break()),o===1?e.assign(d,!0):e.if((0,Ee._)`${p} >= ${o}`,()=>e.assign(d,!0)))}}};Zo.default=EE});var ul=y(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.validateSchemaDeps=Le.validatePropertyDeps=Le.error=void 0;var Qo=T(),SE=x(),Kr=$e();Le.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return(0,Qo.str)`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>(0,Qo._)`{property: ${t},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${r}}`};var OE={keyword:"dependencies",type:"object",schemaType:"object",error:Le.error,code(t){let[e,r]=PE(t);ol(t,e),al(t,r)}};function PE({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let i=Array.isArray(t[n])?e:r;i[n]=t[n]}return[e,r]}function ol(t,e=t.schema){let{gen:r,data:n,it:i}=t;if(Object.keys(e).length===0)return;let s=r.let("missing");for(let o in e){let a=e[o];if(a.length===0)continue;let u=(0,Kr.propertyInData)(r,n,o,i.opts.ownProperties);t.setParams({property:o,depsCount:a.length,deps:a.join(", ")}),i.allErrors?r.if(u,()=>{for(let f of a)(0,Kr.checkReportMissingProp)(t,f)}):(r.if((0,Qo._)`${u} && (${(0,Kr.checkMissingProp)(t,a,s)})`),(0,Kr.reportMissingProp)(t,s),r.else())}}Le.validatePropertyDeps=ol;function al(t,e=t.schema){let{gen:r,data:n,keyword:i,it:s}=t,o=r.name("valid");for(let a in e)(0,SE.alwaysValidSchema)(s,e[a])||(r.if((0,Kr.propertyInData)(r,n,a,s.opts.ownProperties),()=>{let u=t.subschema({keyword:i,schemaProp:a},o);t.mergeValidEvaluated(u,o)},()=>r.var(o,!0)),t.ok(o))}Le.validateSchemaDeps=al;Le.default=OE});var cl=y(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});var fl=T(),bE=x(),NE={message:"property name must be valid",params:({params:t})=>(0,fl._)`{propertyName: ${t.propertyName}}`},IE={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:NE,code(t){let{gen:e,schema:r,data:n,it:i}=t;if((0,bE.alwaysValidSchema)(i,r))return;let s=e.name("valid");e.forIn("key",n,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),e.if((0,fl.not)(s),()=>{t.error(!0),i.allErrors||e.break()})}),t.ok(s)}};ea.default=IE});var ra=y(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});var Ii=$e(),Te=T(),TE=Be(),Ti=x(),jE={message:"must NOT have additional properties",params:({params:t})=>(0,Te._)`{additionalProperty: ${t.additionalProperty}}`},DE={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:jE,code(t){let{gen:e,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=t;if(!s)throw new Error("ajv implementation error");let{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,Ti.alwaysValidSchema)(o,r))return;let f=(0,Ii.allSchemaProperties)(n.properties),c=(0,Ii.allSchemaProperties)(n.patternProperties);d(),t.ok((0,Te._)`${s} === ${TE.default.errors}`);function d(){e.forIn("key",i,g=>{!f.length&&!c.length?l(g):e.if(m(g),()=>l(g))})}function m(g){let _;if(f.length>8){let $=(0,Ti.schemaRefOrVal)(o,n.properties,"properties");_=(0,Ii.isOwnProperty)(e,$,g)}else f.length?_=(0,Te.or)(...f.map($=>(0,Te._)`${g} === ${$}`)):_=Te.nil;return c.length&&(_=(0,Te.or)(_,...c.map($=>(0,Te._)`${(0,Ii.usePattern)(t,$)}.test(${g})`))),(0,Te.not)(_)}function h(g){e.code((0,Te._)`delete ${i}[${g}]`)}function l(g){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){h(g);return}if(r===!1){t.setParams({additionalProperty:g}),t.error(),a||e.break();return}if(typeof r=="object"&&!(0,Ti.alwaysValidSchema)(o,r)){let _=e.name("valid");u.removeAdditional==="failing"?(p(g,_,!1),e.if((0,Te.not)(_),()=>{t.reset(),h(g)})):(p(g,_),a||e.if((0,Te.not)(_),()=>e.break()))}}function p(g,_,$){let E={keyword:"additionalProperties",dataProp:g,dataPropType:Ti.Type.Str};$===!1&&Object.assign(E,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(E,_)}}};ta.default=DE});var pl=y(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});var RE=Tr(),dl=$e(),na=x(),ll=ra(),AE={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:i,it:s}=t;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&ll.default.code(new RE.KeywordCxt(s,ll.default,"additionalProperties"));let o=(0,dl.allSchemaProperties)(r);for(let d of o)s.definedProperties.add(d);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=na.mergeEvaluated.props(e,(0,na.toHash)(o),s.props));let a=o.filter(d=>!(0,na.alwaysValidSchema)(s,r[d]));if(a.length===0)return;let u=e.name("valid");for(let d of a)f(d)?c(d):(e.if((0,dl.propertyInData)(e,i,d,s.opts.ownProperties)),c(d),s.allErrors||e.else().var(u,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(u);function f(d){return s.opts.useDefaults&&!s.compositeRule&&r[d].default!==void 0}function c(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},u)}}};ia.default=AE});var gl=y(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});var hl=$e(),ji=T(),ml=x(),yl=x(),qE={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:i,it:s}=t,{opts:o}=s,a=(0,hl.allSchemaProperties)(r),u=a.filter(p=>(0,ml.alwaysValidSchema)(s,r[p]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;let f=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=e.name("valid");s.props!==!0&&!(s.props instanceof ji.Name)&&(s.props=(0,yl.evaluatedPropsToName)(e,s.props));let{props:d}=s;m();function m(){for(let p of a)f&&h(p),s.allErrors?l(p):(e.var(c,!0),l(p),e.if(c))}function h(p){for(let g in f)new RegExp(p).test(g)&&(0,ml.checkStrictMode)(s,`property ${g} matches pattern ${p} (use allowMatchingProperties)`)}function l(p){e.forIn("key",n,g=>{e.if((0,ji._)`${(0,hl.usePattern)(t,p)}.test(${g})`,()=>{let _=u.includes(p);_||t.subschema({keyword:"patternProperties",schemaProp:p,dataProp:g,dataPropType:yl.Type.Str},c),s.opts.unevaluated&&d!==!0?e.assign((0,ji._)`${d}[${g}]`,!0):!_&&!s.allErrors&&e.if((0,ji.not)(c),()=>e.break())})})}}};sa.default=qE});var _l=y(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});var ME=x(),CE={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if((0,ME.alwaysValidSchema)(n,r)){t.fail();return}let i=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),t.failResult(i,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};oa.default=CE});var vl=y(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});var xE=$e(),LE={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:xE.validateUnion,error:{message:"must match a schema in anyOf"}};aa.default=LE});var $l=y(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});var Di=T(),FE=x(),VE={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Di._)`{passingSchemas: ${t.passing}}`},zE={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:VE,code(t){let{gen:e,schema:r,parentSchema:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;let s=r,o=e.let("valid",!1),a=e.let("passing",null),u=e.name("_valid");t.setParams({passing:a}),e.block(f),t.result(o,()=>t.reset(),()=>t.error(!0));function f(){s.forEach((c,d)=>{let m;(0,FE.alwaysValidSchema)(i,c)?e.var(u,!0):m=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},u),d>0&&e.if((0,Di._)`${u} && ${o}`).assign(o,!1).assign(a,(0,Di._)`[${a}, ${d}]`).else(),e.if(u,()=>{e.assign(o,!0),e.assign(a,d),m&&t.mergeEvaluated(m,Di.Name)})})}}};ua.default=zE});var wl=y(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});var UE=x(),KE={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let i=e.name("valid");r.forEach((s,o)=>{if((0,UE.alwaysValidSchema)(n,s))return;let a=t.subschema({keyword:"allOf",schemaProp:o},i);t.ok(i),t.mergeEvaluated(a)})}};fa.default=KE});var Ol=y(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});var Ri=T(),Sl=x(),kE={message:({params:t})=>(0,Ri.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Ri._)`{failingKeyword: ${t.ifClause}}`},BE={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:kE,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,Sl.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let i=El(n,"then"),s=El(n,"else");if(!i&&!s)return;let o=e.let("valid",!0),a=e.name("_valid");if(u(),t.reset(),i&&s){let c=e.let("ifClause");t.setParams({ifClause:c}),e.if(a,f("then",c),f("else",c))}else i?e.if(a,f("then")):e.if((0,Ri.not)(a),f("else"));t.pass(o,()=>t.error(!0));function u(){let c=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(c)}function f(c,d){return()=>{let m=t.subschema({keyword:c},a);e.assign(o,a),t.mergeValidEvaluated(m,o),d?e.assign(d,(0,Ri._)`${c}`):t.setParams({ifClause:c})}}}};function El(t,e){let r=t.schema[e];return r!==void 0&&!(0,Sl.alwaysValidSchema)(t,r)}ca.default=BE});var Pl=y(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});var GE=x(),WE={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,GE.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};da.default=WE});var bl=y(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});var HE=Ho(),YE=rl(),JE=Yo(),XE=il(),ZE=sl(),QE=ul(),eS=cl(),tS=ra(),rS=pl(),nS=gl(),iS=_l(),sS=vl(),oS=$l(),aS=wl(),uS=Ol(),fS=Pl();function cS(t=!1){let e=[iS.default,sS.default,oS.default,aS.default,uS.default,fS.default,eS.default,tS.default,QE.default,rS.default,nS.default];return t?e.push(YE.default,XE.default):e.push(HE.default,JE.default),e.push(ZE.default),e}la.default=cS});var Nl=y(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var X=T(),dS={message:({schemaCode:t})=>(0,X.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,X._)`{format: ${t}}`},lS={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:dS,code(t,e){let{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=t,{opts:u,errSchemaPath:f,schemaEnv:c,self:d}=a;if(!u.validateFormats)return;i?m():h();function m(){let l=r.scopeValue("formats",{ref:d.formats,code:u.code.formats}),p=r.const("fDef",(0,X._)`${l}[${o}]`),g=r.let("fType"),_=r.let("format");r.if((0,X._)`typeof ${p} == "object" && !(${p} instanceof RegExp)`,()=>r.assign(g,(0,X._)`${p}.type || "string"`).assign(_,(0,X._)`${p}.validate`),()=>r.assign(g,(0,X._)`"string"`).assign(_,p)),t.fail$data((0,X.or)($(),E()));function $(){return u.strictSchema===!1?X.nil:(0,X._)`${o} && !${_}`}function E(){let I=c.$async?(0,X._)`(${p}.async ? await ${_}(${n}) : ${_}(${n}))`:(0,X._)`${_}(${n})`,w=(0,X._)`(typeof ${_} == "function" ? ${I} : ${_}.test(${n}))`;return(0,X._)`${_} && ${_} !== true && ${g} === ${e} && !${w}`}}function h(){let l=d.formats[s];if(!l){$();return}if(l===!0)return;let[p,g,_]=E(l);p===e&&t.pass(I());function $(){if(u.strictSchema===!1){d.logger.warn(w());return}throw new Error(w());function w(){return`unknown format "${s}" ignored in schema at path "${f}"`}}function E(w){let N=w instanceof RegExp?(0,X.regexpCode)(w):u.code.formats?(0,X._)`${u.code.formats}${(0,X.getProperty)(s)}`:void 0,O=r.scopeValue("formats",{key:s,ref:w,code:N});return typeof w=="object"&&!(w instanceof RegExp)?[w.type||"string",w.validate,(0,X._)`${O}.validate`]:["string",w,O]}function I(){if(typeof l=="object"&&!(l instanceof RegExp)&&l.async){if(!c.$async)throw new Error("async format in sync schema");return(0,X._)`await ${_}(${n})`}return typeof g=="function"?(0,X._)`${_}(${n})`:(0,X._)`${_}.test(${n})`}}}};pa.default=lS});var Il=y(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});var pS=Nl(),hS=[pS.default];ha.default=hS});var Tl=y(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.contentVocabulary=Ut.metadataVocabulary=void 0;Ut.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Ut.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Dl=y(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});var mS=Ld(),yS=Zd(),gS=bl(),_S=Il(),jl=Tl(),vS=[mS.default,yS.default,(0,gS.default)(),_S.default,jl.metadataVocabulary,jl.contentVocabulary];ma.default=vS});var Al=y(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.DiscrError=void 0;var Rl;(function(t){t.Tag="tag",t.Mapping="mapping"})(Rl||(Ai.DiscrError=Rl={}))});var Ml=y(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});var Kt=T(),ya=Al(),ql=mi(),$S=jr(),wS=x(),ES={message:({params:{discrError:t,tagName:e}})=>t===ya.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Kt._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},SS={keyword:"discriminator",type:"object",schemaType:"object",error:ES,code(t){let{gen:e,data:r,schema:n,parentSchema:i,it:s}=t,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let u=e.let("valid",!1),f=e.const("tag",(0,Kt._)`${r}${(0,Kt.getProperty)(a)}`);e.if((0,Kt._)`typeof ${f} == "string"`,()=>c(),()=>t.error(!1,{discrError:ya.DiscrError.Tag,tag:f,tagName:a})),t.ok(u);function c(){let h=m();e.if(!1);for(let l in h)e.elseIf((0,Kt._)`${f} === ${l}`),e.assign(u,d(h[l]));e.else(),t.error(!1,{discrError:ya.DiscrError.Mapping,tag:f,tagName:a}),e.endIf()}function d(h){let l=e.name("valid"),p=t.subschema({keyword:"oneOf",schemaProp:h},l);return t.mergeEvaluated(p,Kt.Name),l}function m(){var h;let l={},p=_(i),g=!0;for(let I=0;I<o.length;I++){let w=o[I];if(w?.$ref&&!(0,wS.schemaHasRulesButRef)(w,s.self.RULES)){let O=w.$ref;if(w=ql.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,O),w instanceof ql.SchemaEnv&&(w=w.schema),w===void 0)throw new $S.default(s.opts.uriResolver,s.baseId,O)}let N=(h=w?.properties)===null||h===void 0?void 0:h[a];if(typeof N!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);g=g&&(p||_(w)),$(N,I)}if(!g)throw new Error(`discriminator: "${a}" must be required`);return l;function _({required:I}){return Array.isArray(I)&&I.includes(a)}function $(I,w){if(I.const)E(I.const,w);else if(I.enum)for(let N of I.enum)E(N,w);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function E(I,w){if(typeof I!="string"||I in l)throw new Error(`discriminator: "${a}" values must be unique strings`);l[I]=w}}}};ga.default=SS});var Cl=y((J1,OS)=>{OS.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var va=y((B,_a)=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.MissingRefError=B.ValidationError=B.CodeGen=B.Name=B.nil=B.stringify=B.str=B._=B.KeywordCxt=B.Ajv=void 0;var PS=Rd(),bS=Dl(),NS=Ml(),xl=Cl(),IS=["/properties"],qi="http://json-schema.org/draft-07/schema",kt=class extends PS.default{_addVocabularies(){super._addVocabularies(),bS.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(NS.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(xl,IS):xl;this.addMetaSchema(e,qi,!1),this.refs["http://json-schema.org/schema"]=qi}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(qi)?qi:void 0)}};B.Ajv=kt;_a.exports=B=kt;_a.exports.Ajv=kt;Object.defineProperty(B,"__esModule",{value:!0});B.default=kt;var TS=Tr();Object.defineProperty(B,"KeywordCxt",{enumerable:!0,get:function(){return TS.KeywordCxt}});var Bt=T();Object.defineProperty(B,"_",{enumerable:!0,get:function(){return Bt._}});Object.defineProperty(B,"str",{enumerable:!0,get:function(){return Bt.str}});Object.defineProperty(B,"stringify",{enumerable:!0,get:function(){return Bt.stringify}});Object.defineProperty(B,"nil",{enumerable:!0,get:function(){return Bt.nil}});Object.defineProperty(B,"Name",{enumerable:!0,get:function(){return Bt.Name}});Object.defineProperty(B,"CodeGen",{enumerable:!0,get:function(){return Bt.CodeGen}});var jS=pi();Object.defineProperty(B,"ValidationError",{enumerable:!0,get:function(){return jS.default}});var DS=jr();Object.defineProperty(B,"MissingRefError",{enumerable:!0,get:function(){return DS.default}})});var Ul=y(($a,zl)=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});var Ll=T(),Fl=["undefined","string","number","object","function","boolean","symbol"];function Vl(){return{keyword:"typeof",schemaType:["string","array"],code(t){let{data:e,schema:r,schemaValue:n}=t;t.fail(typeof r=="string"?(0,Ll._)`typeof ${e} != ${r}`:(0,Ll._)`${n}.indexOf(typeof ${e}) < 0`)},metaSchema:{anyOf:[{type:"string",enum:Fl},{type:"array",items:{type:"string",enum:Fl}}]}}}$a.default=Vl;zl.exports=Vl});var Bl=y((kr,kl)=>{"use strict";var RS=kr&&kr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kr,"__esModule",{value:!0});var AS=RS(Ul()),Kl=t=>t.addKeyword((0,AS.default)());kr.default=Kl;kl.exports=Kl});var Yl=y((wa,Hl)=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});var Mi={Object,Array,Function,Number,String,Date,RegExp};typeof Buffer<"u"&&(Mi.Buffer=Buffer);typeof Promise<"u"&&(Mi.Promise=Promise);var Wl=Object.assign(qS,{CONSTRUCTORS:Mi});function qS(){return{keyword:"instanceof",schemaType:["string","array"],compile(t){if(typeof t=="string"){let e=Gl(t);return r=>r instanceof e}if(Array.isArray(t)){let e=t.map(Gl);return r=>{for(let n of e)if(r instanceof n)return!0;return!1}}throw new Error("ajv implementation error")},metaSchema:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}]}}}function Gl(t){let e=Mi[t];if(e)return e;throw new Error(`invalid "instanceof" keyword value ${t}`)}wa.default=Wl;Hl.exports=Wl});var Zl=y((Br,Xl)=>{"use strict";var MS=Br&&Br.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Br,"__esModule",{value:!0});var CS=MS(Yl()),Jl=t=>t.addKeyword((0,CS.default)());Br.default=Jl;Xl.exports=Jl});var Sa=y(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});function xS(t){return()=>({keyword:t,type:"number",schemaType:"array",macro:function([r,n]){return e(r,n),t==="range"?{minimum:r,maximum:n}:{exclusiveMinimum:r,exclusiveMaximum:n}},metaSchema:{type:"array",minItems:2,maxItems:2,items:{type:"number"}}});function e(r,n){if(r>n||t==="exclusiveRange"&&r===n)throw new Error("There are no numbers in range")}}Ea.default=xS});var tp=y((Gr,ep)=>{"use strict";var LS=Gr&&Gr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gr,"__esModule",{value:!0});var FS=LS(Sa()),Ql=(0,FS.default)("range");Gr.default=Ql;ep.exports=Ql});var ip=y((Wr,np)=>{"use strict";var VS=Wr&&Wr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wr,"__esModule",{value:!0});var zS=VS(tp()),rp=t=>t.addKeyword((0,zS.default)());Wr.default=rp;np.exports=rp});var ap=y((Hr,op)=>{"use strict";var US=Hr&&Hr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hr,"__esModule",{value:!0});var KS=US(Sa()),sp=(0,KS.default)("exclusiveRange");Hr.default=sp;op.exports=sp});var cp=y((Yr,fp)=>{"use strict";var kS=Yr&&Yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yr,"__esModule",{value:!0});var BS=kS(ap()),up=t=>t.addKeyword((0,BS.default)());Yr.default=up;fp.exports=up});var Jr=y(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.usePattern=Gt.metaSchemaRef=void 0;var GS=T(),WS="http://json-schema.org/schema";function HS({defaultMeta:t}={}){return t===!1?{}:{$ref:t||WS}}Gt.metaSchemaRef=HS;function YS({gen:t,it:{opts:e}},r,n=e.unicodeRegExp?"u":""){let i=new RegExp(r,n);return t.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,GS._)`new RegExp(${r}, ${n})`})}Gt.usePattern=YS});var hp=y((Oa,pp)=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});var JS=T(),dp=Jr(),XS={type:"object",properties:{pattern:{type:"string"},flags:{type:"string",nullable:!0}},required:["pattern"],additionalProperties:!1},ZS=/^\/(.*)\/([gimuy]*)$/;function lp(){return{keyword:"regexp",type:"string",schemaType:["string","object"],code(t){let{data:e,schema:r}=t,n=i(r);t.pass((0,JS._)`${n}.test(${e})`);function i(s){if(typeof s=="object")return(0,dp.usePattern)(t,s.pattern,s.flags);let o=ZS.exec(s);if(o)return(0,dp.usePattern)(t,o[1],o[2]);throw new Error("cannot parse string into RegExp")}},metaSchema:{anyOf:[{type:"string"},XS]}}}Oa.default=lp;pp.exports=lp});var gp=y((Xr,yp)=>{"use strict";var QS=Xr&&Xr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xr,"__esModule",{value:!0});var eO=QS(hp()),mp=t=>t.addKeyword((0,eO.default)());Xr.default=mp;yp.exports=mp});var wp=y((Pa,$p)=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});var Nt=T(),Ci={trimStart:t=>t.trimStart(),trimEnd:t=>t.trimEnd(),trimLeft:t=>t.trimStart(),trimRight:t=>t.trimEnd(),trim:t=>t.trim(),toLowerCase:t=>t.toLowerCase(),toUpperCase:t=>t.toUpperCase(),toEnumCase:(t,e)=>e?.hash[vp(t)]||t},_p=Object.assign(tO,{transform:Ci});function tO(){return{keyword:"transform",schemaType:"array",before:"enum",code(t){let{gen:e,data:r,schema:n,parentSchema:i,it:s}=t,{parentData:o,parentDataProperty:a}=s,u=n;if(!u.length)return;let f;if(u.includes("toEnumCase")){let d=rO(i);f=e.scopeValue("obj",{ref:d,code:(0,Nt.stringify)(d)})}e.if((0,Nt._)`typeof ${r} == "string" && ${o} !== undefined`,()=>{e.assign(r,c(u.slice())),e.assign((0,Nt._)`${o}[${a}]`,r)});function c(d){if(!d.length)return r;let m=d.pop();if(!(m in Ci))throw new Error(`transform: unknown transformation ${m}`);let h=e.scopeValue("func",{ref:Ci[m],code:(0,Nt._)`require("ajv-keywords/dist/definitions/transform").transform${(0,Nt.getProperty)(m)}`}),l=c(d);return f&&m==="toEnumCase"?(0,Nt._)`${h}(${l}, ${f})`:(0,Nt._)`${h}(${l})`}},metaSchema:{type:"array",items:{type:"string",enum:Object.keys(Ci)}}}}function rO(t){let e={hash:{}};if(!t.enum)throw new Error('transform: "toEnumCase" requires "enum"');for(let r of t.enum){if(typeof r!="string")continue;let n=vp(r);if(e.hash[n])throw new Error('transform: "toEnumCase" requires all lowercased "enum" values to be unique');e.hash[n]=r}return e}function vp(t){return t.toLowerCase()}Pa.default=_p;$p.exports=_p});var Op=y((Zr,Sp)=>{"use strict";var nO=Zr&&Zr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zr,"__esModule",{value:!0});var iO=nO(wp()),Ep=t=>t.addKeyword((0,iO.default)());Zr.default=Ep;Sp.exports=Ep});var Np=y((ba,bp)=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});var sO=fi(),oO=["number","integer","string","boolean","null"];function Pp(){return{keyword:"uniqueItemProperties",type:"array",schemaType:"array",compile(t,e){let r=aO(t,e);return n=>{if(n.length<=1)return!0;for(let i=0;i<t.length;i++){let s=t[i];if(r[i]){let o={};for(let a of n){if(!a||typeof a!="object")continue;let u=a[s];if(!(u&&typeof u=="object")){if(typeof u=="string"&&(u='"'+u),o[u])return!1;o[u]=!0}}}else for(let o=n.length;o--;){let a=n[o];if(!(!a||typeof a!="object"))for(let u=o;u--;){let f=n[u];if(f&&typeof f=="object"&&sO(a[s],f[s]))return!1}}}return!0}},metaSchema:{type:"array",items:{type:"string"}}}}ba.default=Pp;function aO(t,e){return t.map(r=>{var n,i,s;let o=(s=(i=(n=e.items)===null||n===void 0?void 0:n.properties)===null||i===void 0?void 0:i[r])===null||s===void 0?void 0:s.type;return Array.isArray(o)?!o.includes("object")&&!o.includes("array"):oO.includes(o)})}bp.exports=Pp});var jp=y((Qr,Tp)=>{"use strict";var uO=Qr&&Qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qr,"__esModule",{value:!0});var fO=uO(Np()),Ip=t=>t.addKeyword((0,fO.default)());Qr.default=Ip;Tp.exports=Ip});var Ap=y((Na,Rp)=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});function Dp(){return{keyword:"allRequired",type:"object",schemaType:"boolean",macro(t,e){if(!t)return!0;let r=Object.keys(e.properties);return r.length===0?!0:{required:r}},dependencies:["properties"]}}Na.default=Dp;Rp.exports=Dp});var Cp=y((en,Mp)=>{"use strict";var cO=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(en,"__esModule",{value:!0});var dO=cO(Ap()),qp=t=>t.addKeyword((0,dO.default)());en.default=qp;Mp.exports=qp});var Ta=y(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});function lO(t){return()=>({keyword:t,type:"object",schemaType:"array",macro(e){return e.length===0?!0:e.length===1?{required:e}:{[t==="anyRequired"?"anyOf":"oneOf"]:e.map(n=>({required:[n]}))}},metaSchema:{type:"array",items:{type:"string"}}})}Ia.default=lO});var Fp=y((tn,Lp)=>{"use strict";var pO=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tn,"__esModule",{value:!0});var hO=pO(Ta()),xp=(0,hO.default)("anyRequired");tn.default=xp;Lp.exports=xp});var Up=y((rn,zp)=>{"use strict";var mO=rn&&rn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rn,"__esModule",{value:!0});var yO=mO(Fp()),Vp=t=>t.addKeyword((0,yO.default)());rn.default=Vp;zp.exports=Vp});var Bp=y((nn,kp)=>{"use strict";var gO=nn&&nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nn,"__esModule",{value:!0});var _O=gO(Ta()),Kp=(0,_O.default)("oneRequired");nn.default=Kp;kp.exports=Kp});var Hp=y((sn,Wp)=>{"use strict";var vO=sn&&sn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sn,"__esModule",{value:!0});var $O=vO(Bp()),Gp=t=>t.addKeyword((0,$O.default)());sn.default=Gp;Wp.exports=Gp});var Xp=y((ja,Jp)=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});var xi=T(),wO=Jr(),EO={message:({params:{missingPattern:t}})=>(0,xi.str)`should have property matching pattern '${t}'`,params:({params:{missingPattern:t}})=>(0,xi._)`{missingPattern: ${t}}`};function Yp(){return{keyword:"patternRequired",type:"object",schemaType:"array",error:EO,code(t){let{gen:e,schema:r,data:n}=t;if(r.length===0)return;let i=e.let("valid",!0);for(let o of r)s(o);function s(o){let a=e.let("matched",!1);e.forIn("key",n,u=>{e.assign(a,(0,xi._)`${(0,wO.usePattern)(t,o)}.test(${u})`),e.if(a,()=>e.break())}),t.setParams({missingPattern:o}),e.assign(i,(0,xi.and)(i,a)),t.pass(i)}},metaSchema:{type:"array",items:{type:"string",format:"regex"},uniqueItems:!0}}}ja.default=Yp;Jp.exports=Yp});var eh=y((on,Qp)=>{"use strict";var SO=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(on,"__esModule",{value:!0});var OO=SO(Xp()),Zp=t=>t.addKeyword((0,OO.default)());on.default=Zp;Qp.exports=Zp});var nh=y((Da,rh)=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});function th(){return{keyword:"prohibited",type:"object",schemaType:"array",macro:function(t){return t.length===0?!0:t.length===1?{not:{required:t}}:{not:{anyOf:t.map(e=>({required:[e]}))}}},metaSchema:{type:"array",items:{type:"string"}}}}Da.default=th;rh.exports=th});var oh=y((an,sh)=>{"use strict";var PO=an&&an.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(an,"__esModule",{value:!0});var bO=PO(nh()),ih=t=>t.addKeyword((0,bO.default)());an.default=ih;sh.exports=ih});var fh=y((Ra,uh)=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});var NO=Jr();function ah(t){return{keyword:"deepProperties",type:"object",schemaType:"object",macro:function(e){let r=[];for(let n in e)r.push(IO(n,e[n]));return{allOf:r}},metaSchema:{type:"object",propertyNames:{type:"string",format:"json-pointer"},additionalProperties:(0,NO.metaSchemaRef)(t)}}}Ra.default=ah;function IO(t,e){let r=t.split("/"),n={},i=n;for(let s=1;s<r.length;s++){let o=r[s],a=s===r.length-1;o=TO(o);let u=i.properties={},f;if(/[0-9]+/.test(o)){let c=+o;for(f=i.items=[],i.type=["object","array"];c--;)f.push({})}else i.type="object";i=a?e:{},u[o]=i,f&&f.push(i)}return n}function TO(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}uh.exports=ah});var lh=y((un,dh)=>{"use strict";var jO=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(un,"__esModule",{value:!0});var DO=jO(fh()),ch=(t,e)=>t.addKeyword((0,DO.default)(e));un.default=ch;dh.exports=ch});var mh=y((Aa,hh)=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});var fn=T();function ph(){return{keyword:"deepRequired",type:"object",schemaType:"array",code(t){let{schema:e,data:r}=t,n=e.map(s=>(0,fn._)`(${i(s)}) === undefined`);t.fail((0,fn.or)(...n));function i(s){if(s==="")throw new Error("empty JSON pointer not allowed");let o=s.split("/"),a=r,u=o.map((f,c)=>c?a=(0,fn._)`${a}${(0,fn.getProperty)(RO(f))}`:a);return(0,fn.and)(...u)}},metaSchema:{type:"array",items:{type:"string",format:"json-pointer"}}}}Aa.default=ph;function RO(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}hh.exports=ph});var _h=y((cn,gh)=>{"use strict";var AO=cn&&cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cn,"__esModule",{value:!0});var qO=AO(mh()),yh=t=>t.addKeyword((0,qO.default)());cn.default=yh;gh.exports=yh});var Eh=y((Ca,wh)=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});var qa={},Ma={timestamp:()=>()=>Date.now(),datetime:()=>()=>new Date().toISOString(),date:()=>()=>new Date().toISOString().slice(0,10),time:()=>()=>new Date().toISOString().slice(11),random:()=>()=>Math.random(),randomint:t=>{var e;let r=(e=t?.max)!==null&&e!==void 0?e:2;return()=>Math.floor(Math.random()*r)},seq:t=>{var e;let r=(e=t?.name)!==null&&e!==void 0?e:"";return qa[r]||(qa[r]=0),()=>qa[r]++}},vh=Object.assign(MO,{DEFAULTS:Ma});function MO(){return{keyword:"dynamicDefaults",type:"object",schemaType:["string","object"],modifying:!0,valid:!0,compile(t,e,r){if(!r.opts.useDefaults||r.compositeRule)return()=>!0;let n={};for(let s in t)n[s]=CO(t[s]);let i=r.opts.useDefaults==="empty";return s=>{for(let o in t)(s[o]===void 0||i&&(s[o]===null||s[o]===""))&&(s[o]=n[o]());return!0}},metaSchema:{type:"object",additionalProperties:{anyOf:[{type:"string"},{type:"object",additionalProperties:!1,required:["func","args"],properties:{func:{type:"string"},args:{type:"object"}}}]}}}}function CO(t){return typeof t=="object"?xO(t):LO(t)}function xO({func:t,args:e}){let r=Ma[t];return $h(t,r),r(e)}function LO(t=""){let e=Ma[t];return $h(t,e),e()}function $h(t,e){if(!e)throw new Error(`invalid "dynamicDefaults" keyword property value: ${t}`)}Ca.default=vh;wh.exports=vh});var Ph=y((dn,Oh)=>{"use strict";var FO=dn&&dn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dn,"__esModule",{value:!0});var VO=FO(Eh()),Sh=t=>t.addKeyword((0,VO.default)());dn.default=Sh;Oh.exports=Sh});var Ih=y((xa,Nh)=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});var He=T(),zO=Jr(),UO={message:({params:{schemaProp:t}})=>t?(0,He.str)`should match case "${t}" schema`:(0,He.str)`should match default case schema`,params:({params:{schemaProp:t}})=>t?(0,He._)`{failingCase: ${t}}`:(0,He._)`{failingDefault: true}`};function bh(t){let e=(0,zO.metaSchemaRef)(t);return[{keyword:"select",schemaType:["string","number","boolean","null"],$data:!0,error:UO,dependencies:["selectCases"],code(r){let{gen:n,schemaCode:i,parentSchema:s}=r;r.block$data(He.nil,()=>{let o=n.let("valid",!0),a=n.name("_valid"),u=n.const("value",(0,He._)`${i} === null ? "null" : ${i}`);n.if(!1);for(let f in s.selectCases){r.setParams({schemaProp:f}),n.elseIf((0,He._)`"" + ${u} == ${f}`);let c=r.subschema({keyword:"selectCases",schemaProp:f},a);r.mergeEvaluated(c,He.Name),n.assign(o,a)}if(n.else(),s.selectDefault!==void 0){r.setParams({schemaProp:void 0});let f=r.subschema({keyword:"selectDefault"},a);r.mergeEvaluated(f,He.Name),n.assign(o,a)}n.endIf(),r.pass(o)})}},{keyword:"selectCases",dependencies:["select"],metaSchema:{type:"object",additionalProperties:e}},{keyword:"selectDefault",dependencies:["select","selectCases"],metaSchema:e}]}xa.default=bh;Nh.exports=bh});var Dh=y((ln,jh)=>{"use strict";var KO=ln&&ln.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ln,"__esModule",{value:!0});var kO=KO(Ih()),Th=(t,e)=>((0,kO.default)(e).forEach(r=>t.addKeyword(r)),t);ln.default=Th;jh.exports=Th});var qh=y((pn,Ah)=>{"use strict";var ue=pn&&pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pn,"__esModule",{value:!0});var BO=ue(Bl()),GO=ue(Zl()),WO=ue(ip()),HO=ue(cp()),YO=ue(gp()),JO=ue(Op()),XO=ue(jp()),ZO=ue(Cp()),QO=ue(Up()),eP=ue(Hp()),tP=ue(eh()),rP=ue(oh()),nP=ue(lh()),iP=ue(_h()),sP=ue(Ph()),oP=ue(Dh()),Rh={typeof:BO.default,instanceof:GO.default,range:WO.default,exclusiveRange:HO.default,regexp:YO.default,transform:JO.default,uniqueItemProperties:XO.default,allRequired:ZO.default,anyRequired:QO.default,oneRequired:eP.default,patternRequired:tP.default,prohibited:rP.default,deepProperties:nP.default,deepRequired:iP.default,dynamicDefaults:sP.default,select:oP.default};pn.default=Rh;Ah.exports=Rh});var Ch=y((hn,La)=>{"use strict";var aP=hn&&hn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hn,"__esModule",{value:!0});var Mh=aP(qh()),Fi=(t,e)=>{if(Array.isArray(e)){for(let r of e)Li(r)(t);return t}if(e)return Li(e)(t),t;for(e in Mh.default)Li(e)(t);return t};Fi.get=Li;function Li(t){let e=Mh.default[t];if(!e)throw new Error("Unknown keyword "+t);return e}hn.default=Fi;La.exports=Fi;La.exports.default=Fi});var Uh=y(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.formatNames=Fe.fastFormats=Fe.fullFormats=void 0;function Wt(t,e){return{validate:t,compare:e}}Fe.fullFormats={date:Wt(Fh,za),time:Wt(Vh,Ua),"date-time":Wt(dP,zh),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:hP,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:wP,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:mP,int32:{type:"number",validate:_P},int64:{type:"number",validate:vP},float:{type:"number",validate:Lh},double:{type:"number",validate:Lh},password:!0,binary:!0};Fe.fastFormats={...Fe.fullFormats,date:Wt(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,za),time:Wt(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Ua),"date-time":Wt(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,zh),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};Fe.formatNames=Object.keys(Fe.fullFormats);function uP(t){return t%4===0&&(t%100!==0||t%400===0)}var fP=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,cP=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Fh(t){let e=fP.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],i=+e[3];return n>=1&&n<=12&&i>=1&&i<=(n===2&&uP(r)?29:cP[n])}function za(t,e){if(t&&e)return t>e?1:t<e?-1:0}var Fa=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function Vh(t,e){let r=Fa.exec(t);if(!r)return!1;let n=+r[1],i=+r[2],s=+r[3],o=r[5];return(n<=23&&i<=59&&s<=59||n===23&&i===59&&s===60)&&(!e||o!=="")}function Ua(t,e){if(!(t&&e))return;let r=Fa.exec(t),n=Fa.exec(e);if(r&&n)return t=r[1]+r[2]+r[3]+(r[4]||""),e=n[1]+n[2]+n[3]+(n[4]||""),t>e?1:t<e?-1:0}var Va=/t|\s/i;function dP(t){let e=t.split(Va);return e.length===2&&Fh(e[0])&&Vh(e[1],!0)}function zh(t,e){if(!(t&&e))return;let[r,n]=t.split(Va),[i,s]=e.split(Va),o=za(r,i);if(o!==void 0)return o||Ua(n,s)}var lP=/\/|:/,pP=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function hP(t){return lP.test(t)&&pP.test(t)}var xh=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function mP(t){return xh.lastIndex=0,xh.test(t)}var yP=-(2**31),gP=2**31-1;function _P(t){return Number.isInteger(t)&&t<=gP&&t>=yP}function vP(t){return Number.isInteger(t)}function Lh(){return!0}var $P=/[^\\]\\Z/;function wP(t){if($P.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var Kh=y(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.formatLimitDefinition=void 0;var EP=va(),je=T(),ft=je.operators,Vi={formatMaximum:{okStr:"<=",ok:ft.LTE,fail:ft.GT},formatMinimum:{okStr:">=",ok:ft.GTE,fail:ft.LT},formatExclusiveMaximum:{okStr:"<",ok:ft.LT,fail:ft.GTE},formatExclusiveMinimum:{okStr:">",ok:ft.GT,fail:ft.LTE}},SP={message:({keyword:t,schemaCode:e})=>je.str`should be ${Vi[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>je._`{comparison: ${Vi[t].okStr}, limit: ${e}}`};Ht.formatLimitDefinition={keyword:Object.keys(Vi),type:"string",schemaType:"string",$data:!0,error:SP,code(t){let{gen:e,data:r,schemaCode:n,keyword:i,it:s}=t,{opts:o,self:a}=s;if(!o.validateFormats)return;let u=new EP.KeywordCxt(s,a.RULES.all.format.definition,"format");u.$data?f():c();function f(){let m=e.scopeValue("formats",{ref:a.formats,code:o.code.formats}),h=e.const("fmt",je._`${m}[${u.schemaCode}]`);t.fail$data(je.or(je._`typeof ${h} != "object"`,je._`${h} instanceof RegExp`,je._`typeof ${h}.compare != "function"`,d(h)))}function c(){let m=u.schema,h=a.formats[m];if(!h||h===!0)return;if(typeof h!="object"||h instanceof RegExp||typeof h.compare!="function")throw new Error(`"${i}": format "${m}" does not define "compare" function`);let l=e.scopeValue("formats",{key:m,ref:h,code:o.code.formats?je._`${o.code.formats}${je.getProperty(m)}`:void 0});t.fail$data(d(l))}function d(m){return je._`${m}.compare(${r}, ${n}) ${Vi[i].fail} 0`}},dependencies:["format"]};var OP=t=>(t.addKeyword(Ht.formatLimitDefinition),t);Ht.default=OP});var Wh=y((mn,Gh)=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});var Yt=Uh(),PP=Kh(),Ka=T(),kh=new Ka.Name("fullFormats"),bP=new Ka.Name("fastFormats"),ka=(t,e={keywords:!0})=>{if(Array.isArray(e))return Bh(t,e,Yt.fullFormats,kh),t;let[r,n]=e.mode==="fast"?[Yt.fastFormats,bP]:[Yt.fullFormats,kh],i=e.formats||Yt.formatNames;return Bh(t,i,r,n),e.keywords&&PP.default(t),t};ka.get=(t,e="full")=>{let n=(e==="fast"?Yt.fastFormats:Yt.fullFormats)[t];if(!n)throw new Error(`Unknown format "${t}"`);return n};function Bh(t,e,r,n){var i,s;(i=(s=t.opts.code).formats)!==null&&i!==void 0||(s.formats=Ka._`require("ajv-formats/dist/formats").${n}`);for(let o of e)t.addFormat(o,r[o])}Gh.exports=mn=ka;Object.defineProperty(mn,"__esModule",{value:!0});mn.default=ka});var Yh=y(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.default=void 0;function Hh(t,e,r){return{dataPath:void 0,schemaPath:void 0,keyword:"absolutePath",params:{absolutePath:r},message:t,parentSchema:e}}function NP(t,e,r){let n=t?`The provided value ${JSON.stringify(r)} is not an absolute path!`:`A relative path is expected. However, the provided value ${JSON.stringify(r)} is an absolute path!`;return Hh(n,e,r)}function IP(t){return t.addKeyword({keyword:"absolutePath",type:"string",errors:!0,compile(e,r){let n=i=>{let s=!0;return i.includes("!")&&(n.errors=[Hh(`The provided value ${JSON.stringify(i)} contains exclamation mark (!) which is not allowed because it's reserved for loader syntax.`,r,i)],s=!1),e===/^(?:[A-Za-z]:(\\|\/)|\\\\|\/)/.test(i)||(n.errors=[NP(e,r,i)],s=!1),s};return n.errors=[],n}}),t}var TP=IP;zi.default=TP});var Jh=y(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.default=void 0;function jP(t){return t.addKeyword({keyword:"undefinedAsNull",before:"enum",modifying:!0,validate(e,r,n,i){if(e&&i&&n&&typeof n.enum<"u"){let s=i.parentDataProperty;typeof i.parentData[s]>"u"&&(i.parentData[i.parentDataProperty]=null)}return!0}}),t}var DP=jP;Ui.default=DP});var rm=y(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});Object.defineProperty(It,"ValidationError",{enumerable:!0,get:function(){return Zh.default}});It.disableValidation=MP;It.enableValidation=qP;It.needValidate=tm;It.validate=CP;var Zh=Qh(sc()),RP=Qh(Ds());function Qh(t){return t&&t.__esModule?t:{default:t}}var AP=(0,RP.default)(()=>{let t=va().default,e=Ch().default,r=Wh().default,n=new t({strict:!1,allErrors:!0,verbose:!0,$data:!0});e(n,["instanceof","patternRequired"]),r(n,{keywords:!0});let i=Yh().default;i(n);let s=Jh().default;return s(n),n});function em(t,e){return t.instancePath=`[${e}]${t.instancePath}`,t.children&&t.children.forEach(r=>em(r,e)),t}var Ba=!1;function qP(){Ba=!1,process&&process.env&&(process.env.SKIP_VALIDATION="n")}function MP(){Ba=!0,process&&process.env&&(process.env.SKIP_VALIDATION="y")}function tm(){if(Ba)return!1;if(process&&process.env&&process.env.SKIP_VALIDATION){let t=process.env.SKIP_VALIDATION.trim();if(/^(?:y|yes|true|1|on)$/i.test(t))return!1;if(/^(?:n|no|false|0|off)$/i.test(t))return!0}return!0}function CP(t,e,r){if(!tm())return;let n=[];if(Array.isArray(e))for(let i=0;i<=e.length-1;i++)n.push(...Xh(t,e[i]).map(s=>em(s,i)));else n=Xh(t,e);if(n.length>0)throw new Zh.default(n,t,r)}function Xh(t,e){let r=AP().compile(t);return r(e)?[]:r.errors?xP(r.errors):[]}function xP(t){let e=[];for(let r of t){let{instancePath:n}=r,i=[];e=e.filter(s=>s.instancePath.includes(n)?(s.children&&(i=i.concat(s.children.slice(0))),s.children=void 0,i.push(s),!1):!0),i.length&&(r.children=i),e.push(r)}return e}});var im=y((sN,nm)=>{"use strict";var{validate:LP,ValidationError:FP,enableValidation:VP,disableValidation:zP,needValidate:UP}=rm();nm.exports={validate:LP,ValidationError:FP,enableValidation:VP,disableValidation:zP,needValidate:UP}});var om=y((oN,sm)=>{var{validate:KP}=im();function kP(t,e){KP(e,t)}function BP(t,e){let r={};for(let[n,i]of Object.entries(e))r[n]=t[n],r[n]===void 0&&(r[n]=i.default),i.process&&(r[n]=i.process(r[n]));return r}sm.exports={validateOptions:kP,processOptions:BP}});var um=y((aN,am)=>{am.exports={type:"object",properties:{filerDir:{type:"string"},shimsDir:{type:"string"},shimFs:{type:"boolean"},shimPath:{type:"boolean"},fsProvider:{type:"string"},fsProviderDir:{type:"string"}}}});var cm=y((uN,fm)=>{var Jt=Nn(),Ga="<rootDir>",Xt=process.cwd();fm.exports={filerDir:{process:function(t){return t?Jt.resolve(t.replace(Ga,Xt)):Jt.join(Xt,"node_modules","filer")}},shimsDir:{process:function(t){return t?Jt.resolve(t.replace(Ga,Xt)):Jt.join(Xt,"node_modules","filer","shims")}},fsProviderDir:{process:function(t){return t?Jt.resolve(t.replace(Ga,Xt)):Jt.join(Xt,"node_modules","filer","shims","providers")}},shimFs:{default:!0},shimPath:{default:!0},fsProvider:{default:"default"}}});var hm=y((cN,pm)=>{var Zt=Nn(),dm=om(),lm="filer-webpack-plugin",GP=um(),WP=cm();pm.exports=class{constructor(e={}){dm.validateOptions(e,GP),this.options=dm.processOptions(e,WP)}apply(e){e.hooks.normalModuleFactory.tap(lm,r=>{r.hooks.resolve.tap(lm,n=>{if(n.request==="fsProvider"&&n.context===this.options.shimsDir)return this.resolveFsProvider(n);if(!n.context.startsWith(this.options.filerDir))switch(n.request){case"fs":return this.options.shimFs?this.applyFsShim(n):void 0;case"path":return this.options.shimPath?this.applyPathShim(n):void 0;default:return}})})}resolveFsProvider(e){switch(this.options.fsProvider){case"default":e.request=Zt.join(this.options.fsProviderDir,"default.js");break;case"indexeddb":e.request=Zt.join(this.options.fsProviderDir,"indexeddb.js");break;case"memory":e.request=Zt.join(this.options.fsProviderDir,"memory.js");break;case"custom":e.request=Zt.join(this.options.fsProviderDir,"custom.js");break;default:throw new Error(["Invalid option for fsProvider.","fsProvider must be one of 'default', 'indexeddb', 'memory' or 'custom'.","If using a custom fsProvider, you must also provide the fsProviderDir option."].join(" "))}}applyFsShim(e){e.request=Zt.join(this.options.shimsDir,"fs.js")}applyPathShim(e){e.request=Zt.join(this.options.shimsDir,"path.js")}}});var HP=y((dN,mm)=>{var Wa=null,Ha=null;mm.exports=Ha={FileSystem:Uf(),Buffer,Path:Je(),path:Je(),Errors:jt(),Shell:fs(),FilerWebpackPlugin:hm()};Object.defineProperty(Ha,"fs",{enumerable:!0,get(){return Wa||(Wa=new Ha.FileSystem),Wa}})});return HP();})();
//# sourceMappingURL=filer.min.js.map
